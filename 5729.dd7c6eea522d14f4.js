"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5729],{57648:(e,n,a)=>{a.d(n,{j:()=>AddonBadgesUserBadgesSource});var t=a(10467),i=a(99522),d=a(70548);class AddonBadgesUserBadgesSource extends i.F{constructor(e,n){super(),this.COURSE_ID=e,this.USER_ID=n}getItemPath(e){return e.uniquehash}getItemQueryParams(){return{courseId:this.COURSE_ID,userId:this.USER_ID}}loadPageItems(){var e=this;return(0,t.A)((function*(){return{items:yield d.AddonBadges.getUserBadges(e.COURSE_ID,e.USER_ID)}}))()}}},85729:(e,n,a)=>{a.d(n,{e:()=>j});var t=a(10467),i=a(16474),d=a(89911),o=a(52749),s=a(98870),g=a(70548),r=a(55554),_=a(66110),m=a(15324),u=a(52266),l=a(57648),c=a(83696),p=a(22693),I=a(24742),b=a(3353),B=a(54438),h=a(21182),f=a(60177),R=a(64422),T=a(10892),F=a(58197),$=a(23007),A=a(28988),P=a(88246),E=a(73465),k=a(59528),G=a(73955);const _c0=e=>({$a:e});function AddonBadgesIssuedBadgePage_h1_6_Template(e,n){if(1&e&&(B.j41(0,"h1"),B.EFF(1),B.k0s()),2&e){const e=B.XpG();B.R7$(),B.JRh(e.badge.name)}}function AddonBadgesIssuedBadgePage_h1_7_Template(e,n){1&e&&(B.j41(0,"h1"),B.EFF(1),B.nI1(2,"translate"),B.k0s()),2&e&&(B.R7$(),B.JRh(B.bMT(2,1,"addon.badges.badges")))}function AddonBadgesIssuedBadgePage_ion_item_group_13_img_3_Template(e,n){if(1&e&&B.nrm(0,"img",10),2&e){const e=B.XpG(2);B.Y8G("url",e.badge.badgeurl)("alt",e.badge.name)}}function AddonBadgesIssuedBadgePage_ion_item_group_13_ion_badge_4_Template(e,n){1&e&&(B.j41(0,"ion-badge",11),B.EFF(1),B.nI1(2,"translate"),B.k0s()),2&e&&(B.R7$(),B.SpI(" ",B.bMT(2,1,"addon.badges.expired")," "))}function AddonBadgesIssuedBadgePage_ion_item_group_13_Template(e,n){if(1&e&&(B.j41(0,"ion-item-group")(1,"ion-item",7)(2,"ion-label"),B.DNE(3,AddonBadgesIssuedBadgePage_ion_item_group_13_img_3_Template,1,2,"img",8)(4,AddonBadgesIssuedBadgePage_ion_item_group_13_ion_badge_4_Template,3,3,"ion-badge",9),B.k0s()()()),2&e){const e=B.XpG();B.R7$(3),B.Y8G("ngIf",e.badge.badgeurl),B.R7$(),B.Y8G("ngIf",e.badge.dateexpire&&e.currentTime>=e.badge.dateexpire)}}function AddonBadgesIssuedBadgePage_ng_container_14_ion_item_12_Template(e,n){if(1&e&&(B.j41(0,"ion-item",14)(1,"ion-label")(2,"p",12),B.EFF(3),B.nI1(4,"translate"),B.k0s(),B.j41(5,"p"),B.EFF(6),B.k0s()()()),2&e){const e=B.XpG(2);B.R7$(3),B.JRh(B.bMT(4,2,"addon.badges.issuername")),B.R7$(3),B.JRh(e.badge.issuername)}}function AddonBadgesIssuedBadgePage_ng_container_14_ion_item_13_Template(e,n){if(1&e&&(B.j41(0,"ion-item",14)(1,"ion-label")(2,"p",12),B.EFF(3),B.nI1(4,"translate"),B.k0s(),B.j41(5,"p")(6,"a",15),B.EFF(7),B.k0s()()()()),2&e){const e=B.XpG(2);B.R7$(3),B.JRh(B.bMT(4,6,"addon.badges.contact")),B.R7$(3),B.Mz_("href","mailto:",e.badge.issuercontact,"",B.B4B),B.Y8G("autoLogin",!1)("showBrowserWarning",!1),B.R7$(),B.SpI(" ",e.badge.issuercontact," ")}}function AddonBadgesIssuedBadgePage_ng_container_14_ion_item_20_Template(e,n){if(1&e&&(B.j41(0,"ion-item",14)(1,"ion-label")(2,"p",12),B.EFF(3),B.nI1(4,"translate"),B.k0s(),B.j41(5,"p"),B.EFF(6),B.k0s()()()),2&e){const e=B.XpG(2);B.R7$(3),B.JRh(B.bMT(4,2,"core.name")),B.R7$(3),B.JRh(e.badge.name)}}function AddonBadgesIssuedBadgePage_ng_container_14_ion_item_21_Template(e,n){if(1&e&&(B.j41(0,"ion-item",14)(1,"ion-label")(2,"p",12),B.EFF(3),B.nI1(4,"translate"),B.k0s(),B.j41(5,"p"),B.EFF(6),B.k0s()()()),2&e){const e=B.XpG(2);B.R7$(3),B.JRh(B.bMT(4,2,"addon.badges.version")),B.R7$(3),B.JRh(e.badge.version)}}function AddonBadgesIssuedBadgePage_ng_container_14_ion_item_22_Template(e,n){if(1&e&&(B.j41(0,"ion-item",14)(1,"ion-label")(2,"p",12),B.EFF(3),B.nI1(4,"translate"),B.k0s(),B.j41(5,"p"),B.EFF(6),B.k0s()()()),2&e){const e=B.XpG(2);B.R7$(3),B.JRh(B.bMT(4,2,"addon.badges.language")),B.R7$(3),B.JRh(e.badge.language)}}function AddonBadgesIssuedBadgePage_ng_container_14_ion_item_23_Template(e,n){if(1&e&&(B.j41(0,"ion-item",14)(1,"ion-label")(2,"p",12),B.EFF(3),B.nI1(4,"translate"),B.k0s(),B.j41(5,"p"),B.EFF(6),B.k0s()()()),2&e){const e=B.XpG(2);B.R7$(3),B.JRh(B.bMT(4,2,"core.description")),B.R7$(3),B.JRh(e.badge.description)}}function AddonBadgesIssuedBadgePage_ng_container_14_ion_item_24_Template(e,n){if(1&e&&(B.j41(0,"ion-item",14)(1,"ion-label")(2,"p",12),B.EFF(3),B.nI1(4,"translate"),B.k0s(),B.j41(5,"p"),B.EFF(6),B.k0s()()()),2&e){const e=B.XpG(2);B.R7$(3),B.JRh(B.bMT(4,2,"addon.badges.imageauthorname")),B.R7$(3),B.JRh(e.badge.imageauthorname)}}function AddonBadgesIssuedBadgePage_ng_container_14_ion_item_25_Template(e,n){if(1&e&&(B.j41(0,"ion-item",14)(1,"ion-label")(2,"p",12),B.EFF(3),B.nI1(4,"translate"),B.k0s(),B.j41(5,"p")(6,"a",15),B.EFF(7),B.k0s()()()()),2&e){const e=B.XpG(2);B.R7$(3),B.JRh(B.bMT(4,6,"addon.badges.imageauthoremail")),B.R7$(3),B.Mz_("href","mailto:",e.badge.imageauthoremail,"",B.B4B),B.Y8G("autoLogin",!1)("showBrowserWarning",!1),B.R7$(),B.SpI(" ",e.badge.imageauthoremail," ")}}function AddonBadgesIssuedBadgePage_ng_container_14_ion_item_26_Template(e,n){if(1&e&&(B.j41(0,"ion-item",14)(1,"ion-label")(2,"p",12),B.EFF(3),B.nI1(4,"translate"),B.k0s(),B.j41(5,"p")(6,"a",16),B.EFF(7),B.k0s()()()()),2&e){const e=B.XpG(2);B.R7$(3),B.JRh(B.bMT(4,4,"addon.badges.imageauthorurl")),B.R7$(3),B.Y8G("href",e.badge.imageauthorurl,B.B4B)("autoLogin",!1),B.R7$(),B.SpI(" ",e.badge.imageauthorurl," ")}}function AddonBadgesIssuedBadgePage_ng_container_14_ion_item_27_Template(e,n){if(1&e&&(B.j41(0,"ion-item",14)(1,"ion-label")(2,"p",12),B.EFF(3),B.nI1(4,"translate"),B.k0s(),B.j41(5,"p"),B.EFF(6),B.k0s()()()),2&e){const e=B.XpG(2);B.R7$(3),B.JRh(B.bMT(4,2,"addon.badges.imagecaption")),B.R7$(3),B.JRh(e.badge.imagecaption)}}function AddonBadgesIssuedBadgePage_ng_container_14_ion_item_28_Template(e,n){if(1&e&&(B.j41(0,"ion-item",14)(1,"ion-label")(2,"p",12),B.EFF(3),B.nI1(4,"translate"),B.k0s(),B.j41(5,"p"),B.nrm(6,"core-format-text",17),B.k0s()()()),2&e){const e=B.XpG(2);B.R7$(3),B.JRh(B.bMT(4,3,"core.course")),B.R7$(3),B.Y8G("text",e.badge.coursefullname)("contextInstanceId",e.badge.courseid)}}function AddonBadgesIssuedBadgePage_ng_container_14_ion_item_35_Template(e,n){if(1&e&&(B.j41(0,"ion-item",14)(1,"ion-label")(2,"p",12),B.EFF(3),B.nI1(4,"translate"),B.k0s(),B.j41(5,"p"),B.EFF(6),B.nI1(7,"coreFormatDate"),B.k0s()()()),2&e){const e=B.XpG(2);B.R7$(3),B.JRh(B.bMT(4,2,"addon.badges.dateawarded")),B.R7$(3),B.JRh(B.bMT(7,4,1e3*e.badge.dateissued))}}function AddonBadgesIssuedBadgePage_ng_container_14_ion_item_36_span_8_Template(e,n){1&e&&(B.j41(0,"span",19),B.EFF(1),B.nI1(2,"translate"),B.k0s()),2&e&&(B.R7$(),B.SpI(" ",B.bMT(2,1,"addon.badges.warnexpired")," "))}function AddonBadgesIssuedBadgePage_ng_container_14_ion_item_36_Template(e,n){if(1&e&&(B.j41(0,"ion-item",14)(1,"ion-label")(2,"p",12),B.EFF(3),B.nI1(4,"translate"),B.k0s(),B.j41(5,"p"),B.EFF(6),B.nI1(7,"coreFormatDate"),B.DNE(8,AddonBadgesIssuedBadgePage_ng_container_14_ion_item_36_span_8_Template,3,3,"span",18),B.k0s()()()),2&e){const e=B.XpG(2);B.R7$(3),B.JRh(B.bMT(4,3,"addon.badges.expirydate")),B.R7$(3),B.SpI(" ",B.bMT(7,5,1e3*e.badge.dateexpire)," "),B.R7$(2),B.Y8G("ngIf",e.currentTime>=e.badge.dateexpire)}}function AddonBadgesIssuedBadgePage_ng_container_14_ion_item_group_37_ion_item_6_Template(e,n){if(1&e&&(B.j41(0,"ion-item",14)(1,"ion-label")(2,"p",12),B.EFF(3),B.nI1(4,"translate"),B.k0s(),B.j41(5,"p"),B.EFF(6),B.k0s()()()),2&e){const e=B.XpG(3);B.R7$(3),B.JRh(B.bMT(4,2,"addon.badges.issuername")),B.R7$(3),B.JRh(e.badge.endorsement.issuername)}}function AddonBadgesIssuedBadgePage_ng_container_14_ion_item_group_37_ion_item_7_Template(e,n){if(1&e&&(B.j41(0,"ion-item",14)(1,"ion-label")(2,"p",12),B.EFF(3),B.nI1(4,"translate"),B.k0s(),B.j41(5,"p")(6,"a",15),B.EFF(7),B.k0s()()()()),2&e){const e=B.XpG(3);B.R7$(3),B.JRh(B.bMT(4,6,"addon.badges.issueremail")),B.R7$(3),B.Mz_("href","mailto:",e.badge.endorsement.issueremail,"",B.B4B),B.Y8G("autoLogin",!1)("showBrowserWarning",!1),B.R7$(),B.SpI(" ",e.badge.endorsement.issueremail," ")}}function AddonBadgesIssuedBadgePage_ng_container_14_ion_item_group_37_ion_item_8_Template(e,n){if(1&e&&(B.j41(0,"ion-item",14)(1,"ion-label")(2,"p",12),B.EFF(3),B.nI1(4,"translate"),B.k0s(),B.j41(5,"p")(6,"a",16),B.EFF(7),B.k0s()()()()),2&e){const e=B.XpG(3);B.R7$(3),B.JRh(B.bMT(4,4,"addon.badges.issuerurl")),B.R7$(3),B.Y8G("href",e.badge.endorsement.issuerurl,B.B4B)("autoLogin",!1),B.R7$(),B.SpI(" ",e.badge.endorsement.issuerurl," ")}}function AddonBadgesIssuedBadgePage_ng_container_14_ion_item_group_37_ion_item_9_Template(e,n){if(1&e&&(B.j41(0,"ion-item",14)(1,"ion-label")(2,"p",12),B.EFF(3),B.nI1(4,"translate"),B.k0s(),B.j41(5,"p"),B.EFF(6),B.nI1(7,"coreFormatDate"),B.k0s()()()),2&e){const e=B.XpG(3);B.R7$(3),B.JRh(B.bMT(4,2,"addon.badges.dateawarded")),B.R7$(3),B.JRh(B.bMT(7,4,1e3*e.badge.endorsement.dateissued))}}function AddonBadgesIssuedBadgePage_ng_container_14_ion_item_group_37_ion_item_10_Template(e,n){if(1&e&&(B.j41(0,"ion-item",14)(1,"ion-label")(2,"p",12),B.EFF(3),B.nI1(4,"translate"),B.k0s(),B.j41(5,"p")(6,"a",16),B.EFF(7),B.k0s()()()()),2&e){const e=B.XpG(3);B.R7$(3),B.JRh(B.bMT(4,4,"addon.badges.claimid")),B.R7$(3),B.Y8G("href",e.badge.endorsement.claimid,B.B4B)("autoLogin",!1),B.R7$(),B.SpI(" ",e.badge.endorsement.claimid," ")}}function AddonBadgesIssuedBadgePage_ng_container_14_ion_item_group_37_ion_item_11_Template(e,n){if(1&e&&(B.j41(0,"ion-item",14)(1,"ion-label")(2,"p",12),B.EFF(3),B.nI1(4,"translate"),B.k0s(),B.j41(5,"p"),B.EFF(6),B.k0s()()()),2&e){const e=B.XpG(3);B.R7$(3),B.JRh(B.bMT(4,2,"addon.badges.claimcomment")),B.R7$(3),B.JRh(e.badge.endorsement.claimcomment)}}function AddonBadgesIssuedBadgePage_ng_container_14_ion_item_group_37_Template(e,n){if(1&e&&(B.j41(0,"ion-item-group")(1,"ion-item-divider")(2,"ion-label")(3,"h2"),B.EFF(4),B.nI1(5,"translate"),B.k0s()()(),B.DNE(6,AddonBadgesIssuedBadgePage_ng_container_14_ion_item_group_37_ion_item_6_Template,7,4,"ion-item",13)(7,AddonBadgesIssuedBadgePage_ng_container_14_ion_item_group_37_ion_item_7_Template,8,8,"ion-item",13)(8,AddonBadgesIssuedBadgePage_ng_container_14_ion_item_group_37_ion_item_8_Template,8,6,"ion-item",13)(9,AddonBadgesIssuedBadgePage_ng_container_14_ion_item_group_37_ion_item_9_Template,8,6,"ion-item",13)(10,AddonBadgesIssuedBadgePage_ng_container_14_ion_item_group_37_ion_item_10_Template,8,6,"ion-item",13)(11,AddonBadgesIssuedBadgePage_ng_container_14_ion_item_group_37_ion_item_11_Template,7,4,"ion-item",13),B.k0s()),2&e){const e=B.XpG(2);B.R7$(4),B.JRh(B.bMT(5,7,"addon.badges.bendorsement")),B.R7$(2),B.Y8G("ngIf",e.badge.endorsement.issuername),B.R7$(),B.Y8G("ngIf",e.badge.endorsement.issueremail),B.R7$(),B.Y8G("ngIf",e.badge.endorsement.issuerurl),B.R7$(),B.Y8G("ngIf",e.badge.endorsement.dateissued),B.R7$(),B.Y8G("ngIf",e.badge.endorsement.claimid),B.R7$(),B.Y8G("ngIf",e.badge.endorsement.claimcomment)}}function AddonBadgesIssuedBadgePage_ng_container_14_ion_item_group_38_ion_item_6_Template(e,n){if(1&e&&(B.j41(0,"ion-item",14)(1,"ion-label")(2,"p",12),B.EFF(3),B.k0s()()()),2&e){const e=n.$implicit;B.R7$(3),B.JRh(e.name)}}function AddonBadgesIssuedBadgePage_ng_container_14_ion_item_group_38_ion_item_7_Template(e,n){1&e&&(B.j41(0,"ion-item",14)(1,"ion-label")(2,"p",12),B.EFF(3),B.nI1(4,"translate"),B.k0s()()()),2&e&&(B.R7$(3),B.JRh(B.bMT(4,1,"addon.badges.norelated")))}function AddonBadgesIssuedBadgePage_ng_container_14_ion_item_group_38_Template(e,n){if(1&e&&(B.j41(0,"ion-item-group")(1,"ion-item-divider")(2,"ion-label")(3,"h2"),B.EFF(4),B.nI1(5,"translate"),B.k0s()()(),B.DNE(6,AddonBadgesIssuedBadgePage_ng_container_14_ion_item_group_38_ion_item_6_Template,4,1,"ion-item",20)(7,AddonBadgesIssuedBadgePage_ng_container_14_ion_item_group_38_ion_item_7_Template,5,3,"ion-item",13),B.k0s()),2&e){const e=B.XpG(2);B.R7$(4),B.JRh(B.bMT(5,3,"addon.badges.relatedbages")),B.R7$(2),B.Y8G("ngForOf",e.badge.relatedbadges),B.R7$(),B.Y8G("ngIf",0===e.badge.relatedbadges.length)}}function AddonBadgesIssuedBadgePage_ng_container_14_ion_item_group_39_ion_item_6_Template(e,n){if(1&e&&(B.j41(0,"ion-item",22)(1,"ion-label")(2,"p",12),B.EFF(3),B.k0s()()()),2&e){const e=n.$implicit;B.Y8G("href",e.targetUrl)("autoLogin",!1),B.R7$(3),B.JRh(e.targetName)}}function AddonBadgesIssuedBadgePage_ng_container_14_ion_item_group_39_Template(e,n){if(1&e&&(B.j41(0,"ion-item-group")(1,"ion-item-divider")(2,"ion-label")(3,"h2"),B.EFF(4),B.nI1(5,"translate"),B.k0s()()(),B.DNE(6,AddonBadgesIssuedBadgePage_ng_container_14_ion_item_group_39_ion_item_6_Template,4,3,"ion-item",21),B.k0s()),2&e){const e=B.XpG(2);B.R7$(4),B.JRh(B.bMT(5,2,"addon.badges.alignment")),B.R7$(2),B.Y8G("ngForOf",e.badge.alignment)}}function AddonBadgesIssuedBadgePage_ng_container_14_Template(e,n){if(1&e&&(B.qex(0),B.j41(1,"ion-item")(2,"ion-label")(3,"p",12),B.EFF(4),B.nI1(5,"translate"),B.k0s()()(),B.j41(6,"ion-item-group")(7,"ion-item-divider")(8,"ion-label")(9,"h2"),B.EFF(10),B.nI1(11,"translate"),B.k0s()()(),B.DNE(12,AddonBadgesIssuedBadgePage_ng_container_14_ion_item_12_Template,7,4,"ion-item",13)(13,AddonBadgesIssuedBadgePage_ng_container_14_ion_item_13_Template,8,8,"ion-item",13),B.k0s(),B.j41(14,"ion-item-group")(15,"ion-item-divider")(16,"ion-label")(17,"h2"),B.EFF(18),B.nI1(19,"translate"),B.k0s()()(),B.DNE(20,AddonBadgesIssuedBadgePage_ng_container_14_ion_item_20_Template,7,4,"ion-item",13)(21,AddonBadgesIssuedBadgePage_ng_container_14_ion_item_21_Template,7,4,"ion-item",13)(22,AddonBadgesIssuedBadgePage_ng_container_14_ion_item_22_Template,7,4,"ion-item",13)(23,AddonBadgesIssuedBadgePage_ng_container_14_ion_item_23_Template,7,4,"ion-item",13)(24,AddonBadgesIssuedBadgePage_ng_container_14_ion_item_24_Template,7,4,"ion-item",13)(25,AddonBadgesIssuedBadgePage_ng_container_14_ion_item_25_Template,8,8,"ion-item",13)(26,AddonBadgesIssuedBadgePage_ng_container_14_ion_item_26_Template,8,6,"ion-item",13)(27,AddonBadgesIssuedBadgePage_ng_container_14_ion_item_27_Template,7,4,"ion-item",13)(28,AddonBadgesIssuedBadgePage_ng_container_14_ion_item_28_Template,7,5,"ion-item",13),B.k0s(),B.j41(29,"ion-item-group")(30,"ion-item-divider")(31,"ion-label")(32,"h2"),B.EFF(33),B.nI1(34,"translate"),B.k0s()()(),B.DNE(35,AddonBadgesIssuedBadgePage_ng_container_14_ion_item_35_Template,8,6,"ion-item",13)(36,AddonBadgesIssuedBadgePage_ng_container_14_ion_item_36_Template,9,7,"ion-item",13),B.k0s(),B.DNE(37,AddonBadgesIssuedBadgePage_ng_container_14_ion_item_group_37_Template,12,9,"ion-item-group",2)(38,AddonBadgesIssuedBadgePage_ng_container_14_ion_item_group_38_Template,8,5,"ion-item-group",2)(39,AddonBadgesIssuedBadgePage_ng_container_14_ion_item_group_39_Template,7,4,"ion-item-group",2),B.bVm()),2&e){const e=B.XpG();B.R7$(4),B.SpI(" ",B.i5U(5,20,"addon.badges.awardedto",B.eq3(29,_c0,e.badge.recipientfullname))," "),B.R7$(6),B.JRh(B.bMT(11,23,"addon.badges.issuerdetails")),B.R7$(2),B.Y8G("ngIf",e.badge.issuername),B.R7$(),B.Y8G("ngIf",e.badge.issuercontact),B.R7$(5),B.JRh(B.bMT(19,25,"addon.badges.badgedetails")),B.R7$(2),B.Y8G("ngIf",e.badge.name),B.R7$(),B.Y8G("ngIf",e.badge.version),B.R7$(),B.Y8G("ngIf",e.badge.language),B.R7$(),B.Y8G("ngIf",e.badge.description),B.R7$(),B.Y8G("ngIf",e.badge.imageauthorname),B.R7$(),B.Y8G("ngIf",e.badge.imageauthoremail),B.R7$(),B.Y8G("ngIf",e.badge.imageauthorurl),B.R7$(),B.Y8G("ngIf",e.badge.imagecaption),B.R7$(),B.Y8G("ngIf",e.badge.coursefullname),B.R7$(5),B.JRh(B.bMT(34,27,"addon.badges.issuancedetails")),B.R7$(2),B.Y8G("ngIf",e.badge.dateissued),B.R7$(),B.Y8G("ngIf",e.badge.dateexpire),B.R7$(),B.Y8G("ngIf",e.badge.endorsement),B.R7$(),B.Y8G("ngIf",e.badge.relatedbadges),B.R7$(),B.Y8G("ngIf",null==e.badge.alignment?null:e.badge.alignment.length)}}let j=(()=>{var e;class AddonBadgesIssuedBadgePage{constructor(e){this.route=e,this.badgeHash="",this.courseId=0,this.badgeLoaded=!1,this.currentTime=0,this.courseId=m.CoreNavigator.getRouteNumberParam("courseId")||this.courseId,this.userId=m.CoreNavigator.getRouteNumberParam("userId")||o.CoreSites.getRequiredCurrentSite().getUserId(),this.badgeHash=m.CoreNavigator.getRouteParam("badgeHash")||"";if(m.CoreNavigator.getRouteData(this.route).usesSwipeNavigation){const e=c.u.getOrCreateSource(l.j,[this.courseId,this.userId]);this.badges=new u.Z(e)}this.logView=I.j.once((e=>{p.OF.logEvent({type:p.qr.VIEW_ITEM,ws:"core_badges_view_user_badges",name:e.name,data:{id:e.uniquehash,category:"badges"},url:`/badges/badge.php?hash=${e.uniquehash}`})}))}ngOnInit(){var e;this.fetchIssuedBadge().finally((()=>{this.badgeLoaded=!0})),null===(e=this.badges)||void 0===e||e.start()}ngOnDestroy(){var e;null===(e=this.badges)||void 0===e||e.destroy()}fetchIssuedBadge(){var e=this;return(0,t.A)((function*(){const n=o.CoreSites.getRequiredCurrentSite();e.currentTime=i.CoreTimeUtils.timestamp();try{let a=(yield g.AddonBadges.getUserBadges(e.courseId,e.userId)).find((n=>e.badgeHash==n.uniquehash));if(a){if(!n.isVersionGreaterEqualThan("4.5")){const n=yield s.CoreUser.getProfile(e.userId,e.courseId,!0);a.recipientfullname=n.fullname}}else if(n.isVersionGreaterEqualThan("4.5")&&(a=yield g.AddonBadges.getUserBadgeByHash(e.badgeHash)),!a)throw new Error("Error getting badge data.");if(a.courseid&&!a.coursefullname)try{const e=yield _.CoreCourses.getUserCourse(a.courseid,!0);a.coursefullname=e.fullname}catch{}e.badge=a,e.logView(a)}catch(e){d.CoreDomUtils.showErrorModalDefault(e,"Error getting badge data.")}}))()}refreshBadges(e){var n=this;return(0,t.A)((function*(){yield r.g.allPromisesIgnoringErrors([g.AddonBadges.invalidateUserBadges(n.courseId,n.userId),g.AddonBadges.invalidateUserBadgeByHash(n.badgeHash)]),yield r.g.ignoreErrors(Promise.all([n.fetchIssuedBadge()])),null==e||e.complete()}))()}}return(e=AddonBadgesIssuedBadgePage).ɵfac=function AddonBadgesIssuedBadgePage_Factory(n){return new(n||e)(B.rXU(h.nX))},e.ɵcmp=B.VBU({type:e,selectors:[["page-addon-badges-issued-badge"]],standalone:!0,features:[B.aNF],decls:15,vars:13,consts:[["slot","start"],[3,"text"],[4,"ngIf"],[1,"limited-width",3,"core-swipe-navigation"],["slot","fixed",3,"ionRefresh","disabled"],[3,"pullingText"],[3,"hideUntil"],[1,"ion-text-wrap","ion-text-center"],["class","large-avatar","core-external-content","",3,"url","alt",4,"ngIf"],["color","danger",4,"ngIf"],["core-external-content","",1,"large-avatar",3,"url","alt"],["color","danger"],[1,"item-heading"],["class","ion-text-wrap",4,"ngIf"],[1,"ion-text-wrap"],["core-link","",3,"href","autoLogin","showBrowserWarning"],["core-link","",3,"href","autoLogin"],["contextLevel","course",3,"text","contextInstanceId"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["class","ion-text-wrap",4,"ngFor","ngForOf"],["class","ion-text-wrap","core-link","",3,"href","autoLogin",4,"ngFor","ngForOf"],["core-link","",1,"ion-text-wrap",3,"href","autoLogin"]],template:function AddonBadgesIssuedBadgePage_Template(e,n){1&e&&(B.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),B.nrm(3,"ion-back-button",1),B.nI1(4,"translate"),B.k0s(),B.j41(5,"ion-title"),B.DNE(6,AddonBadgesIssuedBadgePage_h1_6_Template,2,1,"h1",2)(7,AddonBadgesIssuedBadgePage_h1_7_Template,3,3,"h1",2),B.k0s()()(),B.j41(8,"ion-content",3)(9,"ion-refresher",4),B.bIt("ionRefresh",(function AddonBadgesIssuedBadgePage_Template_ion_refresher_ionRefresh_9_listener(e){return n.refreshBadges(e.target)})),B.nrm(10,"ion-refresher-content",5),B.nI1(11,"translate"),B.k0s(),B.j41(12,"core-loading",6),B.DNE(13,AddonBadgesIssuedBadgePage_ion_item_group_13_Template,5,2,"ion-item-group",2)(14,AddonBadgesIssuedBadgePage_ng_container_14_Template,40,31,"ng-container",2),B.k0s()()),2&e&&(B.R7$(3),B.Y8G("text",B.bMT(4,9,"core.back")),B.R7$(3),B.Y8G("ngIf",n.badge),B.R7$(),B.Y8G("ngIf",!n.badge),B.R7$(),B.Y8G("core-swipe-navigation",n.badges),B.R7$(),B.Y8G("disabled",!n.badgeLoaded),B.R7$(),B.FS9("pullingText",B.bMT(11,11,"core.pulltorefresh")),B.R7$(2),B.Y8G("hideUntil",n.badgeLoaded),B.R7$(),B.Y8G("ngIf",n.badge),B.R7$(),B.Y8G("ngIf",n.badge))},dependencies:[b.n,f.Sq,f.bT,R.R,T.l,F.B,$.j,A.n,P.i,E.In,E.QW,E.W9,E.eU,E.uz,E.Dg,E.jh,E.he,E.To,E.Ki,E.BC,E.ai,E.el,k.f,G.D9],encapsulation:2}),AddonBadgesIssuedBadgePage})()},52266:(e,n,a)=>{a.d(n,{Z:()=>CoreSwipeNavigationItemsManager});var t=a(10467),i=a(15324),d=a(95990);class CoreSwipeNavigationItemsManager extends d.u{start(){var e=this;return(0,t.A)((function*(){e.updateSelectedItem()}))()}navigateToNextItem(){var e=this;return(0,t.A)((function*(){yield e.navigateToItemBy(1,"forward")}))()}navigateToPreviousItem(){var e=this;return(0,t.A)((function*(){yield e.navigateToItemBy(-1,"back")}))()}hasNextItem(){var e=this;return(0,t.A)((function*(){return!!(yield e.getItemBy(1))}))()}hasPreviousItem(){var e=this;return(0,t.A)((function*(){return!!(yield e.getItemBy(-1))}))()}getCurrentPageRoute(){return i.CoreNavigator.getCurrentRoute()}getSelectedItemPathFromRoute(e){const n=[];for(;e&&(n.push(...i.CoreNavigator.getRouteUrl(e)),e.firstChild);)e=e.firstChild;return n.map((e=>e.path)).join("/").replace(/\/+/,"/").trim()||null}navigateToItemBy(e,n){var a=this;return(0,t.A)((function*(){const t=yield a.getItemBy(e);t&&(yield a.navigateToItem(t,{animationDirection:n,replace:!0}))}))()}getItemBy(e){var n=this;return(0,t.A)((function*(){var a;const t=n.getSource().getItems(),i=null!==(a=n.selectedItem&&(null==t?void 0:t.indexOf(n.selectedItem)))&&void 0!==a?a:-1;if(-1===i||null===t)return null;const d=e>0?1:-1;let o=i,s=0;for(;s!==e;){if(o+=d,o<0)return null;if(o>=t.length)break;n.skipItemInSwipe(t[o])||(s+=d)}return s===e?t[o]:n.getSource().isCompleted()?null:(yield n.getSource().load(),n.getItemBy(e))}))()}skipItemInSwipe(e){return!1}}}}]);