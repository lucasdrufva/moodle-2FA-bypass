"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3876],{63876:(e,n,t)=>{t.r(n),t.d(n,{default:()=>g});var i=t(10467),o=t(46526),r=t(32832),l=t(81690),s=t(15324),a=t(3353),u=t(54438),c=t(60177),p=t(88246),d=t(73465),h=t(73955);function CoreSitePluginsCourseOptionPage_core_site_plugins_plugin_content_4_Template(e,n){if(1&e&&u.nrm(0,"core-site-plugins-plugin-content",3),2&e){const e=u.XpG();u.Y8G("component",e.component)("method",e.method)("args",e.args)("initResult",e.initResult)}}let g=(()=>{var e;class CoreSitePluginsCourseOptionPage{constructor(){this.ptrEnabled=!0}ngOnInit(){if(this.courseId=s.CoreNavigator.getRouteNumberParam("courseId"),this.handlerUniqueName=s.CoreNavigator.getRouteParam("handlerUniqueName"),!this.handlerUniqueName)return;const e=r.CoreSitePlugins.getSitePluginHandler(this.handlerUniqueName);e&&(this.component=e.plugin.component,this.method=e.handlerSchema.method,this.args={courseid:this.courseId},this.initResult=e.initResult,this.ptrEnabled=!("ptrenabled"in e.handlerSchema)||!l.j.isFalseOrZero(e.handlerSchema.ptrenabled))}refreshData(e){var n=this;return(0,i.A)((function*(){try{var t;yield null===(t=n.content)||void 0===t?void 0:t.refreshContent(!1)}finally{e.complete()}}))()}ionViewWillEnter(){var e;null===(e=this.content)||void 0===e||e.callComponentFunction("ionViewWillEnter")}ionViewDidEnter(){var e;null===(e=this.content)||void 0===e||e.callComponentFunction("ionViewDidEnter")}ionViewWillLeave(){var e;null===(e=this.content)||void 0===e||e.callComponentFunction("ionViewWillLeave")}ionViewDidLeave(){var e;null===(e=this.content)||void 0===e||e.callComponentFunction("ionViewDidLeave")}ionViewWillUnload(){var e;null===(e=this.content)||void 0===e||e.callComponentFunction("ionViewWillUnload")}canLeave(){var e=this;return(0,i.A)((function*(){if(!e.content)return!0;const n=yield e.content.callComponentFunction("canLeave");return null==n||!!n}))()}}return(e=CoreSitePluginsCourseOptionPage).ɵfac=function CoreSitePluginsCourseOptionPage_Factory(n){return new(n||e)},e.ɵcmp=u.VBU({type:e,selectors:[["core-site-plugins-course-option"]],viewQuery:function CoreSitePluginsCourseOptionPage_Query(e,n){if(1&e&&u.GBs(o.U,5),2&e){let e;u.mGM(e=u.lsd())&&(n.content=e.first)}},standalone:!0,features:[u.aNF],decls:5,vars:5,consts:[["slot","fixed",3,"ionRefresh","disabled"],[3,"pullingText"],[3,"component","method","args","initResult",4,"ngIf"],[3,"component","method","args","initResult"]],template:function CoreSitePluginsCourseOptionPage_Template(e,n){1&e&&(u.j41(0,"ion-content")(1,"ion-refresher",0),u.bIt("ionRefresh",(function CoreSitePluginsCourseOptionPage_Template_ion_refresher_ionRefresh_1_listener(e){return n.refreshData(e.target)})),u.nrm(2,"ion-refresher-content",1),u.nI1(3,"translate"),u.k0s(),u.DNE(4,CoreSitePluginsCourseOptionPage_core_site_plugins_plugin_content_4_Template,1,4,"core-site-plugins-plugin-content",2),u.k0s()),2&e&&(u.R7$(),u.Y8G("disabled",!n.ptrEnabled||!n.content||!n.content.dataLoaded),u.R7$(),u.FS9("pullingText",u.bMT(3,3,"core.pulltorefresh")),u.R7$(2),u.Y8G("ngIf",n.component&&n.method))},dependencies:[a.n,c.bT,p.i,d.W9,d.To,d.Ki,h.D9,o.U],encapsulation:2}),CoreSitePluginsCourseOptionPage})()}}]);