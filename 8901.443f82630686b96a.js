"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8901],{31283:(n,o,t)=>{t.d(o,{m:()=>f});var e=t(10467),i=t(64766),d=t(20860),a=t(24742),r=t(79555),s=t(89911),u=t(20523),m=t(54438),l=t(58197),p=t(73465),_=t(73793),c=t(59528),g=t(73955);const _forTrack0=(n,o)=>o.id;function AddonModQuizAttemptInfoComponent_Conditional_14_Conditional_8_Template(n,o){if(1&n&&(m.j41(0,"ion-item",5)(1,"ion-label")(2,"p",1),m.EFF(3),m.nI1(4,"translate"),m.k0s(),m.j41(5,"p"),m.EFF(6),m.k0s()()()),2&n){const n=m.XpG(2);m.R7$(3),m.JRh(m.bMT(4,2,"addon.mod_quiz.attemptduration")),m.R7$(3),m.JRh(n.timeTaken)}}function AddonModQuizAttemptInfoComponent_Conditional_14_Conditional_9_Template(n,o){if(1&n&&(m.j41(0,"ion-item",6)(1,"ion-label")(2,"p",1),m.EFF(3),m.nI1(4,"translate"),m.k0s(),m.j41(5,"p"),m.EFF(6),m.k0s()()()),2&n){const n=m.XpG(2);m.R7$(3),m.JRh(m.bMT(4,2,"addon.mod_quiz.overdue")),m.R7$(3),m.JRh(n.overTime)}}function AddonModQuizAttemptInfoComponent_Conditional_14_For_11_Template(n,o){if(1&n&&(m.j41(0,"ion-item",7)(1,"ion-label")(2,"p",1),m.EFF(3),m.k0s(),m.nrm(4,"p",11),m.k0s()()),2&n){const n=o.$implicit;m.R7$(3),m.JRh(n.name),m.R7$(),m.Y8G("innerHTML",n.grade,m.npT)}}function AddonModQuizAttemptInfoComponent_Conditional_14_Conditional_12_Template(n,o){if(1&n&&(m.j41(0,"ion-item",8)(1,"ion-label")(2,"p",1),m.EFF(3),m.nI1(4,"translate"),m.k0s(),m.j41(5,"p"),m.EFF(6),m.k0s()()()),2&n){const n=m.XpG(2);m.R7$(3),m.JRh(m.bMT(4,2,"addon.mod_quiz.marks")),m.R7$(3),m.JRh(n.readableMark)}}function AddonModQuizAttemptInfoComponent_Conditional_14_Conditional_13_Template(n,o){if(1&n&&(m.j41(0,"ion-item",9)(1,"ion-label")(2,"p",1),m.EFF(3),m.nI1(4,"translate"),m.k0s(),m.nrm(5,"p",11),m.k0s()()),2&n){const n=m.XpG(2);m.R7$(3),m.JRh(m.bMT(4,2,"addon.mod_quiz.grade")),m.R7$(2),m.Y8G("innerHTML",n.readableGrade,m.npT)}}function AddonModQuizAttemptInfoComponent_Conditional_14_For_15_Template(n,o){if(1&n&&(m.j41(0,"ion-item")(1,"ion-label")(2,"p",1),m.EFF(3),m.k0s(),m.nrm(4,"core-format-text",12),m.k0s()()),2&n){const n=o.$implicit,t=m.XpG(2);m.ZvI("ion-text-wrap addon-mod_quiz-attempt-",n.id,""),m.R7$(3),m.JRh(n.title),m.R7$(),m.Y8G("component",t.component)("componentId",t.quiz.coursemodule)("text",n.content)("contextInstanceId",t.quiz.coursemodule)("courseId",t.quiz.course)}}function AddonModQuizAttemptInfoComponent_Conditional_14_Template(n,o){if(1&n&&(m.j41(0,"ion-item",4)(1,"ion-label")(2,"p",1),m.EFF(3),m.nI1(4,"translate"),m.k0s(),m.j41(5,"p"),m.EFF(6),m.nI1(7,"coreFormatDate"),m.k0s()()(),m.DNE(8,AddonModQuizAttemptInfoComponent_Conditional_14_Conditional_8_Template,7,4,"ion-item",5)(9,AddonModQuizAttemptInfoComponent_Conditional_14_Conditional_9_Template,7,4,"ion-item",6),m.Z7z(10,AddonModQuizAttemptInfoComponent_Conditional_14_For_11_Template,5,2,"ion-item",7,m.Vm6),m.DNE(12,AddonModQuizAttemptInfoComponent_Conditional_14_Conditional_12_Template,7,4,"ion-item",8)(13,AddonModQuizAttemptInfoComponent_Conditional_14_Conditional_13_Template,6,4,"ion-item",9),m.Z7z(14,AddonModQuizAttemptInfoComponent_Conditional_14_For_15_Template,5,9,"ion-item",10,_forTrack0)),2&n){const n=m.XpG();m.R7$(3),m.JRh(m.bMT(4,6,"addon.mod_quiz.completedon")),m.R7$(3),m.JRh(m.bMT(7,8,1e3*n.attempt.timefinish)),m.R7$(2),m.vxM(8,n.timeTaken?8:-1),m.R7$(),m.vxM(9,n.overTime?9:-1),m.R7$(),m.Dyx(n.gradeItemMarks),m.R7$(2),m.vxM(12,n.quiz.showAttemptsMarks&&n.readableMark&&null!==(null==n.attempt?null:n.attempt.sumgrades)?12:-1),m.R7$(),m.vxM(13,n.readableGrade?13:-1),m.R7$(),m.Dyx(n.additionalData)}}let f=(()=>{var n;class AddonModQuizAttemptInfoComponent{constructor(){this.isFinished=!1,this.readableMark="",this.readableGrade="",this.gradeItemMarks=[],this.component=d.Qs}ngOnChanges(n){var o=this;return(0,e.A)((function*(){var t;n.additionalData&&(null===(t=o.additionalData)||void 0===t||t.forEach((n=>{n.content=s.CoreDomUtils.removeElementFromHtml(n.content,'.helptooltip, [data-toggle="popover"]')})));if(!n.attempt)return;if(o.isFinished="finished"===o.attempt.state,!o.isFinished)return;const e=(o.attempt.timefinish||0)-(o.attempt.timestart||0);if(e>0?(o.timeTaken=a.j.formatTime(e),o.quiz.timelimit&&e>o.quiz.timelimit+60&&(o.overTime=a.j.formatTime(e-o.quiz.timelimit))):o.timeTaken=void 0,o.gradeItemMarks=null!==o.attempt.sumgrades&&o.attempt.gradeitemmarks?o.attempt.gradeitemmarks.map((n=>{var t,e;return{name:n.name,grade:r.HT.instant("addon.mod_quiz.outof",{$a:{grade:"<strong>"+i.AddonModQuiz.formatGrade(n.grade,null===(t=o.quiz)||void 0===t?void 0:t.decimalpoints)+"</strong>",maxgrade:i.AddonModQuiz.formatGrade(n.maxgrade,null===(e=o.quiz)||void 0===e?void 0:e.decimalpoints)}})}})):[],!o.quiz.showAttemptsGrades)return;if(!(0,u.L)(o.attempt.rescaledGrade))return o.readableGrade=r.HT.instant("addon.mod_quiz.notyetgraded"),void 0;o.quiz.showAttemptsMarks&&(o.readableMark=r.HT.instant("addon.mod_quiz.outofshort",{$a:{grade:i.AddonModQuiz.formatGrade(o.attempt.sumgrades,o.quiz.decimalpoints),maxgrade:i.AddonModQuiz.formatGrade(o.quiz.sumgrades,o.quiz.decimalpoints)}}));const d={grade:"<strong>"+i.AddonModQuiz.formatGrade(o.attempt.rescaledGrade,o.quiz.decimalpoints)+"</strong>",maxgrade:i.AddonModQuiz.formatGrade(o.quiz.grade,o.quiz.decimalpoints)};if(100!=o.quiz.grade){var m,l;const n=100*(null!==(m=o.attempt.sumgrades)&&void 0!==m?m:0)/(null!==(l=o.quiz.sumgrades)&&void 0!==l?l:1);d.percent="<strong>"+i.AddonModQuiz.formatGrade(n,o.quiz.decimalpoints)+"</strong>",o.readableGrade=r.HT.instant("addon.mod_quiz.outofpercent",{$a:d})}else o.readableGrade=r.HT.instant("addon.mod_quiz.outof",{$a:d})}))()}}return(n=AddonModQuizAttemptInfoComponent).ɵfac=function AddonModQuizAttemptInfoComponent_Factory(o){return new(o||n)},n.ɵcmp=m.VBU({type:n,selectors:[["addon-mod-quiz-attempt-info"]],inputs:{quiz:"quiz",attempt:"attempt",additionalData:"additionalData"},features:[m.OA$],decls:15,vars:12,consts:[[1,"ion-text-wrap","addon-mod_quiz-attempt-status"],[1,"item-heading"],[3,"state","finishedOffline"],[1,"ion-text-wrap","addon-mod_quiz-attempt-startedon"],[1,"ion-text-wrap","addon-mod_quiz-attempt-completedon"],[1,"ion-text-wrap","addon-mod_quiz-attempt-duration"],[1,"ion-text-wrap","addon-mod_quiz-attempt-overdue"],[1,"ion-text-wrap","addon-mod_quiz-attempt-gradeitemmark"],[1,"ion-text-wrap","addon-mod_quiz-attempt-mark"],[1,"ion-text-wrap","addon-mod_quiz-attempt-grade"],[3,"class"],[3,"innerHTML"],["contextLevel","module",3,"component","componentId","text","contextInstanceId","courseId"]],template:function AddonModQuizAttemptInfoComponent_Template(n,o){1&n&&(m.j41(0,"ion-item",0)(1,"ion-label")(2,"p",1),m.EFF(3),m.nI1(4,"translate"),m.k0s(),m.nrm(5,"addon-mod-quiz-attempt-state",2),m.k0s()(),m.j41(6,"ion-item",3)(7,"ion-label")(8,"p",1),m.EFF(9),m.nI1(10,"translate"),m.k0s(),m.j41(11,"p"),m.EFF(12),m.nI1(13,"coreFormatDate"),m.k0s()()(),m.DNE(14,AddonModQuizAttemptInfoComponent_Conditional_14_Template,16,10)),2&n&&(m.R7$(3),m.JRh(m.bMT(4,6,"addon.mod_quiz.attemptstate")),m.R7$(2),m.Y8G("state",o.attempt.state)("finishedOffline",o.attempt.finishedOffline),m.R7$(4),m.JRh(m.bMT(10,8,"addon.mod_quiz.startedon")),m.R7$(3),m.JRh(m.bMT(13,10,1e3*o.attempt.timestart)),m.R7$(2),m.vxM(14,o.isFinished?14:-1))},dependencies:[l.B,p.uz,p.he,_.J,c.f,g.D9],encapsulation:2}),AddonModQuizAttemptInfoComponent})()},73793:(n,o,t)=>{t.d(o,{J:()=>u});var e=t(10467),i=t(64766),d=t(91416),a=t(54438),r=t(86198),s=t(73465);function AddonModQuizAttemptStateComponent_Conditional_1_Template(n,o){1&n&&a.nrm(0,"ion-icon",1)}let u=(()=>{var n;class AddonModQuizAttemptStateComponent{constructor(){this.state="",this.finishedOffline=!1,this.readableState="",this.color=""}ngOnChanges(){var n=this;return(0,e.A)((function*(){n.readableState=i.AddonModQuiz.getAttemptReadableStateName(n.state,n.finishedOffline),n.color=i.AddonModQuiz.getAttemptStateColor(n.state,n.finishedOffline)}))()}}return(n=AddonModQuizAttemptStateComponent).ɵfac=function AddonModQuizAttemptStateComponent_Factory(o){return new(o||n)},n.ɵcmp=a.VBU({type:n,selectors:[["addon-mod-quiz-attempt-state"]],inputs:{state:"state",finishedOffline:[a.Mj6.HasDecoratorInputTransform,"finishedOffline","finishedOffline",d.G]},features:[a.GFd,a.OA$],decls:3,vars:3,consts:[[3,"color"],["name","fas-clock","aria-hidden","true"]],template:function AddonModQuizAttemptStateComponent_Template(n,o){1&n&&(a.j41(0,"ion-badge",0),a.DNE(1,AddonModQuizAttemptStateComponent_Conditional_1_Template,1,0,"ion-icon",1),a.EFF(2),a.k0s()),2&n&&(a.Y8G("color",o.color),a.R7$(),a.vxM(1,o.finishedOffline?1:-1),a.R7$(),a.SpI(" ",o.readableState,"\n"))},dependencies:[r.t,s.In,s.iq],styles:["[_nghost-%COMP%]   ion-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center}[_nghost-%COMP%]   ion-badge[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-inline-start:0px;margin-inline-end:var(--mdl-spacing-1)}"]}),AddonModQuizAttemptStateComponent})()},8901:(n,o,t)=>{t.r(o),t.d(o,{AddonModQuizIndexComponent:()=>E});var e=t(10467),i=t(74431),d=t(20523),a=t(69006),r=t(13482),s=t(15324),u=t(89911),m=t(75383),l=t(55554),p=t(79555),_=t(49882),c=t(93267),g=t(64766),f=t(93918),z=t(74149),h=t(20860),C=t(54438),M=t(73465),I=t(51024),A=t(60177),v=t(69502),b=t(17388),Q=t(64422),q=t(13988),x=t(86198),R=t(58197),T=t(23007),F=t(66731),k=t(43570),w=t(6736),$=t(30864),G=t(31283),O=t(73793),y=t(73955);const _forTrack0=(n,o)=>o.id,_c0=(n,o)=>({grade:n,maxgrade:o}),_c1=n=>({$a:n}),_c2=(n,o)=>({grade:n,max:o});function AddonModQuizIndexComponent_Conditional_1_Template(n,o){if(1&n){const n=C.RV6();C.j41(0,"ion-button",7),C.nI1(1,"translate"),C.bIt("click",(function AddonModQuizIndexComponent_Conditional_1_Template_ion_button_click_0_listener(){C.eBV(n);const o=C.XpG();return C.Njj(o.openModuleSummary())})),C.nrm(2,"ion-icon",8),C.k0s()}2&n&&C.Y8G("ariaLabel",C.bMT(1,1,"core.info"))}function AddonModQuizIndexComponent_Conditional_2_Template(n,o){if(1&n){const n=C.RV6();C.j41(0,"core-context-menu")(1,"core-context-menu-item",9),C.nI1(2,"translate"),C.bIt("action",(function AddonModQuizIndexComponent_Conditional_2_Template_core_context_menu_item_action_1_listener(){C.eBV(n);const o=C.XpG();return C.Njj(o.openModuleSummary())})),C.k0s()()}2&n&&(C.R7$(),C.Y8G("priority",5e3)("content",C.bMT(2,2,"core.info")))}function AddonModQuizIndexComponent_ion_card_5_ion_item_2_Template(n,o){if(1&n&&(C.j41(0,"ion-item",12)(1,"ion-label")(2,"p"),C.EFF(3),C.k0s()()()),2&n){const n=o.$implicit;C.R7$(3),C.JRh(n)}}function AddonModQuizIndexComponent_ion_card_5_ion_item_3_Template(n,o){if(1&n&&(C.j41(0,"ion-item",12)(1,"ion-label")(2,"p",13),C.EFF(3),C.nI1(4,"translate"),C.k0s(),C.j41(5,"p"),C.EFF(6),C.k0s()()()),2&n){const n=C.XpG(2);C.R7$(3),C.JRh(C.bMT(4,2,"addon.mod_quiz.grademethod")),C.R7$(3),C.JRh(n.gradeMethodReadable)}}function AddonModQuizIndexComponent_ion_card_5_ion_item_4_Template(n,o){if(1&n&&(C.j41(0,"ion-item",12)(1,"ion-label")(2,"p",13),C.EFF(3),C.nI1(4,"translate"),C.k0s(),C.j41(5,"p"),C.EFF(6),C.nI1(7,"translate"),C.k0s()()()),2&n){const n=C.XpG(2);C.R7$(3),C.JRh(C.bMT(4,2,"core.grades.gradepass")),C.R7$(3),C.JRh(C.i5U(7,4,"addon.mod_quiz.outof",C.eq3(10,_c1,C.l_i(7,_c0,n.bestGrade.gradetopass,n.quiz.gradeFormatted))))}}function AddonModQuizIndexComponent_ion_card_5_ion_item_5_Template(n,o){if(1&n&&(C.j41(0,"ion-item",12)(1,"ion-label")(2,"p",13),C.EFF(3),C.nI1(4,"translate"),C.k0s(),C.j41(5,"p"),C.EFF(6),C.k0s()()()),2&n){const n=C.XpG(2);C.R7$(3),C.JRh(C.bMT(4,2,"core.lastsync")),C.R7$(3),C.JRh(n.syncTime)}}function AddonModQuizIndexComponent_ion_card_5_Template(n,o){if(1&n&&(C.j41(0,"ion-card")(1,"ion-list"),C.DNE(2,AddonModQuizIndexComponent_ion_card_5_ion_item_2_Template,4,1,"ion-item",10)(3,AddonModQuizIndexComponent_ion_card_5_ion_item_3_Template,7,4,"ion-item",11)(4,AddonModQuizIndexComponent_ion_card_5_ion_item_4_Template,8,12,"ion-item",11)(5,AddonModQuizIndexComponent_ion_card_5_ion_item_5_Template,7,4,"ion-item",11),C.k0s()()),2&n){const n=C.XpG();C.R7$(2),C.Y8G("ngForOf",n.accessRules),C.R7$(),C.Y8G("ngIf",n.gradeMethodReadable),C.R7$(),C.Y8G("ngIf",n.bestGrade&&n.bestGrade.gradetopass&&n.quiz&&n.quiz.gradeFormatted),C.R7$(),C.Y8G("ngIf",n.syncTime)}}function AddonModQuizIndexComponent_Conditional_6_Conditional_5_Conditional_0_Conditional_3_Template(n,o){if(1&n&&(C.j41(0,"span"),C.EFF(1),C.k0s(),C.j41(2,"span"),C.EFF(3),C.k0s()),2&n){const n=C.XpG(4);C.R7$(),C.JRh(n.gradeMethodReadable),C.R7$(2),C.JRh(n.gradeResult)}}function AddonModQuizIndexComponent_Conditional_6_Conditional_5_Conditional_0_Conditional_4_Template(n,o){if(1&n&&(C.j41(0,"span"),C.EFF(1),C.nI1(2,"translate"),C.k0s()),2&n){const n=C.XpG(4);C.R7$(),C.JRh(C.i5U(2,1,"addon.mod_quiz.yourfinalgradeis",C.eq3(4,_c1,n.gradeResult)))}}function AddonModQuizIndexComponent_Conditional_6_Conditional_5_Conditional_0_Conditional_5_Template(n,o){1&n&&(C.j41(0,"p",18),C.nrm(1,"ion-icon",19),C.EFF(2),C.nI1(3,"translate"),C.k0s()),2&n&&(C.R7$(2),C.SpI(" ",C.bMT(3,1,"core.course.overriddennotice")," "))}function AddonModQuizIndexComponent_Conditional_6_Conditional_5_Conditional_0_Template(n,o){if(1&n&&(C.j41(0,"ion-item",15)(1,"ion-label")(2,"div",17),C.DNE(3,AddonModQuizIndexComponent_Conditional_6_Conditional_5_Conditional_0_Conditional_3_Template,4,2)(4,AddonModQuizIndexComponent_Conditional_6_Conditional_5_Conditional_0_Conditional_4_Template,3,6),C.k0s(),C.DNE(5,AddonModQuizIndexComponent_Conditional_6_Conditional_5_Conditional_0_Conditional_5_Template,4,3,"p",18),C.k0s()()),2&n){const n=C.XpG(3);C.R7$(3),C.vxM(3,n.moreAttempts?3:4),C.R7$(2),C.vxM(5,n.gradeOverridden?5:-1)}}function AddonModQuizIndexComponent_Conditional_6_Conditional_5_Conditional_1_Template(n,o){if(1&n&&(C.j41(0,"ion-item",16)(1,"ion-label")(2,"p",13),C.EFF(3),C.nI1(4,"translate"),C.k0s(),C.j41(5,"p"),C.nrm(6,"core-format-text",20),C.k0s()()()),2&n){const n=C.XpG(3);C.R7$(3),C.JRh(C.bMT(4,6,"addon.mod_quiz.comment")),C.R7$(3),C.Y8G("component",n.component)("componentId",n.componentId)("text",n.gradebookFeedback)("contextInstanceId",n.module.id)("courseId",n.courseId)}}function AddonModQuizIndexComponent_Conditional_6_Conditional_5_Conditional_2_Template(n,o){if(1&n&&(C.nrm(0,"hr"),C.j41(1,"ion-item",21)(2,"ion-label")(3,"p",13),C.EFF(4),C.nI1(5,"translate"),C.k0s(),C.j41(6,"p"),C.nrm(7,"core-format-text",20),C.k0s()()()),2&n){const n=C.XpG(3);C.R7$(4),C.JRh(C.bMT(5,6,"addon.mod_quiz.overallfeedback")),C.R7$(3),C.Y8G("component",n.component)("componentId",n.componentId)("text",n.overallFeedback)("contextInstanceId",n.module.id)("courseId",n.courseId)}}function AddonModQuizIndexComponent_Conditional_6_Conditional_5_Template(n,o){if(1&n&&C.DNE(0,AddonModQuizIndexComponent_Conditional_6_Conditional_5_Conditional_0_Template,6,2,"ion-item",15)(1,AddonModQuizIndexComponent_Conditional_6_Conditional_5_Conditional_1_Template,7,8,"ion-item",16)(2,AddonModQuizIndexComponent_Conditional_6_Conditional_5_Conditional_2_Template,8,8),2&n){const n=C.XpG(2);C.vxM(0,n.overallStats&&n.gradeResult?0:-1),C.R7$(),C.vxM(1,n.gradebookFeedback?1:-1),C.R7$(),C.vxM(2,n.quiz.showFeedback&&n.overallFeedback?2:-1)}}function AddonModQuizIndexComponent_Conditional_6_For_8_Conditional_8_Conditional_0_Template(n,o){if(1&n&&(C.j41(0,"p"),C.EFF(1),C.nI1(2,"translate"),C.k0s()),2&n){const n=C.XpG(2).$implicit,o=C.XpG(2);C.R7$(),C.SpI(" ",C.i5U(2,1,"core.grades.gradelong",C.eq3(7,_c1,C.l_i(4,_c2,n.formattedGrade,o.quiz.gradeFormatted)))," ")}}function AddonModQuizIndexComponent_Conditional_6_For_8_Conditional_8_Conditional_1_Template(n,o){1&n&&(C.j41(0,"p"),C.EFF(1),C.nI1(2,"translate"),C.k0s()),2&n&&(C.R7$(),C.JRh(C.bMT(2,1,"addon.mod_quiz.notyetgraded")))}function AddonModQuizIndexComponent_Conditional_6_For_8_Conditional_8_Template(n,o){if(1&n&&C.DNE(0,AddonModQuizIndexComponent_Conditional_6_For_8_Conditional_8_Conditional_0_Template,3,9,"p")(1,AddonModQuizIndexComponent_Conditional_6_For_8_Conditional_8_Conditional_1_Template,3,3),2&n){const n=C.XpG().$implicit;C.vxM(0,void 0!==n.rescaledGrade&&n.rescaledGrade>=0?0:1)}}function AddonModQuizIndexComponent_Conditional_6_For_8_Conditional_11_Template(n,o){if(1&n){const n=C.RV6();C.nrm(0,"hr"),C.j41(1,"ion-button",27),C.bIt("click",(function AddonModQuizIndexComponent_Conditional_6_For_8_Conditional_11_Template_ion_button_click_1_listener(){C.eBV(n);const o=C.XpG().$implicit,t=C.XpG(2);return C.Njj(t.reviewAttempt(o.id))})),C.nrm(2,"ion-icon",28),C.EFF(3),C.nI1(4,"translate"),C.k0s()}2&n&&(C.R7$(3),C.SpI(" ",C.bMT(4,1,"addon.mod_quiz.review")," "))}function AddonModQuizIndexComponent_Conditional_6_For_8_Conditional_12_Template(n,o){if(1&n&&(C.nrm(0,"hr"),C.j41(1,"ion-item",29)(2,"ion-label")(3,"p"),C.nrm(4,"ion-icon",19),C.EFF(5),C.k0s()()()),2&n){const n=C.XpG().$implicit;C.R7$(5),C.SpI(" ",n.cannotReviewMessage," ")}}function AddonModQuizIndexComponent_Conditional_6_For_8_Conditional_13_Template(n,o){1&n&&(C.nrm(0,"hr"),C.j41(1,"ion-item",30)(2,"ion-label")(3,"p"),C.nrm(4,"ion-icon",31),C.EFF(5),C.nI1(6,"translate"),C.k0s()()()),2&n&&(C.R7$(5),C.SpI(" ",C.bMT(6,1,"addon.mod_quiz.finishedofflinenotice")," "))}function AddonModQuizIndexComponent_Conditional_6_For_8_Template(n,o){if(1&n&&(C.j41(0,"ion-accordion",14)(1,"ion-item",22)(2,"ion-label")(3,"h3"),C.EFF(4),C.nI1(5,"translate"),C.k0s()(),C.j41(6,"div",23),C.nrm(7,"addon-mod-quiz-attempt-state",24),C.DNE(8,AddonModQuizIndexComponent_Conditional_6_For_8_Conditional_8_Template,2,1),C.k0s()(),C.j41(9,"div",25),C.nrm(10,"addon-mod-quiz-attempt-info",26),C.DNE(11,AddonModQuizIndexComponent_Conditional_6_For_8_Conditional_11_Template,5,3)(12,AddonModQuizIndexComponent_Conditional_6_For_8_Conditional_12_Template,6,1)(13,AddonModQuizIndexComponent_Conditional_6_For_8_Conditional_13_Template,7,3),C.k0s()()),2&n){const n=o.$implicit,t=C.XpG(2);C.Y8G("value",n.id),C.R7$(4),C.JRh(C.i5U(5,9,"addon.mod_quiz.attempt",C.eq3(12,_c1,n.attempt))),C.R7$(3),C.Y8G("state",n.state)("finishedOffline",n.finishedOffline),C.R7$(),C.vxM(8,n.finished&&t.quiz.showAttemptsGrades?8:-1),C.R7$(2),C.Y8G("quiz",t.quiz)("attempt",n)("additionalData",n.additionalData),C.R7$(),C.vxM(11,n.canReview?11:n.completed&&n.cannotReviewMessage?12:n.finishedOffline?13:-1)}}function AddonModQuizIndexComponent_Conditional_6_Template(n,o){if(1&n&&(C.j41(0,"ion-card",5)(1,"ion-card-header",12)(2,"ion-card-title"),C.EFF(3),C.nI1(4,"translate"),C.k0s()(),C.DNE(5,AddonModQuizIndexComponent_Conditional_6_Conditional_5_Template,3,3),C.j41(6,"ion-accordion-group"),C.Z7z(7,AddonModQuizIndexComponent_Conditional_6_For_8_Template,14,14,"ion-accordion",14,_forTrack0),C.k0s()()),2&n){const n=C.XpG();C.R7$(3),C.JRh(C.bMT(4,2,"addon.mod_quiz.summaryofattempts")),C.R7$(2),C.vxM(5,n.quiz&&n.showResults&&(n.gradeResult||n.gradeOverridden||n.gradebookFeedback||n.quiz.showFeedback&&n.overallFeedback)?5:-1),C.R7$(2),C.Dyx(n.attempts)}}function AddonModQuizIndexComponent_ng_container_7_ion_item_2_Template(n,o){if(1&n&&(C.j41(0,"ion-item",12)(1,"ion-label")(2,"p"),C.EFF(3),C.k0s()()()),2&n){const n=o.$implicit;C.R7$(3),C.JRh(n)}}function AddonModQuizIndexComponent_ng_container_7_ion_card_3_Template(n,o){1&n&&(C.j41(0,"ion-card",38)(1,"ion-item",12)(2,"ion-label")(3,"p"),C.EFF(4),C.nI1(5,"translate"),C.k0s()()()()),2&n&&(C.R7$(4),C.JRh(C.bMT(5,1,"addon.mod_quiz.noquestions")))}function AddonModQuizIndexComponent_ng_container_7_ion_card_4_p_6_Template(n,o){if(1&n&&(C.j41(0,"p"),C.EFF(1),C.k0s()),2&n){const n=o.$implicit;C.ZvI("addon-mod_quiz-unsupported-question addon-mod_quiz-unsupported-question-",n,""),C.R7$(),C.SpI(" ",n," ")}}function AddonModQuizIndexComponent_ng_container_7_ion_card_4_Template(n,o){if(1&n&&(C.j41(0,"ion-card",39)(1,"ion-item",12)(2,"ion-label")(3,"p",13),C.EFF(4),C.nI1(5,"translate"),C.k0s(),C.DNE(6,AddonModQuizIndexComponent_ng_container_7_ion_card_4_p_6_Template,2,4,"p",40),C.k0s()()()),2&n){const n=C.XpG(2);C.R7$(4),C.JRh(C.bMT(5,2,"addon.mod_quiz.errorquestionsnotsupported")),C.R7$(2),C.Y8G("ngForOf",n.unsupportedQuestions)}}function AddonModQuizIndexComponent_ng_container_7_ion_card_5_p_6_Template(n,o){if(1&n&&(C.j41(0,"p"),C.EFF(1),C.k0s()),2&n){const n=o.$implicit;C.ZvI("addon-mod_quiz-unsupported-rule addon-mod_quiz-unsupported-rule-",n,""),C.R7$(),C.SpI(" ",n," ")}}function AddonModQuizIndexComponent_ng_container_7_ion_card_5_Template(n,o){if(1&n&&(C.j41(0,"ion-card",41)(1,"ion-item",12)(2,"ion-label")(3,"p",13),C.EFF(4),C.nI1(5,"translate"),C.k0s(),C.DNE(6,AddonModQuizIndexComponent_ng_container_7_ion_card_5_p_6_Template,2,4,"p",40),C.k0s()()()),2&n){const n=C.XpG(2);C.R7$(4),C.JRh(C.bMT(5,2,"addon.mod_quiz.errorrulesnotsupported")),C.R7$(2),C.Y8G("ngForOf",n.unsupportedRules)}}function AddonModQuizIndexComponent_ng_container_7_ion_card_6_Template(n,o){if(1&n&&(C.j41(0,"ion-card",42)(1,"ion-item",12)(2,"ion-label")(3,"p",13),C.EFF(4),C.nI1(5,"translate"),C.k0s(),C.j41(6,"p",43),C.EFF(7),C.k0s()()()()),2&n){const n=C.XpG(2);C.R7$(4),C.JRh(C.bMT(5,2,"addon.mod_quiz.errorbehaviournotsupported")),C.R7$(3),C.JRh(n.quiz.preferredbehaviour)}}function AddonModQuizIndexComponent_ng_container_7_ion_card_7_p_9_Template(n,o){if(1&n&&(C.j41(0,"p"),C.EFF(1),C.k0s()),2&n){const n=o.$implicit;C.R7$(),C.JRh(n)}}function AddonModQuizIndexComponent_ng_container_7_ion_card_7_Template(n,o){if(1&n&&(C.j41(0,"ion-card",44)(1,"ion-item",12)(2,"ion-label")(3,"p",13),C.EFF(4),C.nI1(5,"translate"),C.k0s(),C.j41(6,"p"),C.EFF(7),C.nI1(8,"translate"),C.k0s(),C.DNE(9,AddonModQuizIndexComponent_ng_container_7_ion_card_7_p_9_Template,2,1,"p",45),C.k0s()()()),2&n){const n=C.XpG(2);C.R7$(4),C.JRh(C.bMT(5,3,"addon.mod_quiz.canattemptbutnotsubmit")),C.R7$(3),C.JRh(C.bMT(8,5,"addon.mod_quiz.warningquestionsnotsupported")),C.R7$(2),C.Y8G("ngForOf",n.unsupportedQuestions)}}function AddonModQuizIndexComponent_ng_container_7_Template(n,o){if(1&n&&(C.qex(0),C.j41(1,"ion-card",32),C.DNE(2,AddonModQuizIndexComponent_ng_container_7_ion_item_2_Template,4,1,"ion-item",10),C.k0s(),C.DNE(3,AddonModQuizIndexComponent_ng_container_7_ion_card_3_Template,6,3,"ion-card",33)(4,AddonModQuizIndexComponent_ng_container_7_ion_card_4_Template,7,4,"ion-card",34)(5,AddonModQuizIndexComponent_ng_container_7_ion_card_5_Template,7,4,"ion-card",35)(6,AddonModQuizIndexComponent_ng_container_7_ion_card_6_Template,8,4,"ion-card",36)(7,AddonModQuizIndexComponent_ng_container_7_ion_card_7_Template,10,7,"ion-card",37),C.bVm()),2&n){const n=C.XpG();C.R7$(2),C.Y8G("ngForOf",n.preventMessages),C.R7$(),C.Y8G("ngIf",0===n.quiz.hasquestions),C.R7$(),C.Y8G("ngIf",!n.hasSupportedQuestions&&n.unsupportedQuestions.length),C.R7$(),C.Y8G("ngIf",n.unsupportedRules.length),C.R7$(),C.Y8G("ngIf",!1===n.behaviourSupported),C.R7$(),C.Y8G("ngIf",n.hasSupportedQuestions&&n.unsupportedQuestions.length)}}function AddonModQuizIndexComponent_div_8_div_1_ion_button_1_ion_spinner_1_Template(n,o){1&n&&C.nrm(0,"ion-spinner",54)}function AddonModQuizIndexComponent_div_8_div_1_ion_button_1_Template(n,o){if(1&n){const n=C.RV6();C.j41(0,"ion-button",52),C.bIt("click",(function AddonModQuizIndexComponent_div_8_div_1_ion_button_1_Template_ion_button_click_0_listener(){C.eBV(n);const o=C.XpG(3);return C.Njj(o.attemptQuiz())})),C.DNE(1,AddonModQuizIndexComponent_div_8_div_1_ion_button_1_ion_spinner_1_Template,1,0,"ion-spinner",53),C.EFF(2),C.nI1(3,"translate"),C.k0s()}if(2&n){const n=C.XpG(3);C.Y8G("disabled",n.showStatusSpinner),C.R7$(),C.Y8G("ngIf",n.showStatusSpinner),C.R7$(),C.SpI(" ",C.bMT(3,3,n.buttonText)," ")}}function AddonModQuizIndexComponent_div_8_div_1_ion_button_2_Template(n,o){if(1&n&&(C.j41(0,"ion-button",55),C.EFF(1),C.nI1(2,"translate"),C.nrm(3,"ion-icon",56),C.k0s()),2&n){const n=C.XpG(3);C.Y8G("href",n.module.url)("showBrowserWarning",!1),C.R7$(),C.SpI(" ",C.bMT(2,3,"core.openinbrowser")," ")}}function AddonModQuizIndexComponent_div_8_div_1_Template(n,o){if(1&n&&(C.j41(0,"div",49),C.DNE(1,AddonModQuizIndexComponent_div_8_div_1_ion_button_1_Template,4,5,"ion-button",50)(2,AddonModQuizIndexComponent_div_8_div_1_ion_button_2_Template,4,5,"ion-button",51),C.k0s()),2&n){const n=C.XpG(2);C.R7$(),C.Y8G("ngIf",n.buttonText),C.R7$(),C.Y8G("ngIf",!n.buttonText&&(!n.hasSupportedQuestions&&n.unsupportedQuestions.length||n.unsupportedRules.length||!1===n.behaviourSupported))}}function AddonModQuizIndexComponent_div_8_Template(n,o){if(1&n&&(C.j41(0,"div",46),C.DNE(1,AddonModQuizIndexComponent_div_8_div_1_Template,3,2,"div",47),C.nrm(2,"core-course-module-navigation",48),C.k0s()),2&n){const n=C.XpG();C.R7$(),C.Y8G("ngIf",n.quiz),C.R7$(),C.Y8G("courseId",n.courseId)("currentModuleId",n.module.id)}}let E=(()=>{var n;class AddonModQuizIndexComponent extends a.y{constructor(n,o){super("AddonModQuizIndexComponent",n,o),this.content=n,this.component=h.Qs,this.pluginName="quiz",this.hasOffline=!1,this.hasSupportedQuestions=!1,this.accessRules=[],this.unsupportedRules=[],this.unsupportedQuestions=[],this.behaviourSupported=!1,this.showResults=!1,this.gradeOverridden=!1,this.preventMessages=[],this.showStatusSpinner=!0,this.showReviewColumn=!1,this.attempts=[],this.fetchContentDefaultError="addon.mod_quiz.errorgetquiz",this.syncEventName=h.Po,this.moreAttempts=!1,this.overallStats=!1,this.hasPlayed=!1}ngOnInit(){var _superprop_getNgOnInit=()=>super.ngOnInit,n=this;return(0,e.A)((function*(){_superprop_getNgOnInit().call(n),n.finishedObserver=_.z.on(h.I5,(o=>{n.quiz&&o.quizId==n.quiz.id&&(n.autoReview=o)}),n.siteId),yield n.loadContent(!1,!0)}))()}attemptQuiz(){var n=this;return(0,e.A)((function*(){if(n.showStatusSpinner||!n.quiz)return;if(!g.AddonModQuiz.isQuizOffline(n.quiz))return n.openQuiz();if(n.currentStatus===i.DownloadStatus.DOWNLOADED)return n.openQuiz();n.showStatusSpinner=!0;try{yield c.n.prefetch(n.module,n.courseId,!0),n.openQuiz()}catch(o){n.hasOffline?n.openQuiz():u.CoreDomUtils.showErrorModalDefault(o,"core.errordownloading",!0)}finally{n.showStatusSpinner=!1}}))()}fetchContent(n,o=!1,t=!1){var i=this;return(0,e.A)((function*(){const n=yield g.AddonModQuiz.getQuiz(i.courseId,i.module.id);i.gradeMethodReadable=g.AddonModQuiz.getQuizGradeMethod(n.grademethod),i.now=Date.now(),i.dataRetrieved.emit(n),i.description=n.intro||i.description,i.candidateQuiz=n;const e=yield z.AddonModQuizSync.getSyncWarnings(n.id);null!=e&&e.length&&(u.CoreDomUtils.showErrorModal(m.Ni.buildMessage(e)),yield z.AddonModQuizSync.setSyncWarnings(n.id,[])),g.AddonModQuiz.isQuizOffline(n)?o&&(yield l.g.ignoreErrors(i.syncActivity(t))):i.showStatusSpinner=!1,g.AddonModQuiz.isQuizOffline(n)&&(i.setStatusListener(),i.syncTime=yield z.AddonModQuizSync.getReadableSyncTime(n.id),i.hasOffline=yield z.AddonModQuizSync.hasDataToSync(n.id)),i.quizAccessInfo=yield g.AddonModQuiz.getQuizAccessInformation(n.id,{cmId:i.module.id}),i.showReviewColumn=i.quizAccessInfo.canreviewmyattempts,i.accessRules=i.quizAccessInfo.accessrules,i.unsupportedRules=g.AddonModQuiz.getUnsupportedRules(i.quizAccessInfo.activerulenames),n.preferredbehaviour&&(i.behaviourSupported=r.CoreQuestionBehaviourDelegate.isBehaviourSupported(n.preferredbehaviour));const d=yield g.AddonModQuiz.getQuizRequiredQtypes(n.id,{cmId:i.module.id});i.unsupportedQuestions=g.AddonModQuiz.getUnsupportedQuestions(d),i.hasSupportedQuestions=!!d.find((n=>"random"!=n&&-1==i.unsupportedQuestions.indexOf(n))),yield i.getAttempts(n,i.quizAccessInfo),i.quiz=n}))()}getAttempts(n,o){var t=this;return(0,e.A)((function*(){t.bestGrade=yield g.AddonModQuiz.getUserBestGrade(n.id,{cmId:t.module.id}),t.attemptAccessInfo=yield g.AddonModQuiz.getAttemptAccessInformation(n.id,0,{cmId:t.module.id});const e=yield g.AddonModQuiz.getUserAttempts(n.id,{cmId:t.module.id});if(t.attempts=yield t.treatAttempts(n,o,e),t.attempts.length){t.moreAttempts=!g.AddonModQuiz.isAttemptCompleted(t.attempts[0].state)||!t.attemptAccessInfo.isfinished}else t.moreAttempts=!t.attemptAccessInfo.isfinished;t.getButtonText(n),yield t.getResultInfo(n)}))()}getButtonText(n){var o,t,e,i,d,a,r;(this.buttonText="",0!==n.hasquestions)&&(this.attempts.length&&!g.AddonModQuiz.isAttemptCompleted(this.attempts[0].state)?null!==(e=this.quizAccessInfo)&&void 0!==e&&e.canattempt?this.buttonText="addon.mod_quiz.continueattemptquiz":null!==(i=this.quizAccessInfo)&&void 0!==i&&i.canpreview&&(this.buttonText="addon.mod_quiz.continuepreview"):null!==(d=this.quizAccessInfo)&&void 0!==d&&d.canattempt?(this.preventMessages=(null===(r=this.attemptAccessInfo)||void 0===r?void 0:r.preventnewattemptreasons)||[],this.preventMessages.length||(this.buttonText=this.attempts.length?"addon.mod_quiz.reattemptquiz":"addon.mod_quiz.attemptquiznow")):null!==(a=this.quizAccessInfo)&&void 0!==a&&a.canpreview&&(this.buttonText="addon.mod_quiz.previewquiznow"));this.buttonText&&(this.preventMessages=(null===(o=this.quizAccessInfo)||void 0===o?void 0:o.preventaccessreasons)||[],this.moreAttempts?null!==(t=this.quizAccessInfo)&&void 0!==t&&t.canattempt&&this.preventMessages.length?this.buttonText="":this.hasSupportedQuestions&&!this.unsupportedRules.length&&this.behaviourSupported||(this.buttonText=""):this.buttonText="")}getResultInfo(n){var o=this;return(0,e.A)((function*(){var t,e;if(!o.attempts.length||!n.showAttemptsGrades||null===(t=o.bestGrade)||void 0===t||!t.hasgrade||void 0===(null===(e=o.gradebookData)||void 0===e?void 0:e.grade))return o.showResults=!1,void 0;const i=o.bestGrade.grade,d=g.AddonModQuiz.formatGrade(o.gradebookData.grade,n.decimalpoints),a=g.AddonModQuiz.formatGrade(i,n.decimalpoints);let r=d;if(o.showResults=!0,o.gradeOverridden=d!=a,o.gradebookFeedback=o.gradebookData.feedback,i&&i>o.gradebookData.grade&&o.gradebookData.grade==n.grade&&(o.gradeOverridden=!1,r=a),o.gradeResult=p.HT.instant("core.grades.gradelong",{$a:{grade:r,max:n.gradeFormatted}}),n.showFeedback){const t=yield g.AddonModQuiz.getFeedbackForGrade(n.id,o.gradebookData.grade,{cmId:o.module.id});o.overallFeedback=t.feedbacktext}}))()}logActivity(){var n=this;return(0,e.A)((function*(){n.quiz&&(yield l.g.ignoreErrors(g.AddonModQuiz.logViewQuiz(n.quiz.id)),n.analyticsLogEvent("mod_quiz_view_quiz"))}))()}goToAutoReview(n){var o=this;return(0,e.A)((function*(){if(!o.autoReview)return;o.checkCompletion();const t=n.find((n=>{var t;return n.id===(null===(t=o.autoReview)||void 0===t?void 0:t.attemptId)}));if(o.autoReview=void 0,!o.quiz||!o.quizAccessInfo||!t)return;(yield f.AddonModQuizHelper.canReviewAttempt(o.quiz,o.quizAccessInfo,t))&&(yield o.reviewAttempt(t.id))}))()}hasSyncSucceed(n){return n.attemptFinished&&this.checkCompletion(),n.updated}ionViewDidEnter(){var _superprop_getIonViewDidEnter=()=>super.ionViewDidEnter,n=this;return(0,e.A)((function*(){var o;if(_superprop_getIonViewDidEnter().call(n),!n.hasPlayed)return n.autoReview=void 0,void 0;n.hasPlayed=!1,n.showLoading=!0,null===(o=n.content)||void 0===o||o.scrollToTop(),yield l.g.ignoreErrors(n.refreshContent(!0)),n.showLoading=!1,n.autoReview=void 0}))()}ionViewDidLeave(){super.ionViewDidLeave(),this.autoReview=void 0}invalidateContent(){var n=this;return(0,e.A)((function*(){const o=[];o.push(g.AddonModQuiz.invalidateQuizData(n.courseId)),n.quiz&&(o.push(g.AddonModQuiz.invalidateUserAttemptsForUser(n.quiz.id)),o.push(g.AddonModQuiz.invalidateQuizAccessInformation(n.quiz.id)),o.push(g.AddonModQuiz.invalidateQuizRequiredQtypes(n.quiz.id)),o.push(g.AddonModQuiz.invalidateAttemptAccessInformation(n.quiz.id)),o.push(g.AddonModQuiz.invalidateCombinedReviewOptionsForUser(n.quiz.id)),o.push(g.AddonModQuiz.invalidateUserBestGradeForUser(n.quiz.id)),o.push(g.AddonModQuiz.invalidateGradeFromGradebook(n.courseId))),yield Promise.all(o)}))()}isRefreshSyncNeeded(n){return!(!this.courseId||!this.module)&&(n.attemptFinished&&this.checkCompletion(),!(!this.quiz||n.quizId!=this.quiz.id)&&(null===(o=this.content)||void 0===o||o.scrollToTop(),!0));var o}openQuiz(){this.hasPlayed=!0,s.CoreNavigator.navigateToSitePath(`${h.mF}/${this.courseId}/${this.module.id}/player`,{params:{moduleUrl:this.module.url}})}showStatus(n,o){this.showStatusSpinner=n===i.DownloadStatus.DOWNLOADING,n===i.DownloadStatus.DOWNLOADED&&o===i.DownloadStatus.DOWNLOADING&&this.showLoadingAndFetch()}sync(){var n=this;return(0,e.A)((function*(){return n.candidateQuiz?z.AddonModQuizSync.syncQuiz(n.candidateQuiz,!0):{warnings:[],attemptFinished:!1,updated:!1}}))()}treatAttempts(n,o,t){var i=this;return(0,e.A)((function*(){if(!t||!t.length)return n.gradeFormatted=g.AddonModQuiz.formatGrade(n.grade,n.decimalpoints),[];const a=g.AddonModQuiz.getLastCompletedAttemptFromList(t);let r=!1;i.autoReview&&a&&a.id>=i.autoReview.attemptId&&!i.isDestroyed&&i.isCurrentView&&(r=!0);const[s]=yield Promise.all([g.AddonModQuiz.getCombinedReviewOptions(n.id,{cmId:i.module.id}),i.getQuizGrade(),r?i.goToAutoReview(t):void 0]);i.options=s,f.AddonModQuizHelper.setQuizCalculatedData(n,i.options),i.overallStats=!!a&&i.options.alloptions.marks>=2;const u=yield Promise.all(t.map(function(){var t=(0,e.A)((function*(t){const[e,i]=yield Promise.all([f.AddonModQuizHelper.setAttemptCalculatedData(n,t),f.AddonModQuizHelper.canReviewAttempt(n,o,t)]);if(e.canReview=i,i||(e.cannotReviewMessage=f.AddonModQuizHelper.getCannotReviewMessage(n,t,!0)),n.showFeedback&&"finished"===t.state&&s.someoptions.overallfeedback&&(0,d.L)(e.rescaledGrade)){const o=yield g.AddonModQuiz.getFeedbackForGrade(n.id,e.rescaledGrade,{cmId:n.coursemodule});o.feedbacktext&&(e.additionalData=[{id:"feedback",title:p.HT.instant("addon.mod_quiz.feedback"),content:o.feedbacktext}])}return e}));return function(n){return t.apply(this,arguments)}}()));return u.reverse()}))()}getQuizGrade(){var n=this;return(0,e.A)((function*(){try{const t=yield g.AddonModQuiz.getGradeFromGradebook(n.courseId,n.module.id);if(t){var o;const e=null!==(o=t.graderaw)&&void 0!==o?o:null!=t.grade?Number(t.grade):void 0;n.gradebookData={grade:(0,d.J)(e),feedback:t.feedback}}}catch{var t;n.gradebookData={grade:null===(t=n.bestGrade)||void 0===t?void 0:t.grade}}}))()}reviewAttempt(n){var o=this;return(0,e.A)((function*(){yield s.CoreNavigator.navigateToSitePath(`${h.mF}/${o.courseId}/${o.module.id}/review/${n}`)}))()}ngOnDestroy(){var n;super.ngOnDestroy(),null===(n=this.finishedObserver)||void 0===n||n.off()}}return(n=AddonModQuizIndexComponent).ɵfac=function AddonModQuizIndexComponent_Factory(o){return new(o||n)(C.rXU(M.W9),C.rXU(I.k,8))},n.ɵcmp=C.VBU({type:n,selectors:[["addon-mod-quiz-index"]],features:[C.Vt3],decls:9,vars:12,consts:[["slot","end"],["fill","clear","aria-haspopup","true",3,"ariaLabel"],[3,"hideUntil"],[3,"completionChanged","module","description","component","componentId","courseId","hasDataToSync"],[4,"ngIf"],[1,"addon-mod_quiz-attempts-summary"],["collapsible-footer","","slot","fixed",4,"ngIf"],["fill","clear","aria-haspopup","true",3,"click","ariaLabel"],["name","fas-circle-info","slot","icon-only","aria-hidden","true"],["iconAction","fas-circle-info",3,"action","priority","content"],["class","ion-text-wrap",4,"ngFor","ngForOf"],["class","ion-text-wrap",4,"ngIf"],[1,"ion-text-wrap"],[1,"item-heading"],["toggleIconSlot","start",3,"value"],[1,"ion-text-wrap","addon-mod_quiz-grade-result"],[1,"ion-text-wrap","addon-mod_quiz-gradebook-feedback"],[1,"addon-mod_quiz-grade-result-grade"],[1,"addon-mod_quiz-grade-overridden-notice"],["name","fas-circle-info","color","info","slot","start","aria-hidden","true"],["contextLevel","module",3,"component","componentId","text","contextInstanceId","courseId"],[1,"ion-text-wrap","addon-mod_quiz-overall-feedback"],["slot","header","lines","none",1,"ion-text-wrap","addon-mod_quiz-attempt-title"],["slot","end",1,"addon-mod_quiz-attempt-title-info"],[3,"state","finishedOffline"],["slot","content",1,"addon-mod_quiz-attempt-details"],[3,"quiz","attempt","additionalData"],["expand","block","fill","outline",1,"ion-text-wrap","ion-margin",3,"click"],["name","fas-magnifying-glass","slot","start","aria-hidden","true"],[1,"ion-text-wrap","addon-mod_quiz-attempt-noreview"],[1,"ion-text-wrap","addon-mod_quiz-attempt-finishedoffline"],["name","fas-clock","slot","start","aria-hidden","true"],[1,"core-danger-card","addon-mod_quiz-prevent-messages"],["class","core-danger-card addon-mod_quiz-no-questions",4,"ngIf"],["class","core-danger-card addon-mod_quiz-unsupported-questions",4,"ngIf"],["class","core-danger-card addon-mod_quiz-unsupported-rules",4,"ngIf"],["class","core-danger-card addon-mod_quiz-unsupported-behaviours",4,"ngIf"],["class","core-warning-card",4,"ngIf"],[1,"core-danger-card","addon-mod_quiz-no-questions"],[1,"core-danger-card","addon-mod_quiz-unsupported-questions"],[3,"class",4,"ngFor","ngForOf"],[1,"core-danger-card","addon-mod_quiz-unsupported-rules"],[1,"core-danger-card","addon-mod_quiz-unsupported-behaviours"],[1,"addon-mod_quiz-unsupported-behaviour"],[1,"core-warning-card"],[4,"ngFor","ngForOf"],["collapsible-footer","","slot","fixed"],["class","list-item-limited-width",4,"ngIf"],[3,"courseId","currentModuleId"],[1,"list-item-limited-width"],["expand","block","class","ion-margin ion-text-wrap",3,"disabled","click",4,"ngIf"],["class","ion-text-wrap ion-margin","expand","block","core-link","",3,"href","showBrowserWarning",4,"ngIf"],["expand","block",1,"ion-margin","ion-text-wrap",3,"click","disabled"],["slot","start","aria-hidden","true",4,"ngIf"],["slot","start","aria-hidden","true"],["expand","block","core-link","",1,"ion-text-wrap","ion-margin",3,"href","showBrowserWarning"],["name","fas-up-right-from-square","slot","end","aria-hidden","true"]],template:function AddonModQuizIndexComponent_Template(n,o){1&n&&(C.j41(0,"core-navbar-buttons",0),C.DNE(1,AddonModQuizIndexComponent_Conditional_1_Template,3,3,"ion-button",1)(2,AddonModQuizIndexComponent_Conditional_2_Template,3,4),C.k0s(),C.j41(3,"core-loading",2)(4,"core-course-module-info",3),C.bIt("completionChanged",(function AddonModQuizIndexComponent_Template_core_course_module_info_completionChanged_4_listener(){return o.onCompletionChange()})),C.k0s(),C.DNE(5,AddonModQuizIndexComponent_ion_card_5_Template,6,4,"ion-card",4)(6,AddonModQuizIndexComponent_Conditional_6_Template,9,4,"ion-card",5)(7,AddonModQuizIndexComponent_ng_container_7_Template,8,6,"ng-container",4)(8,AddonModQuizIndexComponent_div_8_Template,3,3,"div",6),C.k0s()),2&n&&(C.R7$(),C.vxM(1,o.courseContentsPage?2:1),C.R7$(2),C.Y8G("hideUntil",!o.showLoading),C.R7$(),C.Y8G("module",o.module)("description",o.description)("component",o.component)("componentId",o.componentId)("courseId",o.courseId)("hasDataToSync",!!o.buttonText&&o.hasOffline),C.R7$(),C.Y8G("ngIf",o.gradeMethodReadable||o.accessRules.length||o.syncTime),C.R7$(),C.vxM(6,o.quiz&&o.attempts.length?6:-1),C.R7$(),C.Y8G("ngIf",o.quiz),C.R7$(),C.Y8G("ngIf",!o.showLoading))},dependencies:[A.Sq,A.bT,v.B,b.Q,Q.R,q.c,x.t,R.B,T.j,F.i,k.T,M.xk,M.YH,M.Jm,M.b_,M.ME,M.tN,M.iq,M.uz,M.he,M.nf,M.w2,w.Y,$.Q,G.m,O.J,y.D9],styles:["[_nghost-%COMP%]   .addon-mod_quiz-attempts-summary[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--stroke)}[_nghost-%COMP%]   .addon-mod_quiz-attempts-summary[_ngcontent-%COMP%]   .addon-mod_quiz-grade-result[_ngcontent-%COMP%]{margin-top:var(--mdl-spacing-2)}[_nghost-%COMP%]   .addon-mod_quiz-attempts-summary[_ngcontent-%COMP%]   .addon-mod_quiz-grade-result[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-inline-start:0px;margin-inline-end:0px}[_nghost-%COMP%]   .addon-mod_quiz-attempts-summary[_ngcontent-%COMP%]   .addon-mod_quiz-grade-result[_ngcontent-%COMP%]   .addon-mod_quiz-grade-overridden-notice[_ngcontent-%COMP%]{margin-top:var(--mdl-spacing-2);margin-bottom:0}[_nghost-%COMP%]   .addon-mod_quiz-attempts-summary[_ngcontent-%COMP%]   .addon-mod_quiz-grade-result[_ngcontent-%COMP%]   .addon-mod_quiz-grade-result-grade[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .addon-mod_quiz-attempts-summary[_ngcontent-%COMP%]   .addon-mod_quiz-grade-result[_ngcontent-%COMP%]   .addon-mod_quiz-grade-result-grade[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{flex-grow:1}[_nghost-%COMP%]   .addon-mod_quiz-attempts-summary[_ngcontent-%COMP%]   .addon-mod_quiz-attempt-title-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;justify-content:center;min-height:60px;padding-top:var(--mdl-spacing-2);padding-bottom:var(--mdl-spacing-2);margin-inline-start:var(--mdl-spacing-2);font:var(--mdl-typography-body-font-md)}[_nghost-%COMP%]   .addon-mod_quiz-attempts-summary[_ngcontent-%COMP%]   .addon-mod_quiz-attempt-title-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;margin-top:var(--mdl-spacing-2)}[_nghost-%COMP%]   .addon-mod_quiz-attempts-summary[_ngcontent-%COMP%]   ion-accordion-group[_ngcontent-%COMP%]   .accordion-expanded[_ngcontent-%COMP%]   .addon-mod_quiz-attempt-title-info[_ngcontent-%COMP%], [_nghost-%COMP%]   .addon-mod_quiz-attempts-summary[_ngcontent-%COMP%]   ion-accordion-group[_ngcontent-%COMP%]   .accordion-expanding[_ngcontent-%COMP%]   .addon-mod_quiz-attempt-title-info[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]   .addon-mod_quiz-attempts-summary[_ngcontent-%COMP%]   ion-accordion-group[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font:var(--mdl-typography-subtitle-font-md)}[_nghost-%COMP%]   .addon-mod_quiz-attempts-summary[_ngcontent-%COMP%]   ion-accordion-group[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{background-color:var(--stroke);height:1px;margin:0px var(-mdl-spacing-4)}[_nghost-%COMP%]   .addon-mod_quiz-attempts-summary[_ngcontent-%COMP%]   ion-accordion-group[_ngcontent-%COMP%]   ion-accordion[_ngcontent-%COMP%]:nth-child(odd){--ion-item-background: var(--core-table-odd-cell-background)}[_nghost-%COMP%]   .addon-mod_quiz-attempts-summary[_ngcontent-%COMP%]   ion-accordion-group[_ngcontent-%COMP%]   ion-accordion[_ngcontent-%COMP%]:nth-child(2n){--ion-item-background: var(--core-table-even-cell-background)}"]}),AddonModQuizIndexComponent})()}}]);