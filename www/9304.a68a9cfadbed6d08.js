"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9304],{29304:(o,e,t)=>{t.r(e),t.d(e,{CorePasswordModalComponent:()=>p,CorePasswordModalModule:()=>_});var r=t(10467),n=t(52749),s=t(63153),a=t(79555),i=t(23780),d=t(54438);const l=["passwordForm"];function CorePasswordModalComponent_ion_item_19_Template(o,e){if(1&o&&(d.j41(0,"ion-item",11),d.nrm(1,"core-format-text",12),d.nI1(2,"translate"),d.k0s()),2&o){const o=d.XpG();d.R7$(),d.Y8G("text",d.bMT(2,1,o.error))}}let p=(()=>{var o;class CorePasswordModalComponent{constructor(){this.title="core.login.password",this.placeholder="core.login.password",this.submit="core.submit",this.password=""}submitPassword(o){var e=this;return(0,r.A)((function*(){o.preventDefault(),o.stopPropagation(),s.R.triggerFormSubmittedEvent(e.formElement,!1,n.CoreSites.getCurrentSiteId());const t=yield e.validatePassword(e.password);void 0===t.validated&&a.W3.dismiss(t),t.validated&&a.W3.dismiss(t),"string"==typeof t.error?e.error=t.error:t.error&&a.W3.dismiss(t.error)}))()}validatePassword(o){var e=this;return(0,r.A)((function*(){const t={password:o};if(!e.validator)return t;const r=yield i.CoreLoadings.show("core.loading",!0);try{return yield e.validator(o)}catch(o){t.validated=!1,t.error=o}finally{r.dismiss()}return t}))()}closeModal(){s.R.triggerFormCancelledEvent(this.formElement,n.CoreSites.getCurrentSiteId()),a.W3.dismiss()}}return(o=CorePasswordModalComponent).ɵfac=function CorePasswordModalComponent_Factory(e){return new(e||o)},o.ɵcmp=d.VBU({type:o,selectors:[["core-password-modal"]],viewQuery:function CorePasswordModalComponent_Query(o,e){if(1&o&&d.GBs(l,5),2&o){let o;d.mGM(o=d.lsd())&&(e.formElement=o.first)}},inputs:{title:"title",placeholder:"placeholder",submit:"submit",validator:"validator"},decls:24,vars:19,consts:[["passwordForm",""],["slot","end"],["fill","clear",3,"click","ariaLabel"],["slot","icon-only","name","fas-xmark","aria-hidden","true"],[1,"ion-padding"],[3,"ngSubmit"],["name","password","type","password","core-auto-focus","",1,"ion-text-wrap","core-ioninput-password",3,"ngModelChange","ariaLabel","placeholder","ngModel","clearOnEdit"],["slot","end","showIcon","fas-eye","hideIcon","fas-eye-slash"],["class","ion-text-wrap ion-padding-top text-danger",4,"ngIf"],["expand","block","type","submit",3,"disabled"],["type","submit",1,"core-submit-hidden-enter"],[1,"ion-text-wrap","ion-padding-top","text-danger"],[3,"text"]],template:function CorePasswordModalComponent_Template(o,e){if(1&o){const o=d.RV6();d.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title")(3,"h1"),d.EFF(4),d.nI1(5,"translate"),d.k0s()(),d.j41(6,"ion-buttons",1)(7,"ion-button",2),d.nI1(8,"translate"),d.bIt("click",(function CorePasswordModalComponent_Template_ion_button_click_7_listener(){return d.eBV(o),d.Njj(e.closeModal())})),d.nrm(9,"ion-icon",3),d.k0s()()()(),d.j41(10,"ion-content",4)(11,"form",5,0),d.bIt("ngSubmit",(function CorePasswordModalComponent_Template_form_ngSubmit_11_listener(t){return d.eBV(o),d.Njj(e.submitPassword(t))})),d.j41(13,"div")(14,"ion-item")(15,"ion-input",6),d.nI1(16,"translate"),d.nI1(17,"translate"),d.mxI("ngModelChange",(function CorePasswordModalComponent_Template_ion_input_ngModelChange_15_listener(t){return d.eBV(o),d.DH7(e.password,t)||(e.password=t),d.Njj(t)})),d.nrm(18,"ion-input-password-toggle",7),d.k0s()(),d.DNE(19,CorePasswordModalComponent_ion_item_19_Template,3,3,"ion-item",8),d.k0s(),d.j41(20,"ion-button",9),d.EFF(21),d.nI1(22,"translate"),d.k0s(),d.nrm(23,"input",10),d.k0s()()}2&o&&(d.R7$(4),d.JRh(d.bMT(5,9,e.title)),d.R7$(3),d.Y8G("ariaLabel",d.bMT(8,11,"core.close")),d.R7$(8),d.FS9("placeholder",d.bMT(16,13,e.placeholder)),d.Y8G("ariaLabel",d.bMT(17,15,e.placeholder)),d.R50("ngModel",e.password),d.Y8G("clearOnEdit",!1),d.R7$(4),d.Y8G("ngIf",e.error),d.R7$(),d.Y8G("disabled",!e.password),d.R7$(),d.SpI(" ",d.bMT(22,17,e.submit)," "))},encapsulation:2}),CorePasswordModalComponent})();var c=t(3353),m=t(60177),u=t(69901),w=t(86198),C=t(58197),b=t(88246),M=t(43570),f=t(89417),g=t(73465),h=t(73955);let _=(()=>{var o;class CorePasswordModalModule{}return(o=CorePasswordModalModule).ɵfac=function CorePasswordModalModule_Factory(e){return new(e||o)},o.ɵmod=d.$C({type:o}),o.ɵinj=d.G2t({imports:[c.n]}),CorePasswordModalModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&d.Obh(_,{declarations:[p],imports:[c.n]})),d.wjB(p,[m.bT,u.i,w.t,C.B,b.i,M.T,f.qT,f.BC,f.cb,f.vS,f.cV,g.Jm,g.QW,g.W9,g.eU,g.iq,g.$w,g.Wv,g.uz,g.BC,g.ai,g.Gw],[h.D9])}}]);