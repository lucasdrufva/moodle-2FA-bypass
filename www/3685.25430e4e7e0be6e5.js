"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3685],{3685:(e,t,n)=>{n.r(t),n.d(t,{default:()=>P});var o=n(54438),a=n(21182),i=n(3353),s=n(42858),r=n(7910),l=n(47720),u=n(69984),c=n(10467),d=n(52749),m=n(49882),b=n(47142),g=n(17847),p=n(24502),M=n(60177),_=n(16986),h=n(64422),C=n(58197),f=n(73465),y=n(19547),H=n(73955);function CoreMainMenuHomePage_core_empty_box_12_Template(e,t){1&e&&(o.nrm(0,"core-empty-box",8),o.nI1(1,"translate")),2&e&&o.Y8G("message",o.bMT(1,1,"core.courses.nocourses"))}function CoreMainMenuHomePage_core_tabs_outlet_13_Template(e,t){if(1&e){const e=o.RV6();o.j41(0,"core-tabs-outlet",9),o.bIt("ionChange",(function CoreMainMenuHomePage_core_tabs_outlet_13_Template_core_tabs_outlet_ionChange_0_listener(){o.eBV(e);const t=o.XpG();return o.Njj(t.tabSelected())})),o.k0s()}if(2&e){const e=o.XpG();o.Y8G("hideUntil",e.loaded)("tabs",e.tabs)}}let v=(()=>{var e;class CoreMainMenuHomePage{constructor(){this.siteName="",this.tabs=[],this.loaded=!1}ngOnInit(){var e=this;return(0,c.A)((function*(){yield e.loadSiteName(),e.subscription=g.CoreMainMenuHomeDelegate.getHandlersObservable().subscribe((t=>{t&&e.initHandlers(t)})),e.updateSiteObserver=m.z.on(m.z.SITE_UPDATED,(0,c.A)((function*(){yield e.loadSiteName()})),d.CoreSites.getCurrentSiteId())}))()}initHandlers(e){const t=g.CoreMainMenuHomeDelegate.areHandlersLoaded(),n=p.R.toObject(e,"title"),o=e.map((e=>{const t=this.tabs.find((t=>t.title==e.title));return t||{page:`/main/${r.K.PAGE_NAME}/${e.page}`,pageParams:e.pageParams,title:e.title,class:e.class,icon:e.icon,badge:e.badge}}));o.sort(((e,t)=>(n[t.title].priority||0)-(n[e.title].priority||0))),this.tabs=o,setTimeout((()=>{this.loaded=t}),50)}loadSiteName(){var e=this;return(0,c.A)((function*(){const t=d.CoreSites.getRequiredCurrentSite();e.siteName=(yield t.getSiteName())||""}))()}tabSelected(){d.CoreSites.loginNavigationFinished()}ionViewDidEnter(){var e;null===(e=this.tabsComponent)||void 0===e||e.ionViewDidEnter()}ionViewDidLeave(){var e;null===(e=this.tabsComponent)||void 0===e||e.ionViewDidLeave()}}return(e=CoreMainMenuHomePage).ɵfac=function CoreMainMenuHomePage_Factory(t){return new(t||e)},e.ɵcmp=o.VBU({type:e,selectors:[["page-core-mainmenu-home"]],viewQuery:function CoreMainMenuHomePage_Query(e,t){if(1&e&&o.GBs(b.k,5),2&e){let e;o.mGM(e=o.lsd())&&(t.tabsComponent=e.first)}},decls:14,vars:9,consts:[["slot","start"],[3,"text"],["contextLevel","system",1,"core-header-sitename",3,"text","contextInstanceId"],["src","assets/img/top_logo.png",1,"core-header-logo",3,"alt"],["slot","end"],[3,"hideUntil"],["icon","fas-house",3,"message",4,"ngIf"],[3,"hideUntil","tabs","ionChange",4,"ngIf"],["icon","fas-house",3,"message"],[3,"ionChange","hideUntil","tabs"]],template:function CoreMainMenuHomePage_Template(e,t){1&e&&(o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),o.nrm(3,"ion-back-button",1),o.nI1(4,"translate"),o.k0s(),o.j41(5,"ion-title")(6,"h1"),o.nrm(7,"core-format-text",2)(8,"img",3),o.k0s()(),o.j41(9,"ion-buttons",4),o.nrm(10,"core-user-menu-button"),o.k0s()()(),o.j41(11,"core-loading",5),o.DNE(12,CoreMainMenuHomePage_core_empty_box_12_Template,2,3,"core-empty-box",6),o.k0s(),o.DNE(13,CoreMainMenuHomePage_core_tabs_outlet_13_Template,1,2,"core-tabs-outlet",7)),2&e&&(o.R7$(3),o.Y8G("text",o.bMT(4,7,"core.back")),o.R7$(4),o.Y8G("text",t.siteName)("contextInstanceId",0),o.R7$(),o.Y8G("alt",t.siteName),o.R7$(3),o.Y8G("hideUntil",t.loaded),o.R7$(),o.Y8G("ngIf",0===t.tabs.length),o.R7$(),o.Y8G("ngIf",t.tabs.length>0))},dependencies:[M.bT,_.h,h.R,b.k,C.B,f.QW,f.eU,f.BC,f.ai,f.el,y.U,H.D9],encapsulation:2}),CoreMainMenuHomePage})();function buildRoutes(e){const t=(0,u.c)(e);return[...(0,s.B)(e,{path:"",data:{mainMenuTabRoot:r.K.PAGE_NAME},component:v,children:t.children}),...t.siblings]}let P=(()=>{var e;class CoreMainMenuHomeLazyModule{}return(e=CoreMainMenuHomeLazyModule).ɵfac=function CoreMainMenuHomeLazyModule_Factory(t){return new(t||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:a.bw,multi:!0,useFactory:buildRoutes,deps:[o.zZn]}],imports:[i.n,l.E]}),CoreMainMenuHomeLazyModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&o.Obh(P,{declarations:[v],imports:[i.n,l.E]}))}}]);