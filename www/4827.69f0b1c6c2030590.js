"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4827],{74827:(n,e,t)=>{t.r(e),t.d(e,{default:()=>x});var o=t(21182),i=t(3353),_=t(10467),a=t(54438),r=t(85190),s=t(67935),c=t(52749),g=t(89911),l=t(55554),d=t(98870),p=t(2806),m=t(74431),f=t(75629),u=t(49882),N=t(98320),h=t(26005),P=t(15324),T=t(24742),S=t(22693),A=t(79555),b=t(49588),G=t(23780),C=t(60177),y=t(76954),R=t(69502),$=t(17388),I=t(64422),M=t(13988),k=t(86198),j=t(88246),F=t(89417),v=t(73465),E=t(73955);const _c0=n=>({preferences:n}),_c1=()=>["loggedin","loggedoff"];function AddonNotificationsSettingsPage_core_context_menu_item_12_Template(n,e){if(1&n){const n=a.RV6();a.j41(0,"core-context-menu-item",10),a.nI1(1,"translate"),a.bIt("action",(function AddonNotificationsSettingsPage_core_context_menu_item_12_Template_core_context_menu_item_action_0_listener(){const e=a.eBV(n).$implicit,t=a.XpG();return a.Njj(t.openExtraPreferences(e))})),a.k0s()}if(2&n){const n=e.$implicit;a.Y8G("priority",n.priority)("content",a.bMT(1,3,n.label))("iconAction",n.icon)}}function AddonNotificationsSettingsPage_Conditional_18_Template(n,e){if(1&n&&(a.j41(0,"ion-card",9)(1,"ion-item"),a.nrm(2,"ion-icon",11),a.j41(3,"ion-label"),a.EFF(4),a.k0s()()()),2&n){const n=a.XpG();a.R7$(4),a.JRh(n.warningMessage())}}function AddonNotificationsSettingsPage_Conditional_19_ion_item_1_Template(n,e){if(1&n){const n=a.RV6();a.j41(0,"ion-item",15)(1,"ion-toggle",16),a.mxI("ngModelChange",(function AddonNotificationsSettingsPage_Conditional_19_ion_item_1_Template_ion_toggle_ngModelChange_1_listener(e){a.eBV(n);const t=a.XpG(2);return a.DH7(t.preferences.enableall,e)||(t.preferences.enableall=e),a.Njj(e)})),a.bIt("ngModelChange",(function AddonNotificationsSettingsPage_Conditional_19_ion_item_1_Template_ion_toggle_ngModelChange_1_listener(){a.eBV(n);const e=a.XpG(2);return a.Njj(e.enableAll(e.preferences.enableall))})),a.j41(2,"p",17),a.EFF(3),a.nI1(4,"translate"),a.k0s()()()}if(2&n){const n=a.XpG(2);a.R7$(),a.R50("ngModel",n.preferences.enableall),a.R7$(2),a.JRh(a.bMT(4,2,"addon.notifications.allownotifications"))}}function AddonNotificationsSettingsPage_Conditional_19_ion_item_2_Template(n,e){if(1&n){const n=a.RV6();a.j41(0,"ion-item",15)(1,"ion-toggle",16),a.mxI("ngModelChange",(function AddonNotificationsSettingsPage_Conditional_19_ion_item_2_Template_ion_toggle_ngModelChange_1_listener(e){a.eBV(n);const t=a.XpG(2);return a.DH7(t.notificationSound,e)||(t.notificationSound=e),a.Njj(e)})),a.bIt("ngModelChange",(function AddonNotificationsSettingsPage_Conditional_19_ion_item_2_Template_ion_toggle_ngModelChange_1_listener(){a.eBV(n);const e=a.XpG(2);return a.Njj(e.changeNotificationSound(e.notificationSound))})),a.j41(2,"p",17),a.EFF(3),a.nI1(4,"translate"),a.k0s()()()}if(2&n){const n=a.XpG(2);a.R7$(),a.R50("ngModel",n.notificationSound),a.R7$(2),a.JRh(a.bMT(4,2,"addon.notifications.playsound"))}}function AddonNotificationsSettingsPage_Conditional_19_ion_item_4_ion_select_option_5_Template(n,e){if(1&n&&(a.j41(0,"ion-select-option",22),a.EFF(1),a.k0s()),2&n){const n=e.$implicit;a.Y8G("value",n.name),a.R7$(),a.SpI(" ",n.displayname," ")}}function AddonNotificationsSettingsPage_Conditional_19_ion_item_4_Template(n,e){if(1&n){const n=a.RV6();a.j41(0,"ion-item",18)(1,"ion-select",19),a.mxI("ngModelChange",(function AddonNotificationsSettingsPage_Conditional_19_ion_item_4_Template_ion_select_ngModelChange_1_listener(e){a.eBV(n);const t=a.XpG(2);return a.DH7(t.currentProcessorName,e)||(t.currentProcessorName=e),a.Njj(e)})),a.bIt("ionChange",(function AddonNotificationsSettingsPage_Conditional_19_ion_item_4_Template_ion_select_ionChange_1_listener(e){a.eBV(n);const t=a.XpG(2);return a.Njj(t.changeProcessor(e))})),a.j41(2,"p",20),a.EFF(3),a.nI1(4,"translate"),a.k0s(),a.DNE(5,AddonNotificationsSettingsPage_Conditional_19_ion_item_4_ion_select_option_5_Template,2,2,"ion-select-option",21),a.k0s()()}if(2&n){const n=a.XpG(2);a.R7$(),a.R50("ngModel",n.currentProcessorName),a.R7$(2),a.JRh(a.bMT(4,3,"addon.notifications.typeofnotification")),a.R7$(2),a.Y8G("ngForOf",null==n.preferences?null:n.preferences.processors)}}function AddonNotificationsSettingsPage_Conditional_19_ng_container_5_ng_container_1_Template(n,e){1&n&&a.eu8(0)}function AddonNotificationsSettingsPage_Conditional_19_ng_container_5_Template(n,e){if(1&n&&(a.qex(0),a.DNE(1,AddonNotificationsSettingsPage_Conditional_19_ng_container_5_ng_container_1_Template,1,0,"ng-container",23),a.bVm()),2&n){const n=a.XpG(2),e=a.sdS(21);a.R7$(),a.Y8G("ngTemplateOutlet",e)("ngTemplateOutletContext",a.eq3(2,_c0,n.preferences))}}function AddonNotificationsSettingsPage_Conditional_19_ng_container_6_ng_container_1_Template(n,e){1&n&&a.eu8(0)}function AddonNotificationsSettingsPage_Conditional_19_ng_container_6_Template(n,e){if(1&n&&(a.qex(0),a.DNE(1,AddonNotificationsSettingsPage_Conditional_19_ng_container_6_ng_container_1_Template,1,0,"ng-container",23),a.bVm()),2&n){const n=a.XpG(2),e=a.sdS(23);a.R7$(),a.Y8G("ngTemplateOutlet",e)("ngTemplateOutletContext",a.eq3(2,_c0,n.preferences))}}function AddonNotificationsSettingsPage_Conditional_19_Template(n,e){if(1&n&&(a.j41(0,"ion-card"),a.DNE(1,AddonNotificationsSettingsPage_Conditional_19_ion_item_1_Template,5,4,"ion-item",12)(2,AddonNotificationsSettingsPage_Conditional_19_ion_item_2_Template,5,4,"ion-item",12),a.k0s(),a.j41(3,"ion-card"),a.DNE(4,AddonNotificationsSettingsPage_Conditional_19_ion_item_4_Template,6,5,"ion-item",13)(5,AddonNotificationsSettingsPage_Conditional_19_ng_container_5_Template,2,4,"ng-container",14)(6,AddonNotificationsSettingsPage_Conditional_19_ng_container_6_Template,2,4,"ng-container",14),a.k0s()),2&n){const n=a.XpG();a.R7$(),a.Y8G("ngIf",n.preferences),a.R7$(),a.Y8G("ngIf",n.canChangeSound),a.R7$(2),a.Y8G("ngIf",null==n.preferences||null==n.preferences.processors?null:n.preferences.processors.length),a.R7$(),a.Y8G("ngIf",n.loggedInOffLegacyMode),a.R7$(),a.Y8G("ngIf",!n.loggedInOffLegacyMode)}}function AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_col_7_ng_container_1_core_button_with_spinner_1_Template(n,e){if(1&n){const n=a.RV6();a.j41(0,"core-button-with-spinner",39)(1,"ion-toggle",16),a.mxI("ngModelChange",(function AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_col_7_ng_container_1_core_button_with_spinner_1_Template_ion_toggle_ngModelChange_1_listener(e){a.eBV(n);const t=a.XpG(2).$implicit,o=a.XpG().$implicit,i=a.XpG(3);return a.DH7(o.processorsByName[i.currentProcessorName][t].checked,e)||(o.processorsByName[i.currentProcessorName][t].checked=e),a.Njj(e)})),a.bIt("ngModelChange",(function AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_col_7_ng_container_1_core_button_with_spinner_1_Template_ion_toggle_ngModelChange_1_listener(){a.eBV(n);const e=a.XpG(2).$implicit,t=a.XpG().$implicit,o=a.XpG(3);return a.Njj(o.changePreferenceLegacy(t,e))})),a.k0s()()}if(2&n){const n=a.XpG(2).$implicit,e=a.XpG().$implicit,t=a.XpG(3);a.Y8G("loading",e.processorsByName[t.currentProcessorName][n].updating),a.R7$(),a.R50("ngModel",e.processorsByName[t.currentProcessorName][n].checked)}}function AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_col_7_ng_container_1_span_2_Template(n,e){1&n&&(a.j41(0,"span",40),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&n&&(a.R7$(),a.SpI(" ",a.bMT(2,1,"core.settings.forced")," "))}function AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_col_7_ng_container_1_span_3_Template(n,e){1&n&&(a.j41(0,"span",40),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&n&&(a.R7$(),a.SpI(" ",a.bMT(2,1,"core.settings.disallowed")," "))}function AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_col_7_ng_container_1_Template(n,e){if(1&n&&(a.qex(0),a.DNE(1,AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_col_7_ng_container_1_core_button_with_spinner_1_Template,2,2,"core-button-with-spinner",38)(2,AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_col_7_ng_container_1_span_2_Template,3,3,"span",37)(3,AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_col_7_ng_container_1_span_3_Template,3,3,"span",37),a.bVm()),2&n){const n=a.XpG().$implicit,e=a.XpG().$implicit,t=a.XpG(3);a.R7$(),a.Y8G("ngIf",!e.processorsByName[t.currentProcessorName].locked),a.R7$(),a.Y8G("ngIf",e.processorsByName[t.currentProcessorName].locked&&e.processorsByName[t.currentProcessorName][n].checked),a.R7$(),a.Y8G("ngIf",e.processorsByName[t.currentProcessorName].locked&&!e.processorsByName[t.currentProcessorName][n].checked)}}function AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_col_7_span_2_Template(n,e){1&n&&(a.j41(0,"span",40),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&n&&(a.R7$(),a.JRh(a.bMT(2,1,"core.settings.disabled")))}function AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_col_7_Template(n,e){if(1&n&&(a.j41(0,"ion-col",36),a.DNE(1,AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_col_7_ng_container_1_Template,4,3,"ng-container",14)(2,AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_col_7_span_2_Template,3,3,"span",37),a.k0s()),2&n){const n=e.$implicit,t=a.XpG().$implicit,o=a.XpG(2).preferences,i=a.XpG();a.R7$(),a.Y8G("ngIf",o.enableall&&t.processorsByName[i.currentProcessorName][n]),a.R7$(),a.Y8G("ngIf",!o.enableall)}}function AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_item_12_div_5_core_button_with_spinner_1_ion_toggle_1_Template(n,e){if(1&n){const n=a.RV6();a.j41(0,"ion-toggle",16),a.mxI("ngModelChange",(function AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_item_12_div_5_core_button_with_spinner_1_ion_toggle_1_Template_ion_toggle_ngModelChange_0_listener(e){a.eBV(n);const t=a.XpG(3).$implicit,o=a.XpG().$implicit,i=a.XpG(3);return a.DH7(o.processorsByName[i.currentProcessorName][t].checked,e)||(o.processorsByName[i.currentProcessorName][t].checked=e),a.Njj(e)})),a.bIt("ngModelChange",(function AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_item_12_div_5_core_button_with_spinner_1_ion_toggle_1_Template_ion_toggle_ngModelChange_0_listener(){a.eBV(n);const e=a.XpG(3).$implicit,t=a.XpG().$implicit,o=a.XpG(3);return a.Njj(o.changePreferenceLegacy(t,e))})),a.k0s()}if(2&n){const n=a.XpG(3).$implicit,e=a.XpG().$implicit,t=a.XpG(3);a.R50("ngModel",e.processorsByName[t.currentProcessorName][n].checked)}}function AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_item_12_div_5_core_button_with_spinner_1_Template(n,e){if(1&n&&(a.j41(0,"core-button-with-spinner",39),a.DNE(1,AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_item_12_div_5_core_button_with_spinner_1_ion_toggle_1_Template,1,1,"ion-toggle",45),a.k0s()),2&n){const n=a.XpG(2).$implicit,e=a.XpG().$implicit,t=a.XpG(3);a.Y8G("loading",e.processorsByName[t.currentProcessorName][n].updating),a.R7$(),a.Y8G("ngIf",!e.processorsByName[t.currentProcessorName].locked)}}function AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_item_12_div_5_span_2_Template(n,e){1&n&&(a.j41(0,"span",40),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&n&&(a.R7$(),a.SpI(" ",a.bMT(2,1,"core.settings.forced")," "))}function AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_item_12_div_5_span_3_Template(n,e){1&n&&(a.j41(0,"span",40),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&n&&(a.R7$(),a.SpI(" ",a.bMT(2,1,"core.settings.disallowed")," "))}function AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_item_12_div_5_Template(n,e){if(1&n&&(a.j41(0,"div",4),a.DNE(1,AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_item_12_div_5_core_button_with_spinner_1_Template,2,2,"core-button-with-spinner",38)(2,AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_item_12_div_5_span_2_Template,3,3,"span",37)(3,AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_item_12_div_5_span_3_Template,3,3,"span",37),a.k0s()),2&n){const n=a.XpG().$implicit,e=a.XpG().$implicit,t=a.XpG(3);a.R7$(),a.Y8G("ngIf",!e.processorsByName[t.currentProcessorName].locked),a.R7$(),a.Y8G("ngIf",e.processorsByName[t.currentProcessorName].locked&&e.processorsByName[t.currentProcessorName][n].checked),a.R7$(),a.Y8G("ngIf",e.processorsByName[t.currentProcessorName].locked&&!e.processorsByName[t.currentProcessorName][n].checked)}}function AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_item_12_span_6_Template(n,e){1&n&&(a.j41(0,"span",46),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&n&&(a.R7$(),a.JRh(a.bMT(2,1,"core.settings.disabled")))}function AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_item_12_Template(n,e){if(1&n&&(a.j41(0,"ion-item",41)(1,"ion-label",42)(2,"p"),a.EFF(3),a.nI1(4,"translate"),a.k0s()(),a.DNE(5,AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_item_12_div_5_Template,4,3,"div",43)(6,AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_item_12_span_6_Template,3,3,"span",44),a.k0s()),2&n){const n=e.$implicit,t=a.XpG().$implicit,o=a.XpG(2).preferences,i=a.XpG();a.R7$(3),a.JRh(a.bMT(4,3,"core.settings."+n)),a.R7$(2),a.Y8G("ngIf",o.enableall&&t.processorsByName[i.currentProcessorName][n]),a.R7$(),a.Y8G("ngIf",!o.enableall)}}function AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_Template(n,e){if(1&n&&(a.qex(0),a.j41(1,"ion-item",30)(2,"ion-label")(3,"ion-row",31)(4,"ion-col",32)(5,"p",17),a.EFF(6),a.k0s()(),a.DNE(7,AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_col_7_Template,3,2,"ion-col",33),a.k0s()()(),a.j41(8,"ion-item",34)(9,"ion-label")(10,"p",17),a.EFF(11),a.k0s()()(),a.DNE(12,AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_item_12_Template,7,5,"ion-item",35),a.bVm()),2&n){const n=e.$implicit;a.R7$(6),a.JRh(n.displayname),a.R7$(),a.Y8G("ngForOf",a.lJ4(4,_c1)),a.R7$(4),a.JRh(n.displayname),a.R7$(),a.Y8G("ngForOf",a.lJ4(5,_c1))}}function AddonNotificationsSettingsPage_ng_template_20_ng_container_0_Template(n,e){if(1&n&&(a.qex(0,25),a.j41(1,"ion-card-header",26)(2,"ion-item",27)(3,"ion-label",15)(4,"ion-row",26)(5,"ion-col",26)(6,"p",17),a.EFF(7),a.k0s()(),a.j41(8,"ion-col",28)(9,"p"),a.EFF(10),a.nI1(11,"translate"),a.k0s()(),a.j41(12,"ion-col",28)(13,"p"),a.EFF(14),a.nI1(15,"translate"),a.k0s()()()()()(),a.DNE(16,AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_Template,13,6,"ng-container",29),a.bVm()),2&n){const n=e.$implicit;a.R7$(7),a.JRh(n.displayname),a.R7$(3),a.JRh(a.bMT(11,4,"core.settings.loggedin")),a.R7$(4),a.JRh(a.bMT(15,6,"core.settings.loggedoff")),a.R7$(2),a.Y8G("ngForOf",n.notifications)}}function AddonNotificationsSettingsPage_ng_template_20_Template(n,e){if(1&n&&a.DNE(0,AddonNotificationsSettingsPage_ng_template_20_ng_container_0_Template,17,8,"ng-container",24),2&n){const n=a.XpG();a.Y8G("ngForOf",n.components)}}function AddonNotificationsSettingsPage_ng_template_22_ng_container_0_ng_container_5_div_5_core_button_with_spinner_1_ion_toggle_1_Template(n,e){if(1&n){const n=a.RV6();a.j41(0,"ion-toggle",16),a.mxI("ngModelChange",(function AddonNotificationsSettingsPage_ng_template_22_ng_container_0_ng_container_5_div_5_core_button_with_spinner_1_ion_toggle_1_Template_ion_toggle_ngModelChange_0_listener(e){a.eBV(n);const t=a.XpG(3).$implicit,o=a.XpG(3);return a.DH7(t.processorsByName[o.currentProcessorName].enabled,e)||(t.processorsByName[o.currentProcessorName].enabled=e),a.Njj(e)})),a.bIt("ngModelChange",(function AddonNotificationsSettingsPage_ng_template_22_ng_container_0_ng_container_5_div_5_core_button_with_spinner_1_ion_toggle_1_Template_ion_toggle_ngModelChange_0_listener(){a.eBV(n);const e=a.XpG(3).$implicit,t=a.XpG(3);return a.Njj(t.changePreference(e))})),a.k0s()}if(2&n){const n=a.XpG(3).$implicit,e=a.XpG(3);a.R50("ngModel",n.processorsByName[e.currentProcessorName].enabled)}}function AddonNotificationsSettingsPage_ng_template_22_ng_container_0_ng_container_5_div_5_core_button_with_spinner_1_Template(n,e){if(1&n&&(a.j41(0,"core-button-with-spinner",39),a.DNE(1,AddonNotificationsSettingsPage_ng_template_22_ng_container_0_ng_container_5_div_5_core_button_with_spinner_1_ion_toggle_1_Template,1,1,"ion-toggle",45),a.k0s()),2&n){const n=a.XpG(2).$implicit,e=a.XpG(3);a.Y8G("loading",n.processorsByName[e.currentProcessorName].updating),a.R7$(),a.Y8G("ngIf",!n.processorsByName[e.currentProcessorName].locked)}}function AddonNotificationsSettingsPage_ng_template_22_ng_container_0_ng_container_5_div_5_span_2_Template(n,e){1&n&&(a.j41(0,"span",40),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&n&&(a.R7$(),a.SpI(" ",a.bMT(2,1,"core.settings.forced")," "))}function AddonNotificationsSettingsPage_ng_template_22_ng_container_0_ng_container_5_div_5_span_3_Template(n,e){1&n&&(a.j41(0,"span",40),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&n&&(a.R7$(),a.SpI(" ",a.bMT(2,1,"core.settings.disallowed")," "))}function AddonNotificationsSettingsPage_ng_template_22_ng_container_0_ng_container_5_div_5_Template(n,e){if(1&n&&(a.j41(0,"div",4),a.DNE(1,AddonNotificationsSettingsPage_ng_template_22_ng_container_0_ng_container_5_div_5_core_button_with_spinner_1_Template,2,2,"core-button-with-spinner",38)(2,AddonNotificationsSettingsPage_ng_template_22_ng_container_0_ng_container_5_div_5_span_2_Template,3,3,"span",37)(3,AddonNotificationsSettingsPage_ng_template_22_ng_container_0_ng_container_5_div_5_span_3_Template,3,3,"span",37),a.k0s()),2&n){const n=a.XpG().$implicit,e=a.XpG(3);a.R7$(),a.Y8G("ngIf",!n.processorsByName[e.currentProcessorName].locked),a.R7$(),a.Y8G("ngIf",n.processorsByName[e.currentProcessorName].locked&&n.processorsByName[e.currentProcessorName].enabled),a.R7$(),a.Y8G("ngIf",n.processorsByName[e.currentProcessorName].locked&&!n.processorsByName[e.currentProcessorName].enabled)}}function AddonNotificationsSettingsPage_ng_template_22_ng_container_0_ng_container_5_span_6_Template(n,e){1&n&&(a.j41(0,"span",46),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&n&&(a.R7$(),a.JRh(a.bMT(2,1,"core.settings.disabled")))}function AddonNotificationsSettingsPage_ng_template_22_ng_container_0_ng_container_5_Template(n,e){if(1&n&&(a.qex(0),a.j41(1,"ion-item",47)(2,"ion-label")(3,"p"),a.EFF(4),a.k0s()(),a.DNE(5,AddonNotificationsSettingsPage_ng_template_22_ng_container_0_ng_container_5_div_5_Template,4,3,"div",43)(6,AddonNotificationsSettingsPage_ng_template_22_ng_container_0_ng_container_5_span_6_Template,3,3,"span",44),a.k0s(),a.bVm()),2&n){const n=e.$implicit,t=a.XpG(2).preferences;a.R7$(4),a.JRh(n.displayname),a.R7$(),a.Y8G("ngIf",t.enableall),a.R7$(),a.Y8G("ngIf",!t.enableall)}}function AddonNotificationsSettingsPage_ng_template_22_ng_container_0_Template(n,e){if(1&n&&(a.qex(0,25),a.j41(1,"ion-item-divider",15)(2,"ion-label")(3,"p",17),a.EFF(4),a.k0s()()(),a.DNE(5,AddonNotificationsSettingsPage_ng_template_22_ng_container_0_ng_container_5_Template,7,3,"ng-container",29),a.bVm()),2&n){const n=e.$implicit;a.R7$(4),a.JRh(n.displayname),a.R7$(),a.Y8G("ngForOf",n.notifications)}}function AddonNotificationsSettingsPage_ng_template_22_Template(n,e){if(1&n&&a.DNE(0,AddonNotificationsSettingsPage_ng_template_22_ng_container_0_Template,6,2,"ng-container",24),2&n){const n=a.XpG();a.Y8G("ngForOf",n.components)}}let w=(()=>{var n;class AddonNotificationsSettingsPage{constructor(){this.currentProcessorName="airnotifier",this.preferencesLoaded=!1,this.notificationSound=!1,this.processorHandlers=[],this.loggedInOffLegacyMode=!1,this.warningMessage=(0,a.vPA)(void 0),this.canChangeSound=s.CoreLocalNotifications.canDisableSound();const n=c.CoreSites.getRequiredCurrentSite();this.loggedInOffLegacyMode=!n.isVersionGreaterEqualThan("4.0"),this.logView=T.j.once((0,_.A)((function*(){S.OF.logEvent({type:S.qr.VIEW_ITEM_LIST,ws:"core_message_get_user_notification_preferences",name:A.HT.instant("addon.notifications.notificationpreferences"),data:{category:"notifications"},url:"/message/notificationpreferences.php"})})))}ngOnInit(){var n=this;return(0,_.A)((function*(){n.canChangeSound&&(n.notificationSound=yield r.CoreConfig.get(m.CoreConstants.SETTINGS_NOTIFICATION_SOUND,!0)),n.fetchPreferences()}))()}fetchPreferences(){var n=this;return(0,_.A)((function*(){try{const e=yield N.AddonNotifications.getNotificationPreferences();n.warningMessage.set(void 0);let t=e.processors.find((e=>e.name==n.currentProcessorName));if(t||(t=e.processors[0]),!t)throw new f.CoreError("No processor found");e.enableall=!e.disableall,n.preferences=h.AddonNotificationsHelper.formatPreferences(e),n.loadProcessor(t),n.logView()}catch(e){if("nopermissions"===e.errorcode)return n.warningMessage.set(b.CoreErrorHelper.getErrorMessageFromError(e)),void 0;g.CoreDomUtils.showErrorModal(e)}finally{n.preferencesLoaded=!0}}))()}loadProcessor(n){var e;if(!n)return;if(this.currentProcessorName=n.name,this.processorHandlers=[],this.components=h.AddonNotificationsHelper.getProcessorComponents(n.name,(null===(e=this.preferences)||void 0===e?void 0:e.components)||[]),!n.hassettings||!n.supported)return;const t=p.AddonMessageOutputDelegate.getDisplayData(n);t&&this.processorHandlers.push(t)}updatePreferencesAfterDelay(){clearTimeout(this.updateTimeout),this.updateTimeout=window.setTimeout((()=>{this.updateTimeout=void 0,this.updatePreferences()}),5e3)}updatePreferences(){return(0,_.A)((function*(){yield l.g.ignoreErrors(N.AddonNotifications.invalidateNotificationPreferences()),yield N.AddonNotifications.getNotificationPreferences()}))()}changeProcessor(n){var e;const t=null===(e=this.preferences)||void 0===e?void 0:e.processors.find((e=>e.name==n));t&&this.loadProcessor(t)}refreshPreferences(n){var e=this;return(0,_.A)((function*(){try{yield l.g.ignoreErrors(N.AddonNotifications.invalidateNotificationPreferences()),yield e.fetchPreferences()}finally{null==n||n.complete()}}))()}openExtraPreferences(n){P.CoreNavigator.navigateToSitePath(n.page,{params:n.pageParams})}changePreferenceLegacy(n,e){var t=this;return(0,_.A)((function*(){var o;const i=null===(o=n.processorsByName)||void 0===o?void 0:o[t.currentProcessorName];if(!i)return;const _=i[e],a=n.preferencekey+"_"+_.name;let r=n.processors.filter((n=>n[e].checked)).map((n=>n.name)).join(",");""==r&&(r="none"),_.updating=!0;try{yield d.CoreUser.updateUserPreference(a,r),t.updatePreferencesAfterDelay()}catch(n){g.CoreDomUtils.showErrorModal(n),i[e].checked=!i[e].checked}finally{_.updating=!1}}))()}changePreference(n){var e=this;return(0,_.A)((function*(){var t;const o=null===(t=n.processorsByName)||void 0===t?void 0:t[e.currentProcessorName];if(!o)return;const i=n.preferencekey+"_enabled";let _=n.processors.filter((n=>n.enabled)).map((n=>n.name)).join(",");""==_&&(_="none"),o.updating=!0;try{yield d.CoreUser.updateUserPreference(i,_),e.updatePreferencesAfterDelay()}catch(n){g.CoreDomUtils.showErrorModal(n),o.enabled=!o.enabled}finally{o.updating=!1}}))()}enableAll(n){var e=this;return(0,_.A)((function*(){if(!e.preferences)return;const t=yield G.CoreLoadings.show("core.sending",!0);try{d.CoreUser.updateUserPreferences([],!n),e.updatePreferencesAfterDelay()}catch(n){g.CoreDomUtils.showErrorModal(n),e.preferences.enableall=!e.preferences.enableall}finally{t.dismiss()}}))()}changeNotificationSound(n){return(0,_.A)((function*(){yield l.g.ignoreErrors(r.CoreConfig.set(m.CoreConstants.SETTINGS_NOTIFICATION_SOUND,n?1:0));const e=c.CoreSites.getCurrentSiteId();u.z.trigger(u.z.NOTIFICATION_SOUND_CHANGED,{enabled:n},e),s.CoreLocalNotifications.rescheduleAll()}))()}ngOnDestroy(){this.updateTimeout&&(clearTimeout(this.updateTimeout),this.updatePreferences())}}return(n=AddonNotificationsSettingsPage).ɵfac=function AddonNotificationsSettingsPage_Factory(e){return new(e||n)},n.ɵcmp=a.VBU({type:n,selectors:[["page-addon-notifications-settings"]],decls:24,vars:13,consts:[["legacySettings",""],["settings",""],["slot","start"],[3,"text"],["slot","end"],[3,"priority","content","iconAction","action",4,"ngFor","ngForOf"],["slot","fixed",3,"ionRefresh","disabled"],[3,"pullingText"],[3,"hideUntil"],[1,"core-warning-card","ion-margin-top"],[3,"action","priority","content","iconAction"],["name","fas-triangle-exclamation","slot","start","aria-hidden","true"],["class","ion-text-wrap",4,"ngIf"],["class","ion-text-wrap addon-notification-type-form",4,"ngIf"],[4,"ngIf"],[1,"ion-text-wrap"],[3,"ngModelChange","ngModel"],[1,"item-heading"],[1,"ion-text-wrap","addon-notification-type-form"],["interface","popover",3,"ngModelChange","ionChange","ngModel"],["slot","label",1,"item-heading"],["class","ion-text-wrap",3,"value",4,"ngFor","ngForOf"],[1,"ion-text-wrap",3,"value"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","ion-margin-top",4,"ngFor","ngForOf"],[1,"ion-margin-top"],[1,"ion-no-padding"],[1,"ion-text-wrap","divider"],["size","2",1,"ion-text-center","ion-no-padding","ion-hide-md-down"],[4,"ngFor","ngForOf"],["lines","none",1,"ion-text-wrap","ion-hide-md-down","addon-notifications-table-content","only-links"],[1,"ion-no-padding","ion-align-items-center"],[1,"ion-margin-horizontal","ion-no-padding"],["size","2","class","ion-text-center ion-no-padding",4,"ngFor","ngForOf"],[1,"ion-text-wrap","ion-no-margin","ion-hide-md-up"],["class","ion-text-wrap ion-hide-md-up","lines","none",4,"ngFor","ngForOf"],["size","2",1,"ion-text-center","ion-no-padding"],["class","text-gray",4,"ngIf"],[3,"loading",4,"ngIf"],[3,"loading"],[1,"text-gray"],["lines","none",1,"ion-text-wrap","ion-hide-md-up"],[1,"ion-margin-horizontal"],["slot","end",4,"ngIf"],["class","text-gray","slot","end",4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],["slot","end",1,"text-gray"],["lines","none",1,"ion-text-wrap"]],template:function AddonNotificationsSettingsPage_Template(n,e){if(1&n){const n=a.RV6();a.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",2),a.nrm(3,"ion-back-button",3),a.nI1(4,"translate"),a.k0s(),a.j41(5,"ion-title")(6,"h1"),a.EFF(7),a.nI1(8,"translate"),a.k0s()(),a.nrm(9,"ion-buttons",4),a.k0s()(),a.j41(10,"core-navbar-buttons",4)(11,"core-context-menu"),a.DNE(12,AddonNotificationsSettingsPage_core_context_menu_item_12_Template,2,5,"core-context-menu-item",5),a.k0s()(),a.j41(13,"ion-content")(14,"ion-refresher",6),a.bIt("ionRefresh",(function AddonNotificationsSettingsPage_Template_ion_refresher_ionRefresh_14_listener(t){return a.eBV(n),a.Njj(e.refreshPreferences(t.target))})),a.nrm(15,"ion-refresher-content",7),a.nI1(16,"translate"),a.k0s(),a.j41(17,"core-loading",8),a.DNE(18,AddonNotificationsSettingsPage_Conditional_18_Template,5,1,"ion-card",9)(19,AddonNotificationsSettingsPage_Conditional_19_Template,7,5),a.k0s()(),a.DNE(20,AddonNotificationsSettingsPage_ng_template_20_Template,1,1,"ng-template",null,0,a.C5r)(22,AddonNotificationsSettingsPage_ng_template_22_Template,1,1,"ng-template",null,1,a.C5r)}2&n&&(a.R7$(3),a.Y8G("text",a.bMT(4,7,"core.back")),a.R7$(4),a.JRh(a.bMT(8,9,"addon.notifications.notifications")),a.R7$(5),a.Y8G("ngForOf",e.processorHandlers),a.R7$(2),a.Y8G("disabled",!e.preferencesLoaded),a.R7$(),a.FS9("pullingText",a.bMT(16,11,"core.pulltorefresh")),a.R7$(2),a.Y8G("hideUntil",e.preferencesLoaded),a.R7$(),a.vxM(18,e.warningMessage()?18:19))},dependencies:[C.Sq,C.bT,C.T3,y.q,R.B,$.Q,I.R,M.c,k.t,j.i,F.BC,F.vS,v.QW,v.b_,v.ME,v.hU,v.W9,v.eU,v.iq,v.uz,v.Dg,v.he,v.To,v.Ki,v.ln,v.Nm,v.Ip,v.BC,v.BY,v.ai,v.hB,v.Je,v.el,E.D9],styles:[".addon-notifications-table-content[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{min-height:35px}ion-item-divider[_ngcontent-%COMP%], ion-card-header[_ngcontent-%COMP%]{border-top:1px solid var(--stroke)}"]}),AddonNotificationsSettingsPage})();const X=[{path:"",component:w}];let x=(()=>{var n;class AddonNotificationsSettingsLazyModule{}return(n=AddonNotificationsSettingsLazyModule).ɵfac=function AddonNotificationsSettingsLazyModule_Factory(e){return new(e||n)},n.ɵmod=a.$C({type:n}),n.ɵinj=a.G2t({imports:[o.iI.forChild(X),i.n]}),AddonNotificationsSettingsLazyModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&a.Obh(x,{declarations:[w],imports:[o.iI,i.n]}))}}]);