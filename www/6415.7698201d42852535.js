"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6415],{66415:(e,n,t)=>{t.r(n),t.d(n,{default:()=>ee});var o=t(54438),i=t(21182),r=t(3353),a=t(10467),d=t(74431),l=t(37184),s=t(23732),c=t(30270),g=t(85618),m=t(54638),_=t(41094),u=t(22693),p=t(15324),f=t(94455),h=t(52749),y=t(89911),b=t(8014),I=t(55554),x=t(24502),C=t(49882),v=t(24742),M=t(23039),E=t(23780),T=t(69502),P=t(17388),A=t(16986),O=t(31498),R=t(66198),B=t(64422),F=t(16658),$=t(19858),k=t(86198),w=t(58197),j=t(23007),G=t(35407),U=t(88246),D=t(43570),L=t(89417),N=t(73465),S=t(81879),Y=t(25367),X=t(19547),z=t(2423),V=t(93453),Q=t(73955);function _forTrack0(e,n){return this.getEntryTemplateId(n)}const _c0=e=>({$a:e}),_c1=(e,n)=>({name:e,date:n}),_c2=e=>({$a:e});function AddonBlogIndexPage_Conditional_19_Template(e,n){if(1&e){const e=o.RV6();o.j41(0,"ion-item",8)(1,"ion-toggle",14),o.mxI("ngModelChange",(function AddonBlogIndexPage_Conditional_19_Template_ion_toggle_ngModelChange_1_listener(n){o.eBV(e);const t=o.XpG();return o.DH7(t.onlyMyEntries,n)||(t.onlyMyEntries=n),o.Njj(n)})),o.bIt("ionChange",(function AddonBlogIndexPage_Conditional_19_Template_ion_toggle_ionChange_1_listener(){o.eBV(e);const n=o.XpG();return o.Njj(n.onlyMyEntriesToggleChanged(n.onlyMyEntries))})),o.EFF(2),o.nI1(3,"translate"),o.k0s()()}if(2&e){const e=o.XpG();o.R7$(),o.R50("ngModel",e.onlyMyEntries),o.R7$(),o.SpI(" ",o.bMT(3,2,"addon.blog.showonlyyourentries")," ")}}function AddonBlogIndexPage_Conditional_20_Template(e,n){1&e&&(o.j41(0,"ion-card",9)(1,"ion-item"),o.nrm(2,"ion-icon",15),o.j41(3,"ion-label"),o.EFF(4),o.nI1(5,"translate"),o.nI1(6,"translate"),o.k0s()()()),2&e&&(o.R7$(4),o.JRh(o.i5U(6,3,"core.hasdatatosync",o.eq3(6,_c0,o.bMT(5,1,"addon.blog.blog")))))}function AddonBlogIndexPage_For_22_Conditional_4_Template(e,n){1&e&&(o.j41(0,"span",18)(1,"ion-badge",33),o.EFF(2),o.nI1(3,"translate"),o.k0s()()),2&e&&(o.R7$(2),o.SpI(" ",o.bMT(3,1,"addon.blog.publishtonoone")," "))}function AddonBlogIndexPage_For_22_Conditional_5_Template(e,n){1&e&&(o.j41(0,"span",18)(1,"ion-badge",34),o.nrm(2,"ion-icon",35),o.nI1(3,"translate"),o.EFF(4),o.nI1(5,"translate"),o.k0s()()),2&e&&(o.R7$(2),o.BMQ("aria-label",o.bMT(3,2,"core.lastmodified")),o.R7$(2),o.SpI(" ",o.bMT(5,4,"core.notsent")," "))}function AddonBlogIndexPage_For_22_Conditional_6_Template(e,n){if(1&e){const e=o.RV6();o.j41(0,"ion-button",36),o.nI1(1,"translate"),o.bIt("click",(function AddonBlogIndexPage_For_22_Conditional_6_Template_ion_button_click_0_listener(n){o.eBV(e);const t=o.XpG().$implicit,i=o.XpG();return o.Njj(i.showEntryActionsPopover(n,t))})),o.nrm(2,"ion-icon",37),o.k0s()}2&e&&o.Y8G("ariaLabel",o.bMT(1,1,"core.displayoptions"))}function AddonBlogIndexPage_For_22_Conditional_7_Template(e,n){if(1&e){const e=o.RV6();o.j41(0,"ion-button",38),o.nI1(1,"translate"),o.bIt("click",(function AddonBlogIndexPage_For_22_Conditional_7_Template_ion_button_click_0_listener(){o.eBV(e);const n=o.XpG().$implicit,t=o.XpG();return o.Njj(t.undoDelete(n))})),o.nrm(2,"ion-icon",39),o.k0s()}2&e&&o.Y8G("ariaLabel",o.bMT(1,1,"core.restore"))}function AddonBlogIndexPage_For_22_Conditional_11_Template(e,n){if(1&e&&(o.nrm(0,"span",24),o.nI1(1,"coreDateDayOrTime"),o.nI1(2,"translate")),2&e){const e=o.XpG().$implicit;o.Y8G("innerHTML",o.i5U(2,3,"core.bynameondate",o.eq3(9,_c2,o.l_i(6,_c1,"<strong>"+(null==e.user?null:e.user.fullname)+"</strong>",o.bMT(1,1,e.created)))),o.npT)}}function AddonBlogIndexPage_For_22_Conditional_12_Template(e,n){if(1&e&&(o.j41(0,"span"),o.EFF(1),o.nI1(2,"coreDateDayOrTime"),o.k0s()),2&e){const e=o.XpG().$implicit;o.R7$(),o.JRh(o.bMT(2,1,e.created))}}function AddonBlogIndexPage_For_22_Conditional_16_Template(e,n){if(1&e&&(o.j41(0,"ion-item",28)(1,"ion-label")(2,"div",0),o.EFF(3),o.nI1(4,"translate"),o.k0s(),o.nrm(5,"core-tag-list",40),o.k0s()()),2&e){const e=o.XpG().$implicit;o.R7$(3),o.SpI("",o.bMT(4,2,"core.tag.tags"),":"),o.R7$(2),o.Y8G("tags",e.tags)}}function AddonBlogIndexPage_For_22_Conditional_18_Template(e,n){if(1&e&&(o.j41(0,"ion-item",30)(1,"ion-label"),o.EFF(2),o.nI1(3,"translate"),o.k0s()()),2&e){const e=o.XpG().$implicit;o.Y8G("href",e.uniquehash)("detail",!0),o.R7$(2),o.JRh(o.bMT(3,3,"addon.blog.linktooriginalentry"))}}function AddonBlogIndexPage_For_22_Conditional_19_Conditional_1_Template(e,n){if(1&e&&(o.j41(0,"ion-note",41),o.nrm(1,"ion-icon",35),o.nI1(2,"translate"),o.EFF(3),o.nI1(4,"coreTimeAgo"),o.k0s()),2&e){const e=o.XpG(2).$implicit;o.R7$(),o.BMQ("aria-label",o.bMT(2,2,"core.lastmodified")),o.R7$(2),o.SpI(" ",o.bMT(4,4,e.lastmodified)," ")}}function AddonBlogIndexPage_For_22_Conditional_19_Conditional_2_Template(e,n){if(1&e&&(o.j41(0,"ion-badge",42),o.nrm(1,"ion-icon",43),o.EFF(2),o.nI1(3,"translate"),o.k0s()),2&e){const e=o.XpG(2).$implicit;o.R7$(2),o.SpI(" ",o.bMT(3,1,"addon.blog."+e.publishTranslated)," ")}}function AddonBlogIndexPage_For_22_Conditional_19_Template(e,n){if(1&e&&(o.j41(0,"ion-item",31),o.DNE(1,AddonBlogIndexPage_For_22_Conditional_19_Conditional_1_Template,5,6,"ion-note",41)(2,AddonBlogIndexPage_For_22_Conditional_19_Conditional_2_Template,4,3,"ion-badge",42),o.k0s()),2&e){const e=o.XpG().$implicit,n=o.XpG();o.R7$(),o.vxM(1,e.lastmodified>e.created?1:-1),o.R7$(),o.vxM(2,e.userid===n.currentUserId&&"draft"!==e.publishstate?2:-1)}}function AddonBlogIndexPage_For_22_Conditional_20_Template(e,n){if(1&e&&o.nrm(0,"core-comments",32),2&e){const e=o.XpG().$implicit,n=o.XpG();o.Y8G("component",n.component)("itemId",n.getEntryId(e))("instanceId",e.userid)("showItem",!0)("courseId",e.courseid)}}function AddonBlogIndexPage_For_22_Template(e,n){if(1&e&&(o.j41(0,"div",10)(1,"div",16)(2,"h3"),o.nrm(3,"core-format-text",17),o.DNE(4,AddonBlogIndexPage_For_22_Conditional_4_Template,4,3,"span",18)(5,AddonBlogIndexPage_For_22_Conditional_5_Template,6,6,"span",18),o.k0s(),o.DNE(6,AddonBlogIndexPage_For_22_Conditional_6_Template,3,3,"ion-button",19)(7,AddonBlogIndexPage_For_22_Conditional_7_Template,3,3,"ion-button",20),o.k0s(),o.j41(8,"div",21)(9,"div",22),o.nrm(10,"core-user-avatar",23),o.k0s(),o.DNE(11,AddonBlogIndexPage_For_22_Conditional_11_Template,3,11,"span",24)(12,AddonBlogIndexPage_For_22_Conditional_12_Template,3,3),o.k0s(),o.j41(13,"div",25)(14,"div",26),o.nrm(15,"core-format-text",27),o.k0s(),o.DNE(16,AddonBlogIndexPage_For_22_Conditional_16_Template,6,4,"ion-item",28),o.nrm(17,"core-files",29),o.DNE(18,AddonBlogIndexPage_For_22_Conditional_18_Template,4,5,"ion-item",30),o.k0s(),o.DNE(19,AddonBlogIndexPage_For_22_Conditional_19_Template,3,2,"ion-item",31)(20,AddonBlogIndexPage_For_22_Conditional_20_Template,1,5,"core-comments",32),o.k0s()),2&e){let e;const t=n.$implicit,i=o.XpG();o.Y8G("id",i.getEntryTemplateId(t)),o.R7$(3),o.Y8G("text",t.subject)("contextLevel",i.contextLevel)("contextInstanceId",i.contextInstanceId)("courseId",t.courseid),o.R7$(),o.vxM(4,t.userid===i.currentUserId&&"publishtonoone"===t.publishTranslated?4:-1),o.R7$(),o.vxM(5,!i.getEntryId(t)||t.updatedOffline?5:-1),o.R7$(),o.vxM(6,t.userid===i.currentUserId&&i.optionsAvailable&&!t.deleted?6:-1),o.R7$(),o.vxM(7,t.deleted?7:-1),o.R7$(3),o.Y8G("user",t.user)("courseId",t.courseid),o.R7$(),o.vxM(11,null!=t.user&&t.user.fullname&&t.created?11:null!=t.user&&t.user.fullname||!t.created?-1:12),o.R7$(2),o.Y8G("collapsible-item",64),o.R7$(2),o.Y8G("text",t.summary)("component",i.component)("componentId",i.getEntryId(t))("contextLevel",i.contextLevel)("contextInstanceId",i.contextInstanceId)("courseId",t.courseid),o.R7$(),o.vxM(16,i.tagsEnabled&&t.tags&&t.tags.length>0?16:-1),o.R7$(),o.Y8G("files",t.attachmentfiles)("component",i.component)("componentId",null!==(e=i.getEntryId(t))&&void 0!==e?e:t.created),o.R7$(),o.vxM(18,t.uniquehash?18:-1),o.R7$(),o.vxM(19,t.lastmodified>t.created||t.userid===i.currentUserId&&"draft"!==t.publishstate?19:-1),o.R7$(),o.vxM(20,i.getEntryId(t)&&i.commentsEnabled?20:-1)}}function AddonBlogIndexPage_ForEmpty_23_Template(e,n){1&e&&(o.nrm(0,"core-empty-box",11),o.nI1(1,"translate")),2&e&&o.Y8G("message",o.bMT(1,1,"addon.blog.noentriesyet"))}function AddonBlogIndexPage_Conditional_25_Template(e,n){if(1&e){const e=o.RV6();o.j41(0,"ion-fab",13)(1,"ion-fab-button",44),o.nI1(2,"translate"),o.bIt("click",(function AddonBlogIndexPage_Conditional_25_Template_ion_fab_button_click_1_listener(){o.eBV(e);const n=o.XpG();return o.Njj(n.createNewEntry())})),o.nrm(3,"ion-icon",45),o.j41(4,"span",46),o.EFF(5),o.nI1(6,"translate"),o.k0s()()()}2&e&&(o.R7$(),o.BMQ("aria-label",o.bMT(2,2,"addon.blog.addnewentry")),o.R7$(4),o.JRh(o.bMT(6,4,"addon.blog.addnewentry")))}let H=(()=>{var e;class AddonBlogIndexPage{constructor(){var e=this;this.title="",this.filter={},this.pageLoaded=0,this.loaded=(0,o.vPA)(!1),this.canLoadMore=!1,this.loadMoreError=!1,this.entries=[],this.entriesToRemove=[],this.entriesToUpdate=[],this.offlineEntries=[],this.showMyEntriesToggle=!1,this.onlyMyEntries=!1,this.component=s.Ed.COMPONENT,this.commentsEnabled=!1,this.tagsEnabled=!1,this.contextLevel="system",this.contextInstanceId=0,this.optionsAvailable=!1,this.hasOfflineDataToSync=(0,o.vPA)(!1),this.isOnline=(0,o.vPA)(!1),this.syncIcon=d.CoreConstants.ICON_SYNC,this.syncHidden=(0,o.EWP)((()=>!this.loaded()||!this.isOnline()||!this.hasOfflineDataToSync())),this.currentUserId=h.CoreSites.getCurrentSiteUserId(),this.siteHomeId=h.CoreSites.getCurrentSiteHomeId(),this.siteId=h.CoreSites.getCurrentSiteId(),this.isOnline.set(f.WE.isOnline()),this.logView=v.j.once((0,a.A)((function*(){yield I.g.ignoreErrors(s.hU.logView(e.filter)),u.OF.logEvent({type:u.qr.VIEW_ITEM_LIST,ws:"core_blog_view_entries",name:e.title,data:{...e.filter,category:"blog"},url:b.F.addParamsToUrl("/blog/index.php",{...e.filter,modid:e.filter.cmid,cmid:void 0})})}))),this.entryUpdateObserver=C.z.on(l.d4,(0,a.A)((function*(){e.loaded.set(!1),yield I.g.ignoreErrors(e.refresh()),e.loaded.set(!0)}))),this.syncObserver=C.z.onMultiple([l._K,l.xF],function(){var n=(0,a.A)((function*({source:n}){e!==n&&(e.loaded.set(!1),yield I.g.ignoreErrors(e.refresh(!1)),e.loaded.set(!0))}));return function(e){return n.apply(this,arguments)}}()),this.onlineObserver=f.WE.onChange().subscribe((0,a.A)((function*(){e.isOnline.set(f.WE.isOnline())})))}getEntryTemplateId(e){return"entry-"+("id"in e&&e.id?e.id:"created-"+e.created)}ngOnInit(){var e=this;return(0,a.A)((function*(){const n=p.CoreNavigator.getRouteNumberParam("userId"),t=p.CoreNavigator.getRouteNumberParam("courseId"),o=p.CoreNavigator.getRouteNumberParam("cmId"),i=p.CoreNavigator.getRouteNumberParam("entryId"),r=p.CoreNavigator.getRouteNumberParam("groupId"),a=p.CoreNavigator.getRouteNumberParam("tagId");e.title=n||t||o||i||r||a?"addon.blog.blogentries":"addon.blog.siteblogheading",n&&(e.filter.userid=n),t&&(e.filter.courseid=t),o&&(e.filter.cmid=o),i&&(e.filter.entryid=i),r&&(e.filter.groupid=r),a&&(e.filter.tagid=a),e.showMyEntriesToggle=!n&&!e.filter.entryid,!n||t||o?t&&t!=e.siteHomeId?(e.contextLevel="course",e.contextInstanceId=t):(e.contextLevel="system",e.contextInstanceId=0):(e.contextLevel="user",e.contextInstanceId=n),e.commentsEnabled=m.CoreComments.areCommentsEnabledInSite(),e.tagsEnabled=_.CoreTag.areTagsAvailableInSite(),h.CoreSites.loginNavigationFinished(),yield e.fetchEntries(!1,!1,!0),e.optionsAvailable=yield s.hU.isEditingEnabled()}))()}getEntryId(e){return this.isOnlineEntry(e)?e.id:void 0}fetchEntries(e,n=!1,t){var o=this;return(0,a.A)((function*(){if(o.loadMoreError=!1,e&&(o.pageLoaded=0),o.isOnline()&&t)try{const e=yield g.a.syncEntriesForSite(h.CoreSites.getCurrentSiteId());e.warnings&&e.warnings.length&&y.CoreDomUtils.showAlert(void 0,e.warnings[0]),e.updated&&C.z.trigger(l._K,{...e,source:o})}catch(e){n&&y.CoreDomUtils.showErrorModalDefault(e,"core.errorsync",!0)}try{const n=yield s.hU.getEntries(o.filter,{page:o.pageLoaded,readingStrategy:e?3:void 0});yield Promise.all(n.entries.map(function(){var e=(0,a.A)((function*(e){return s.hU.formatEntry(e)}));return function(n){return e.apply(this,arguments)}}())),o.entries=e?n.entries:o.entries.concat(n.entries).sort(((e,n)=>"id"in e&&!("id"in n)?1:"id"in n&&!("id"in e)?-1:n.created-e.created)),o.canLoadMore=n.totalentries>o.entries.length,yield o.loadOfflineEntries(0===o.pageLoaded),o.entries=x.R.unique(o.entries,"id"),o.pageLoaded++,o.logView()}catch(e){y.CoreDomUtils.showErrorModalDefault(e,"addon.blog.errorloadentries",!0),o.loadMoreError=!0}finally{o.loaded.set(!0)}}))()}loadOfflineEntries(e){var n=this;return(0,a.A)((function*(){if(e){n.offlineEntries=yield c.Q.getOfflineEntries(n.filter),n.entriesToUpdate=n.offlineEntries.filter((e=>!!e.id)),n.entriesToRemove=yield c.Q.getEntriesToRemove();const e=n.offlineEntries.filter((e=>!e.id)),t=yield Promise.all(e.map(function(){var e=(0,a.A)((function*(e){return yield s.hU.formatOfflineEntry(e)}));return function(n){return e.apply(this,arguments)}}()));n.entries=[...t,...n.entries]}n.entriesToUpdate.length&&(n.entries=yield Promise.all(n.entries.map(function(){var e=(0,a.A)((function*(e){const t=n.entriesToUpdate.find((t=>n.isOnlineEntry(e)&&t.id===e.id));return t&&"id"in e?yield s.hU.formatOfflineEntry(t,e):e}));return function(n){return e.apply(this,arguments)}}())));for(const e of n.entriesToRemove){const t=n.entries.find((n=>"id"in n&&n.id===e.id));t&&(t.deleted=!0)}n.hasOfflineDataToSync.set(n.offlineEntries.length>0||n.entriesToRemove.length>0)}))()}onlyMyEntriesToggleChanged(e){var n=this;return(0,a.A)((function*(){const t=yield E.CoreLoadings.show();try{n.filter.userid=e?n.currentUserId:void 0,yield n.fetchEntries(!0)}catch(t){y.CoreDomUtils.showErrorModalDefault(t,"addon.blog.errorloadentries",!0),n.onlyMyEntries=!e,n.filter.userid=e?void 0:n.currentUserId}finally{t.dismiss()}}))()}isOnlineEntry(e){return"id"in e}loadMore(e){return this.fetchEntries(!1).finally((()=>{e&&e()}))}refresh(e=!0,n){var t=this;return(0,a.A)((function*(){const o=t.entries.map(function(){var e=(0,a.A)((function*(e){if(t.isOnlineEntry(e))return m.CoreComments.invalidateCommentsData("user",e.userid,t.component,e.id,"format_blog")}));return function(n){return e.apply(this,arguments)}}());o.push(s.hU.invalidateEntries(t.filter)),t.showMyEntriesToggle&&(t.filter.userid=t.currentUserId,o.push(s.hU.invalidateEntries(t.filter)),t.onlyMyEntries||delete t.filter.userid),yield I.g.allPromises(o),yield t.fetchEntries(!0,!1,e),null==n||n.complete()}))()}createNewEntry(){p.CoreNavigator.navigateToSitePath("blog/edit/0",{params:{cmId:this.filter.cmid,courseId:this.filter.courseid}})}deleteEntry(e){return(0,a.A)((function*(){try{yield y.CoreDomUtils.showDeleteConfirm("addon.blog.blogdeleteconfirm",{$a:e.subject})}catch{return}const n=yield E.CoreLoadings.show();try{"id"in e&&e.id?yield s.hU.deleteEntry({entryid:e.id,subject:e.subject}):yield c.Q.deleteOfflineEntryRecord({created:e.created}),C.z.trigger(l.d4)}catch(e){y.CoreDomUtils.showErrorModalDefault(e,"addon.blog.errorloadentries",!0)}finally{n.dismiss()}}))()}showEntryActionsPopover(e,n){var o=this;return(0,a.A)((function*(){e.preventDefault(),e.stopPropagation();const{AddonBlogEntryOptionsMenuComponent:i}=yield t.e(6289).then(t.bind(t,76289));switch(yield M.CorePopovers.open({component:i,event:e})){case"edit":yield p.CoreNavigator.navigateToSitePath(`blog/edit/${o.isOnlineEntry(n)&&n.id?n.id:"new-"+n.created}`,{params:o.filter.cmid?{cmId:o.filter.cmid,filters:o.filter,lastModified:n.lastmodified}:{filters:o.filter,lastModified:n.lastmodified}});break;case"delete":yield o.deleteEntry(n)}}))()}undoDelete(e){return(0,a.A)((function*(){yield c.Q.unmarkEntryAsRemoved("id"in e?e.id:e.created),C.z.trigger(l.d4)}))()}ngOnDestroy(){this.entryUpdateObserver.off(),this.syncObserver.off(),this.onlineObserver.unsubscribe()}}return(e=AddonBlogIndexPage).ɵfac=function AddonBlogIndexPage_Factory(n){return new(n||e)},e.ɵcmp=o.VBU({type:e,selectors:[["page-addon-blog-index"]],decls:26,vars:24,consts:[["slot","start"],[3,"text"],["slot","end"],[3,"action","hidden","priority","content","iconAction","closeOnClick"],[1,"limited-width"],["slot","fixed",3,"ionRefresh","disabled"],[3,"pullingText"],[3,"hideUntil"],[1,"ion-text-wrap"],[1,"core-warning-card"],[1,"entry","ion-padding-start","ion-padding-top","ion-padding-end",3,"id"],["icon","far-newspaper",3,"message"],[3,"action","enabled","error"],["slot","fixed","core-fab","","vertical","bottom","horizontal","end"],[3,"ngModelChange","ionChange","ngModel"],["name","fas-triangle-exclamation","slot","start","aria-hidden","true"],[1,"entry-subject","flex","ion-text-wrap","ion-justify-content-between","ion-align-items-center"],[3,"text","contextLevel","contextInstanceId","courseId"],[1,"entry-draft"],["fill","clear",1,"entry-options",3,"ariaLabel"],["slot","end","fill","clear","color","danger",3,"ariaLabel"],[1,"entry-creation-info","flex","ion-align-items-center"],[1,"entry-avatar"],[3,"user","courseId"],[3,"innerHTML"],[1,"entry-summary",3,"collapsible-item"],[1,"ion-margin-bottom"],[3,"text","component","componentId","contextLevel","contextInstanceId","courseId"],["lines","none",1,"ion-text-wrap"],[3,"files","component","componentId"],["core-link","","lines","none",3,"href","detail"],["lines","none",1,"entry-last-modification"],["area","format_blog","contextLevel","user",3,"component","itemId","instanceId","showItem","courseId"],["color","warning"],["color","light"],["name","fas-clock"],["fill","clear",1,"entry-options",3,"click","ariaLabel"],["slot","icon-only","aria-hidden","true","name","ellipsis-vertical"],["slot","end","fill","clear","color","danger",3,"click","ariaLabel"],["name","fas-rotate-left","slot","icon-only","aria-hidden","true"],[3,"tags"],["slot","start",1,"flex","ion-align-items-center"],["color","success","slot","end",1,"entry-visibility-permission"],["name","fas-eye"],[3,"click"],["name","fas-pen-to-square","aria-hidden","true"],[1,"sr-only"]],template:function AddonBlogIndexPage_Template(e,n){1&e&&(o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),o.nrm(3,"ion-back-button",1),o.nI1(4,"translate"),o.k0s(),o.j41(5,"ion-title")(6,"h1"),o.EFF(7),o.nI1(8,"translate"),o.k0s()(),o.j41(9,"ion-buttons",2)(10,"core-context-menu")(11,"core-context-menu-item",3),o.nI1(12,"translate"),o.bIt("action",(function AddonBlogIndexPage_Template_core_context_menu_item_action_11_listener(){return n.fetchEntries(!0,!0,!0)})),o.k0s()(),o.nrm(13,"core-user-menu-button"),o.k0s()()(),o.j41(14,"ion-content",4)(15,"ion-refresher",5),o.bIt("ionRefresh",(function AddonBlogIndexPage_Template_ion_refresher_ionRefresh_15_listener(e){return n.refresh(!0,e.target)})),o.nrm(16,"ion-refresher-content",6),o.nI1(17,"translate"),o.k0s(),o.j41(18,"core-loading",7),o.DNE(19,AddonBlogIndexPage_Conditional_19_Template,4,4,"ion-item",8)(20,AddonBlogIndexPage_Conditional_20_Template,7,8,"ion-card",9),o.Z7z(21,AddonBlogIndexPage_For_22_Template,21,26,"div",10,_forTrack0,!0,AddonBlogIndexPage_ForEmpty_23_Template,2,3,"core-empty-box",11),o.j41(24,"core-infinite-loading",12),o.bIt("action",(function AddonBlogIndexPage_Template_core_infinite_loading_action_24_listener(e){return n.loadMore(e)})),o.k0s()(),o.DNE(25,AddonBlogIndexPage_Conditional_25_Template,7,6,"ion-fab",13),o.k0s()),2&e&&(o.R7$(3),o.Y8G("text",o.bMT(4,16,"core.back")),o.R7$(4),o.JRh(o.bMT(8,18,n.title)),o.R7$(4),o.Y8G("hidden",n.syncHidden())("priority",400)("content",o.bMT(12,20,"core.settings.synchronizenow"))("iconAction",n.syncIcon)("closeOnClick",!1),o.R7$(4),o.Y8G("disabled",!n.loaded()),o.R7$(),o.FS9("pullingText",o.bMT(17,22,"core.pulltorefresh")),o.R7$(2),o.Y8G("hideUntil",n.loaded()),o.R7$(),o.vxM(19,n.showMyEntriesToggle?19:-1),o.R7$(),o.vxM(20,n.hasOfflineDataToSync()?20:-1),o.R7$(),o.Dyx(n.entries),o.R7$(3),o.Y8G("enabled",n.canLoadMore)("error",n.loadMoreError),o.R7$(),o.vxM(25,(n.filter.userid===n.currentUserId||n.showMyEntriesToggle)&&n.loaded()&&n.optionsAvailable?25:-1))},dependencies:[T.B,P.Q,A.h,O.Y,R.b,B.R,F.T,$.A,k.t,w.B,j.j,G.K,U.i,D.T,L.BC,L.vS,N.In,N.Jm,N.QW,N.b_,N.W9,N.Q8,N.YW,N.eU,N.iq,N.uz,N.he,N.JI,N.To,N.Ki,N.BC,N.BY,N.ai,N.hB,N.el,S.L,Y.v,X.U,z.Y,V.A,Q.D9],styles:["[_nghost-%COMP%]   .entry[_ngcontent-%COMP%]{border-bottom:1px solid var(--stroke)}[_nghost-%COMP%]   .entry-visibility-permission[_ngcontent-%COMP%]{display:flex;align-items:center;font:var(-mdl-typography-label-font-lg)}[_nghost-%COMP%]   .entry-visibility-permission[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-inline-end:.3rem}[_nghost-%COMP%]   .entry-draft[_ngcontent-%COMP%]{margin-inline-start:.3rem;position:relative;top:4px}[_nghost-%COMP%]   .entry-subject[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%]{font:var(--mdl-typography-heading4-font)}[_nghost-%COMP%]   .entry-creation-info[_ngcontent-%COMP%]   .entry-avatar[_ngcontent-%COMP%]{margin-inline-start:0px;margin-inline-end:.6rem;margin-top:.6rem;margin-bottom:.6rem}[_nghost-%COMP%]   .entry-creation-info[_ngcontent-%COMP%]   core-user-avatar[_ngcontent-%COMP%]{--core-avatar-size: 24px}[_nghost-%COMP%]   .entry-last-modification[_ngcontent-%COMP%]{--padding-end: 0px;--padding-start: 0px;--padding-top: 0px;--padding-bottom: 0px}[_nghost-%COMP%]   .entry-last-modification[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-top:.9rem;font:var(-mdl-typography-label-font-lg)}[_nghost-%COMP%]   .entry-last-modification[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-inline-end:.3rem}[_nghost-%COMP%]   ion-button.entry-options[_ngcontent-%COMP%]{--padding-end: 0px;--padding-start: 0px;--padding-top: 0px;--padding-bottom: 0px}[_nghost-%COMP%]   core-comments[_ngcontent-%COMP%]     ion-item{--inner-border-width: 1px 0px 0px 0px;--padding-start: 0px}"]}),AddonBlogIndexPage})();var J=t(91120),q=t(8444),W=t(47720),K=t(42858),Z=t(6007);function buildRoutes(e){return[{path:"index",component:H,data:{mainMenuTabRoot:l.H5}},{path:"edit/:id",loadComponent:()=>t.e(885).then(t.bind(t,70885)),canDeactivate:[Z.V]},...(0,K.B)(e,{redirectTo:"index",pathMatch:"full"})]}let ee=(()=>{var e;class AddonBlogLazyModule{}return(e=AddonBlogLazyModule).ɵfac=function AddonBlogLazyModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:i.bw,multi:!0,deps:[o.zZn],useFactory:buildRoutes}],imports:[r.n,J.G,q.O,W.E]}),AddonBlogLazyModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&o.Obh(ee,{declarations:[H],imports:[r.n,J.G,q.O,W.E]}))}}]);