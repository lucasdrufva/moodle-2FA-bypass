"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2118,9522,7141],{66469:(e,t,n)=>{n.r(t),n.d(t,{AddonModAssignEditFeedbackModalComponent:()=>C});var s=n(10467),o=n(52749),i=n(89911),d=n(63153),a=n(55554),r=n(79555),l=n(62007),m=n(3353),u=n(53836),c=n(54438),g=n(60177),p=n(86198),f=n(88246),b=n(43570),h=n(89417),M=n(73465),I=n(73955),k=n(29905);const A=["editFeedbackForm"];function AddonModAssignEditFeedbackModalComponent_form_10_Template(e,t){if(1&e){const e=c.RV6();c.j41(0,"form",5,0),c.nrm(2,"addon-mod-assign-feedback-plugin",6),c.j41(3,"ion-button",7),c.bIt("click",(function AddonModAssignEditFeedbackModalComponent_form_10_Template_ion_button_click_3_listener(t){c.eBV(e);const n=c.XpG();return c.Njj(n.done(t))})),c.EFF(4),c.nI1(5,"translate"),c.k0s()()}if(2&e){const e=c.XpG();c.R7$(2),c.Y8G("assign",e.assign)("submission",e.submission)("userId",e.userId)("plugin",e.plugin)("edit",!0),c.R7$(2),c.JRh(c.bMT(5,6,"core.done"))}}let C=(()=>{var e;class AddonModAssignEditFeedbackModalComponent{closeModal(){var e=this;return(0,s.A)((function*(){(yield e.hasDataChanged())&&(yield i.CoreDomUtils.showConfirm(r.HT.instant("core.confirmcanceledit"))),d.R.triggerFormCancelledEvent(e.formElement,o.CoreSites.getCurrentSiteId()),r.W3.dismiss()}))()}done(e){e.preventDefault(),e.stopPropagation(),d.R.triggerFormSubmittedEvent(this.formElement,!1,o.CoreSites.getCurrentSiteId()),r.W3.dismiss(this.getInputData())}getInputData(){return d.R.getDataFromForm(document.forms["addon-mod_assign-edit-feedback-form"])}hasDataChanged(){var e=this;return(0,s.A)((function*(){return!!(yield a.g.ignoreErrors(l.AddonModAssignFeedbackDelegate.hasPluginDataChanged(e.assign,e.submission,e.plugin,e.getInputData(),e.userId),!0))}))()}}return(e=AddonModAssignEditFeedbackModalComponent).ɵfac=function AddonModAssignEditFeedbackModalComponent_Factory(t){return new(t||e)},e.ɵcmp=c.VBU({type:e,selectors:[["addon-mod-assign-edit-feedback-modal"]],viewQuery:function AddonModAssignEditFeedbackModalComponent_Query(e,t){if(1&e&&c.GBs(A,5),2&e){let e;c.mGM(e=c.lsd())&&(t.formElement=e.first)}},inputs:{assign:"assign",submission:"submission",plugin:"plugin",userId:"userId"},standalone:!0,features:[c.aNF],decls:11,vars:5,consts:[["editFeedbackForm",""],["slot","end"],["fill","clear",3,"click","ariaLabel"],["slot","icon-only","name","fas-xmark","aria-hidden","true"],["name","addon-mod_assign-edit-feedback-form",4,"ngIf"],["name","addon-mod_assign-edit-feedback-form"],[3,"assign","submission","userId","plugin","edit"],["expand","block",3,"click"]],template:function AddonModAssignEditFeedbackModalComponent_Template(e,t){1&e&&(c.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title")(3,"h1"),c.EFF(4),c.k0s()(),c.j41(5,"ion-buttons",1)(6,"ion-button",2),c.nI1(7,"translate"),c.bIt("click",(function AddonModAssignEditFeedbackModalComponent_Template_ion_button_click_6_listener(){return t.closeModal()})),c.nrm(8,"ion-icon",3),c.k0s()()()(),c.j41(9,"ion-content"),c.DNE(10,AddonModAssignEditFeedbackModalComponent_form_10_Template,6,8,"form",4),c.k0s()),2&e&&(c.R7$(4),c.JRh(t.plugin.name),c.R7$(2),c.Y8G("ariaLabel",c.bMT(7,3,"core.close")),c.R7$(4),c.Y8G("ngIf",t.userId&&t.plugin))},dependencies:[m.n,g.bT,p.t,f.i,b.T,h.qT,h.cb,h.cV,M.Jm,M.QW,M.W9,M.eU,M.iq,M.BC,M.ai,I.D9,u.AddonModAssignComponentsModule,k.f],encapsulation:2}),AddonModAssignEditFeedbackModalComponent})()},35716:(e,t,n)=>{n.d(t,{z:()=>CorePaginatedItemsManagerSource});var s=n(10467),o=n(58866);class CorePaginatedItemsManagerSource extends o.i{constructor(){super(...arguments),this.hasMoreItems=!0}isCompleted(){return!this.hasMoreItems}isEmpty(){var e;return!this.isLoaded()||0===(null!==(e=this.getItems())&&void 0!==e?e:[]).length}getPagesLoaded(){if(null===this.items)return 0;const e=this.getPageLength();return null===e?1:Math.ceil(this.items.length/e)}reset(){this.hasMoreItems=!0,super.reset()}reload(){var e=this;return(0,s.A)((function*(){e.dirty=!0,yield e.load()}))()}load(){var e=this;return(0,s.A)((function*(){var t;if(e.dirty){const{items:t,hasMoreItems:n}=yield e.loadPageItems(0);return e.dirty=!1,e.setItems(t,null!=n&&n),void 0}if(!e.hasMoreItems)return;const{items:n,hasMoreItems:s}=yield e.loadPageItems(e.getPagesLoaded());e.setItems((null!==(t=e.items)&&void 0!==t?t:[]).concat(n),null!=s&&s)}))()}getPageLength(){return null}setItems(e,t=!1){this.hasMoreItems=t,super.setItems(e)}}},99522:(e,t,n)=>{n.d(t,{F:()=>CoreRoutedItemsManagerSource});var s=n(35716);class CoreRoutedItemsManagerSource extends s.z{static getSourceId(...e){return e.map((e=>String(e))).join("-")}getItemQueryParams(e){return{}}}}}]);