"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4898,9522,7141],{2401:(e,t,r)=>{r.d(t,{R:()=>CoreListItemsManager});var s=r(10467),i=r(21182),n=r(15324),o=r(93417),a=r(81690),u=r(95990),l=r(82907),c=r(24742),d=r(55554);class CoreListItemsManager extends u.u{constructor(e,t){super(e);const r=a.j.debounce((()=>this.scrollToCurrentElement()),300);this.pageRouteLocator=t,this.addListener({onSelectedItemUpdated:r}),this.finishSuccessfulFetch=c.j.once((()=>d.g.ignoreErrors(this.logActivity())))}get items(){return this.getSource().getItems()||[]}get loaded(){return null!==this.itemsMap}get completed(){return this.getSource().isCompleted()}get empty(){const e=this.getSource().getItems();return null===e||0===e.length}start(e){var t=this;return(0,s.A)((function*(){e&&t.watchSplitViewOutlet(e),t.updateSelectedItem()}))()}destroy(){var e;super.destroy(),null===(e=this.splitViewOutletSubscription)||void 0===e||e.unsubscribe()}watchSplitViewOutlet(e){var t;this.splitView=e,this.splitViewOutletSubscription=e.outletRouteObservable.subscribe((e=>this.updateSelectedItem(this.getPageRouteFromSplitViewOutlet(e)))),this.updateSelectedItem(null!==(t=this.getPageRouteFromSplitViewOutlet(e.outletRoute))&&void 0!==t?t:null)}isSelected(e){return this.selectedItem===e}getItemAriaCurrent(e){return this.isSelected(e)?"page":"false"}select(e){var t=this;return(0,s.A)((function*(){if(!e)return yield t.navigateToIndex({reset:t.resetNavigation()}),void 0;yield t.navigateToItem(e,{reset:t.resetNavigation()})}))()}reset(){this.getSource().reset()}reload(){var e=this;return(0,s.A)((function*(){yield e.getSource().reload(),e.finishSuccessfulFetch()}))()}load(){var e=this;return(0,s.A)((function*(){yield e.getSource().load(),e.finishSuccessfulFetch()}))()}logActivity(){return(0,s.A)((function*(){}))()}resetNavigation(){var e;return!!o.CoreScreen.isTablet&&!(!this.splitView||null!==(e=this.splitView)&&void 0!==e&&e.isNested)}updateSelectedItem(e=null){super.updateSelectedItem(e);this.select(o.CoreScreen.isTablet&&null===this.selectedItem&&this.splitView&&!this.splitView.isNested?this.getDefaultItem():this.selectedItem)}scrollToCurrentElement(){var e=this;return(0,s.A)((function*(){var t,r,s;if(o.CoreScreen.isMobile)return;const i=(null!==(t=null===(r=e.splitView)||void 0===r?void 0:r.nativeElement)&&void 0!==t?t:document).querySelector('[aria-current="page"]');if(!i)return;l.y.isElementInViewport(i,1,null===(s=e.splitView)||void 0===s?void 0:s.nativeElement)||i.scrollIntoView({behavior:"smooth"})}))()}getDefaultItem(){return this.items[0]||null}getCurrentPageRoute(){return this.pageRouteLocator instanceof i.nX?n.CoreNavigator.isRouteActive(this.pageRouteLocator)?this.pageRouteLocator:null:n.CoreNavigator.getCurrentRoute({pageComponent:this.pageRouteLocator})}getSelectedItemPathFromRoute(e){const t=[];for(;e.firstChild;)t.push(...n.CoreNavigator.getRouteUrl(e=e.firstChild));return t.map((e=>e.path)).join("/").replace(/\/+/,"/").trim()||null}getPageRouteFromSplitViewOutlet(e){const t=this.buildRouteMatcher();for(;e&&!t(e);)e=e.parent;return e}buildRouteMatcher(){if(this.pageRouteLocator instanceof i.nX){const e=n.CoreNavigator.getRouteFullPath(this.pageRouteLocator);return t=>n.CoreNavigator.getRouteFullPath(t)===e}return e=>e.component===this.pageRouteLocator}}},35716:(e,t,r)=>{r.d(t,{z:()=>CorePaginatedItemsManagerSource});var s=r(10467),i=r(58866);class CorePaginatedItemsManagerSource extends i.i{constructor(){super(...arguments),this.hasMoreItems=!0}isCompleted(){return!this.hasMoreItems}isEmpty(){var e;return!this.isLoaded()||0===(null!==(e=this.getItems())&&void 0!==e?e:[]).length}getPagesLoaded(){if(null===this.items)return 0;const e=this.getPageLength();return null===e?1:Math.ceil(this.items.length/e)}reset(){this.hasMoreItems=!0,super.reset()}reload(){var e=this;return(0,s.A)((function*(){e.dirty=!0,yield e.load()}))()}load(){var e=this;return(0,s.A)((function*(){var t;if(e.dirty){const{items:t,hasMoreItems:r}=yield e.loadPageItems(0);return e.dirty=!1,e.setItems(t,null!=r&&r),void 0}if(!e.hasMoreItems)return;const{items:r,hasMoreItems:s}=yield e.loadPageItems(e.getPagesLoaded());e.setItems((null!==(t=e.items)&&void 0!==t?t:[]).concat(r),null!=s&&s)}))()}getPageLength(){return null}setItems(e,t=!1){this.hasMoreItems=t,super.setItems(e)}}},99522:(e,t,r)=>{r.d(t,{F:()=>CoreRoutedItemsManagerSource});var s=r(35716);class CoreRoutedItemsManagerSource extends s.z{static getSourceId(...e){return e.map((e=>String(e))).join("-")}getItemQueryParams(e){return{}}}},83696:(e,t,r)=>{var s;r.d(t,{u:()=>CoreRoutedItemsManagerSourcesTracker});class CoreRoutedItemsManagerSourcesTracker{static getSource(e,t){var r,s;const i="string"==typeof t?t:e.getSourceId(...t);return null!==(r=null===(s=this.getConstructorInstances(e)[i])||void 0===s?void 0:s.instance)&&void 0!==r?r:null}static getOrCreateSource(e,t){var r;const s=e.getSourceId(...t);return null!==(r=this.getSource(e,s))&&void 0!==r?r:this.createInstance(s,e,t)}static addReference(e,t){const r=this.getConstructorInstances(e.constructor),s=this.instanceIds.get(e);void 0!==s&&(s in r||(r[s]={instance:e,references:[]}),r[s].references.push(t))}static removeReference(e,t){var r,s;const i=this.instances.get(e.constructor),n=this.instanceIds.get(e),o=null!==(r=null==i||null===(s=i[null!=n?n:""])||void 0===s?void 0:s.references.indexOf(t))&&void 0!==r?r:-1;i&&void 0!==n&&-1!==o&&(i[n].references.splice(o,1),0===i[n].references.length&&delete i[n])}static getConstructorInstances(e){var t;return null!==(t=this.instances.get(e))&&void 0!==t?t:this.initialiseConstructorInstances(e)}static initialiseConstructorInstances(e){const t={};return this.instances.set(e,t),t}static createInstance(e,t,r){const s=new t(...r);return this.instanceIds.set(s,e),s}}(s=CoreRoutedItemsManagerSourcesTracker).instances=new WeakMap,s.instanceIds=new WeakMap},95990:(e,t,r)=>{r.d(t,{u:()=>CoreRoutedItemsManager});var s=r(10467),i=r(15324),n=r(42022),o=r(83696);class CoreRoutedItemsManager extends n.f{setSource(e){this.source&&o.u.removeReference(this.source.instance,this),e&&o.u.addReference(e,this),super.setSource(e)}getSelectedItemPath(e){return e?this.getSelectedItemPathFromRoute(e):null}updateSelectedItem(e=null){var t,r,s,i;e=null!==(t=null!==(r=e)&&void 0!==r?r:this.getCurrentPageRoute())&&void 0!==t?t:null;const n=this.getSelectedItemPath(e),o=n&&null!==(s=null===(i=this.itemsMap)||void 0===i?void 0:i[n])&&void 0!==s?s:null;this.setSelectedItem(o)}navigateToItem(e,t={}){var r=this;return(0,s.A)((function*(){const s=r.getCurrentPageRoute();if(null===s)return;const n=r.getSource().getItemPath(e),o=r.getSelectedItemPath(s);if(o===n)return;const a=r.getSource().getItemQueryParams(e),u=o?o.split("/").fill("../").join(""):"";yield i.CoreNavigator.navigate(u+n,{params:a,...t})}))()}navigateToIndex(e={}){var t=this;return(0,s.A)((function*(){const r=t.getCurrentPageRoute();if(null===r)return;const s=t.getSelectedItemPath(r);if(null===s)return;const n=s?s.split("/").fill("../").join(""):"";yield i.CoreNavigator.navigate(n,e)}))()}onSourceItemsUpdated(e){super.onSourceItemsUpdated(e);const t=this.selectedItem;null!==t&&e.some((e=>e===t))||this.updateSelectedItem()}getItemId(e){return this.getSource().getItemPath(e)}}}}]);