"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4131],{54131:(i,e,a)=>{a.r(e),a.d(e,{AddonModWikiPageOrMapLinkHandler:()=>y,AddonModWikiPageOrMapLinkHandlerLazyService:()=>u});var d=a(10467),n=a(44682),o=a(15324),r=a(89911),t=a(79555),s=a(91768),p=a(67981),c=a(51069),l=a(63036),k=a(23780),g=a(54438);let u=(()=>{var i;class AddonModWikiPageOrMapLinkHandlerLazyService extends l.c{handleAction(i,e,a){return(0,d.A)((function*(){const d=yield k.CoreLoadings.show(),t=parseInt(a.pageid,10),l=-1!=i.indexOf("mod/wiki/map.php")?"map":"page";try{const i=yield p.N.getPageContents(t,{siteId:e}),a=yield n.CoreCourse.getModuleBasicInfoByInstance(i.wikiid,"wiki",{siteId:e,readingStrategy:1}),d=s.VV.hashAsciiStr(JSON.stringify({pageId:i.id,pageTitle:i.title,subwikiId:i.subwikiid,action:l,timestamp:Date.now()}));yield o.CoreNavigator.navigateToSitePath(`${c.Jb}/${a.course}/${a.id}/page/${d}`,{params:{module:a,pageId:i.id,pageTitle:i.title,subwikiId:i.subwikiid,action:l},siteId:e})}catch(i){r.CoreDomUtils.showErrorModalDefault(i,"addon.mod_wiki.errorloadingpage",!0)}finally{d.dismiss()}}))()}isEnabled(i,e,a){return(0,d.A)((function*(){const i=-1!=e.indexOf("mod/wiki/map.php");return!(a.id&&!i)&&(!i||void 0===a.option||"5"==a.option)}))()}}return(i=AddonModWikiPageOrMapLinkHandlerLazyService).ɵfac=(()=>{let e;return function AddonModWikiPageOrMapLinkHandlerLazyService_Factory(a){return(e||(e=g.xGo(i)))(a||i)}})(),i.ɵprov=g.jDH({token:i,factory:i.ɵfac,providedIn:"root"}),AddonModWikiPageOrMapLinkHandlerLazyService})();const y=(0,t.Qd)(u)}}]);