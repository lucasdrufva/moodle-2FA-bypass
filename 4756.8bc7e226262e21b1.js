"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4756],{54756:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Ie});var i=n(21182),o=n(94114),s=n(3353),a=n(93417),r=n(10467),l=n(29492),c=n(2401),g=n(74431),_=n(99522),p=n(33984),m=n(18022);class CoreSettingsSectionsSource extends _.F{loadPageItems(){return(0,r.A)((function*(){const e=[{name:"core.settings.general",path:"general",icon:"fas-wrench"},{name:"core.settings.spaceusage",path:"spaceusage",icon:"fas-list-check"},{name:"core.settings.synchronization",path:"sync",icon:g.CoreConstants.ICON_SYNC}];return m.CorePlatform.isIOS()&&e.push({name:"core.sharedfiles.sharedfiles",path:p.p+"/list/root",icon:"fas-folder",params:{manage:!0}}),e.push({name:"core.settings.about",path:"about",icon:"fas-id-card"}),{items:e}}))()}getItemPath(e){return e.path}getItemQueryParams(e){return e.params||{}}}var d=n(83696),u=n(54438),f=n(60177),h=n(86198),C=n(88246),S=n(73465),I=n(73955);function CoreSettingsIndexPage_ion_item_13_Template(e,t){if(1&e){const e=u.RV6();u.j41(0,"ion-item",4),u.bIt("click",(function CoreSettingsIndexPage_ion_item_13_Template_ion_item_click_0_listener(){const t=u.eBV(e).$implicit,n=u.XpG();return u.Njj(n.sections.select(t))})),u.nrm(1,"ion-icon",5),u.j41(2,"ion-label",6)(3,"p",7),u.EFF(4),u.nI1(5,"translate"),u.k0s()()()}if(2&e){const e=t.$implicit,n=u.XpG();u.Y8G("detail",!0),u.BMQ("aria-current",n.sections.getItemAriaCurrent(e)),u.R7$(),u.Y8G("name",e.icon),u.R7$(3),u.JRh(u.bMT(5,4,e.name))}}let b=(()=>{var e;class CoreSettingsIndexPage{constructor(){const e=d.u.getOrCreateSource(CoreSettingsSectionsSource,[]);this.sections=new c.R(e,CoreSettingsIndexPage)}ngAfterViewInit(){var e=this;return(0,r.A)((function*(){yield e.sections.load(),yield e.sections.start(e.splitView)}))()}ngOnDestroy(){this.sections.destroy()}}return(e=CoreSettingsIndexPage).ɵfac=function CoreSettingsIndexPage_Factory(t){return new(t||e)},e.ɵcmp=u.VBU({type:e,selectors:[["page-core-settings-index"]],viewQuery:function CoreSettingsIndexPage_Query(e,t){if(1&e&&u.GBs(l.M,5),2&e){let e;u.mGM(e=u.lsd())&&(t.splitView=e.first)}},decls:14,vars:7,consts:[["slot","start"],[3,"text"],["slot","end"],["button","",3,"detail","click",4,"ngFor","ngForOf"],["button","",3,"click","detail"],["slot","start","aria-hidden","true",3,"name"],[1,"ion-text-wrap"],[1,"item-heading"]],template:function CoreSettingsIndexPage_Template(e,t){1&e&&(u.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),u.nrm(3,"ion-back-button",1),u.nI1(4,"translate"),u.k0s(),u.j41(5,"ion-title")(6,"h1"),u.EFF(7),u.nI1(8,"translate"),u.k0s()(),u.nrm(9,"ion-buttons",2),u.k0s()(),u.j41(10,"ion-content")(11,"core-split-view")(12,"ion-list"),u.DNE(13,CoreSettingsIndexPage_ion_item_13_Template,6,6,"ion-item",3),u.k0s()()()),2&e&&(u.R7$(3),u.Y8G("text",u.bMT(4,3,"core.back")),u.R7$(4),u.JRh(u.bMT(8,5,"core.settings.appsettings")),u.R7$(6),u.Y8G("ngForOf",t.sections.items))},dependencies:[f.Sq,l.M,h.t,C.i,S.QW,S.W9,S.eU,S.iq,S.uz,S.he,S.nf,S.BC,S.ai,S.el,I.D9],encapsulation:2}),CoreSettingsIndexPage})();var v=n(49882),T=n(52749),R=n(89911),F=n(85190),P=n(87455),y=n(79555),k=n(82461),E=n(94455),j=n(15324),D=n(45433),G=n(76954),L=n(64422),$=n(13988),M=n(69418),w=n(43570),N=n(89417);function CoreSettingsSynchronizationPage_ion_card_26_ng_container_4_Template(e,t){1&e&&(u.qex(0),u.EFF(1),u.nI1(2,"translate"),u.bVm()),2&e&&(u.R7$(),u.SpI(" ",u.bMT(2,1,"core.settings.connectwifitosync"),""))}function CoreSettingsSynchronizationPage_ion_card_26_ng_container_5_Template(e,t){1&e&&(u.qex(0),u.EFF(1),u.nI1(2,"translate"),u.bVm()),2&e&&(u.R7$(),u.JRh(u.bMT(2,1,"core.settings.connecttosync")))}function CoreSettingsSynchronizationPage_ion_card_26_Template(e,t){if(1&e&&(u.j41(0,"ion-card",13)(1,"ion-item",9),u.nrm(2,"ion-icon",14),u.j41(3,"ion-label"),u.DNE(4,CoreSettingsSynchronizationPage_ion_card_26_ng_container_4_Template,3,3,"ng-container",12)(5,CoreSettingsSynchronizationPage_ion_card_26_ng_container_5_Template,3,3,"ng-container",12),u.k0s()()()),2&e){const e=u.XpG();u.R7$(4),u.Y8G("ngIf",e.isOnline&&e.dataSaver&&e.limitedConnection),u.R7$(),u.Y8G("ngIf",!e.isOnline)}}function CoreSettingsSynchronizationPage_ng_container_27_ng_template_7_p_0_Template(e,t){1&e&&(u.j41(0,"p",17),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&e&&(u.R7$(),u.JRh(u.bMT(2,1,"core.settings.logintosync")))}function CoreSettingsSynchronizationPage_ng_container_27_ng_template_7_Template(e,t){if(1&e&&u.DNE(0,CoreSettingsSynchronizationPage_ng_container_27_ng_template_7_p_0_Template,3,3,"p",16),2&e){u.Y8G("ngIf",t.site.loggedOut)}}function CoreSettingsSynchronizationPage_ng_container_27_ng_template_9_core_button_with_spinner_0_Template(e,t){if(1&e){const e=u.RV6();u.j41(0,"core-button-with-spinner",20)(1,"ion-button",21),u.nI1(2,"translate"),u.bIt("click",(function CoreSettingsSynchronizationPage_ng_container_27_ng_template_9_core_button_with_spinner_0_Template_ion_button_click_1_listener(){u.eBV(e);const t=u.XpG().site,n=u.XpG(2);return u.Njj(n.synchronize(t.id))})),u.nrm(3,"ion-icon",22),u.k0s()()}if(2&e){const e=u.XpG().site,t=u.XpG(2);u.Y8G("loading",t.isSynchronizing(e.id)),u.R7$(),u.Y8G("ariaLabel",u.bMT(2,2,"core.settings.synchronizenow"))}}function CoreSettingsSynchronizationPage_ng_container_27_ng_template_9_ion_button_1_Template(e,t){if(1&e){const e=u.RV6();u.j41(0,"ion-button",23),u.nI1(1,"translate"),u.bIt("click",(function CoreSettingsSynchronizationPage_ng_container_27_ng_template_9_ion_button_1_Template_ion_button_click_0_listener(){u.eBV(e);const t=u.XpG().site,n=u.XpG(2);return u.Njj(n.login(t.id))})),u.nrm(2,"ion-icon",24),u.k0s()}2&e&&u.Y8G("ariaLabel",u.bMT(1,1,"core.login.login"))}function CoreSettingsSynchronizationPage_ng_container_27_ng_template_9_Template(e,t){if(1&e&&u.DNE(0,CoreSettingsSynchronizationPage_ng_container_27_ng_template_9_core_button_with_spinner_0_Template,4,4,"core-button-with-spinner",18)(1,CoreSettingsSynchronizationPage_ng_container_27_ng_template_9_ion_button_1_Template,3,3,"ion-button",19),2&e){const e=t.site;u.Y8G("ngIf",!e.loggedOut),u.R7$(),u.Y8G("ngIf",e.loggedOut)}}function CoreSettingsSynchronizationPage_ng_container_27_Template(e,t){if(1&e&&(u.qex(0),u.j41(1,"ion-item-divider")(2,"ion-label")(3,"h2"),u.EFF(4),u.nI1(5,"translate"),u.k0s()()(),u.j41(6,"core-sites-list",15),u.DNE(7,CoreSettingsSynchronizationPage_ng_container_27_ng_template_7_Template,1,1,"ng-template",null,0,u.C5r)(9,CoreSettingsSynchronizationPage_ng_container_27_ng_template_9_Template,2,2,"ng-template",null,1,u.C5r),u.k0s(),u.bVm()),2&e){const e=u.XpG();u.R7$(4),u.JRh(u.bMT(5,2,"core.accounts")),u.R7$(2),u.Y8G("accountsList",e.accountsList)}}let O=(()=>{var e;class CoreSettingsSynchronizationPage{constructor(){var e=this;this.accountsList={sameSite:[],otherSites:[],count:0},this.sitesLoaded=!1,this.dataSaver=!1,this.limitedConnection=!1,this.isOnline=!0,this.isDestroyed=!1,this.sitesObserver=v.z.on(v.z.SITE_UPDATED,function(){var t=(0,r.A)((function*(t){var n;const i=t.siteId;let o=i===(null===(n=e.accountsList.currentSite)||void 0===n?void 0:n.id)?e.accountsList.currentSite:void 0;if(o||(o=e.accountsList.sameSite.find((e=>e.id===i))),o||e.accountsList.otherSites.some((e=>(o=e.find((e=>e.id===i)),o))),!o)return;const s=yield T.CoreSites.getSite(i),a=s.getInfo();o.siteName=yield s.getSiteName(),a&&(o.siteUrl=a.siteurl,o.fullname=a.fullname)}));return function(e){return t.apply(this,arguments)}}()),this.isOnline=E.WE.isOnline(),this.limitedConnection=this.isOnline&&E.WE.isNetworkAccessLimited(),this.networkObserver=E.WE.onChange().subscribe((()=>{y.SK.run((()=>{this.isOnline=E.WE.isOnline(),this.limitedConnection=this.isOnline&&E.WE.isNetworkAccessLimited()}))}))}ngOnInit(){var e=this;return(0,r.A)((function*(){try{e.accountsList=yield k.CoreLoginHelper.getAccountsList()}catch{}e.sitesLoaded=!0,e.dataSaver=yield F.CoreConfig.get(g.CoreConstants.SETTINGS_SYNC_ONLY_ON_WIFI,!0)}))()}syncOnlyOnWifiChanged(){F.CoreConfig.set(g.CoreConstants.SETTINGS_SYNC_ONLY_ON_WIFI,this.dataSaver?1:0)}synchronize(e){var t=this;return(0,r.A)((function*(){try{yield P.CoreSettingsHelper.synchronizeSite(!1,e),D.CoreToasts.show({message:"core.settings.sitesynccompleted",translateMessage:!0})}catch(e){if(t.isDestroyed)return;R.CoreDomUtils.showErrorModalDefault(e,"core.settings.sitesyncfailed",!0)}}))()}login(e){return(0,r.A)((function*(){yield j.CoreNavigator.navigateToSiteHome({preferCurrentTab:!1,siteId:e})}))()}isSynchronizing(e){return!!P.CoreSettingsHelper.getSiteSyncPromise(e)}showInfo(){R.CoreDomUtils.showAlert(y.HT.instant("core.help"),y.HT.instant("core.settings.synchronizenowhelp"))}ngOnDestroy(){this.isDestroyed=!0,this.sitesObserver.off(),this.networkObserver.unsubscribe()}}return(e=CoreSettingsSynchronizationPage).ɵfac=function CoreSettingsSynchronizationPage_Factory(t){return new(t||e)},e.ɵcmp=u.VBU({type:e,selectors:[["page-core-app-settings-synchronization"]],decls:28,vars:19,consts:[["siteLabel",""],["siteItem",""],["slot","start"],[3,"text"],["slot","end"],[3,"click","ariaLabel"],["name","fas-circle-info","slot","icon-only","aria-hidden","true"],[1,"limited-width"],[3,"hideUntil"],[1,"ion-text-wrap"],[3,"ngModelChange","ngModel"],["class","core-warning-card",4,"ngIf"],[4,"ngIf"],[1,"core-warning-card"],["name","fas-triangle-exclamation","slot","start","aria-hidden","true"],[3,"accountsList"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["slot","end",3,"loading",4,"ngIf"],["fill","clear","slot","end",3,"ariaLabel","click",4,"ngIf"],["slot","end",3,"loading"],["fill","clear",3,"click","ariaLabel"],["name","fas-rotate","slot","icon-only","aria-hidden","true"],["fill","clear","slot","end",3,"click","ariaLabel"],["name","fas-right-to-bracket","slot","icon-only","aria-hidden","true"]],template:function CoreSettingsSynchronizationPage_Template(e,t){1&e&&(u.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",2),u.nrm(3,"ion-back-button",3),u.nI1(4,"translate"),u.k0s(),u.j41(5,"ion-title")(6,"h1"),u.EFF(7),u.nI1(8,"translate"),u.k0s()(),u.j41(9,"ion-buttons",4)(10,"core-navbar-buttons")(11,"ion-button",5),u.nI1(12,"translate"),u.bIt("click",(function CoreSettingsSynchronizationPage_Template_ion_button_click_11_listener(){return t.showInfo()})),u.nrm(13,"ion-icon",6),u.k0s()()()()(),u.j41(14,"ion-content",7)(15,"core-loading",8)(16,"ion-list",7)(17,"ion-item-divider")(18,"ion-label")(19,"h2"),u.EFF(20),u.nI1(21,"translate"),u.k0s()()(),u.j41(22,"ion-item",9)(23,"ion-toggle",10),u.mxI("ngModelChange",(function CoreSettingsSynchronizationPage_Template_ion_toggle_ngModelChange_23_listener(e){return u.DH7(t.dataSaver,e)||(t.dataSaver=e),e})),u.bIt("ngModelChange",(function CoreSettingsSynchronizationPage_Template_ion_toggle_ngModelChange_23_listener(){return t.syncOnlyOnWifiChanged()})),u.EFF(24),u.nI1(25,"translate"),u.k0s()(),u.DNE(26,CoreSettingsSynchronizationPage_ion_card_26_Template,6,2,"ion-card",11)(27,CoreSettingsSynchronizationPage_ng_container_27_Template,11,4,"ng-container",12),u.k0s()()()),2&e&&(u.R7$(3),u.Y8G("text",u.bMT(4,9,"core.back")),u.R7$(4),u.JRh(u.bMT(8,11,"core.settings.synchronization")),u.R7$(4),u.Y8G("ariaLabel",u.bMT(12,13,"core.info")),u.R7$(4),u.Y8G("hideUntil",t.sitesLoaded),u.R7$(5),u.JRh(u.bMT(21,15,"core.settings.syncsettings")),u.R7$(3),u.R50("ngModel",t.dataSaver),u.R7$(),u.SpI(" ",u.bMT(25,17,"core.settings.syncdatasaver")," "),u.R7$(2),u.Y8G("ngIf",!t.isOnline||t.dataSaver&&t.limitedConnection),u.R7$(),u.Y8G("ngIf",t.isOnline&&(!t.dataSaver||!t.limitedConnection)))},dependencies:[f.bT,G.q,L.R,$.c,M.L,h.t,C.i,w.T,N.BC,N.vS,S.Jm,S.QW,S.b_,S.W9,S.eU,S.iq,S.uz,S.Dg,S.he,S.nf,S.BC,S.BY,S.ai,S.hB,S.el,I.D9],encapsulation:2}),CoreSettingsSynchronizationPage})();var x=n(72881),Y=n(44411),A=n(55554),J=n(22693),V=n(246);const _c0=e=>({header:e}),_c1=e=>({"font-size.px":e});function CoreSettingsGeneralPage_ion_select_option_18_Template(e,t){if(1&e&&(u.j41(0,"ion-select-option",15),u.EFF(1),u.k0s()),2&e){const e=t.$implicit;u.Y8G("value",e.code),u.R7$(),u.JRh(e.name)}}function CoreSettingsGeneralPage_ion_segment_button_25_Template(e,t){if(1&e){const e=u.RV6();u.j41(0,"ion-segment-button",16),u.bIt("click",(function CoreSettingsGeneralPage_ion_segment_button_25_Template_ion_segment_button_click_0_listener(t){const n=u.eBV(e).$implicit,i=u.XpG();return u.Njj(i.zoomLevelChanged(t,n.value))})),u.j41(1,"ion-label"),u.EFF(2),u.nI1(3,"translate"),u.nrm(4,"span",17),u.k0s()()}if(2&e){const e=t.$implicit,n=u.XpG();u.Y8G("value",e.value)("ngStyle",u.eq3(6,_c1,e.style)),u.R7$(2),u.SpI(" ",u.bMT(3,4,"core.settings.fontsizecharacter")," "),u.R7$(2),u.Y8G("ngStyle",u.eq3(8,_c1,n.zoomLevels[n.zoomLevels.length-1].style))}}function CoreSettingsGeneralPage_ion_item_26_p_8_Template(e,t){1&e&&(u.j41(0,"p",22),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&e&&(u.R7$(),u.JRh(u.bMT(2,1,"core.settings.forcedsetting")))}function CoreSettingsGeneralPage_ion_item_26_ion_select_option_9_Template(e,t){if(1&e&&(u.j41(0,"ion-select-option",15),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&e){const e=t.$implicit;u.Y8G("value",e),u.R7$(),u.SpI(" ",u.bMT(2,2,"core.settings.colorscheme-"+e),"")}}function CoreSettingsGeneralPage_ion_item_26_Template(e,t){if(1&e){const e=u.RV6();u.j41(0,"ion-item",18)(1,"ion-select",19),u.nI1(2,"translate"),u.nI1(3,"translate"),u.mxI("ngModelChange",(function CoreSettingsGeneralPage_ion_item_26_Template_ion_select_ngModelChange_1_listener(t){u.eBV(e);const n=u.XpG();return u.DH7(n.selectedScheme,t)||(n.selectedScheme=t),u.Njj(t)})),u.bIt("ionChange",(function CoreSettingsGeneralPage_ion_item_26_Template_ion_select_ionChange_1_listener(t){u.eBV(e);const n=u.XpG();return u.Njj(n.colorSchemeChanged(t))})),u.j41(4,"div",20)(5,"p",8),u.EFF(6),u.nI1(7,"translate"),u.k0s(),u.DNE(8,CoreSettingsGeneralPage_ion_item_26_p_8_Template,3,3,"p",21),u.k0s(),u.DNE(9,CoreSettingsGeneralPage_ion_item_26_ion_select_option_9_Template,3,4,"ion-select-option",6),u.k0s()()}if(2&e){const e=u.XpG();u.R7$(),u.R50("ngModel",e.selectedScheme),u.Y8G("cancelText",u.bMT(2,7,"core.cancel"))("disabled",e.colorSchemeDisabled)("interfaceOptions",u.eq3(13,_c0,u.bMT(3,9,"core.settings.colorscheme"))),u.R7$(5),u.JRh(u.bMT(7,11,"core.settings.colorscheme")),u.R7$(2),u.Y8G("ngIf",e.colorSchemeDisabled),u.R7$(),u.Y8G("ngForOf",e.colorSchemes)}}function CoreSettingsGeneralPage_ion_item_27_Template(e,t){1&e&&(u.j41(0,"ion-item",23)(1,"ion-label",3)(2,"p",3),u.EFF(3),u.nI1(4,"translate"),u.k0s()()()),2&e&&(u.R7$(3),u.JRh(u.bMT(4,1,"core.settings.colorscheme-system-notice")))}function CoreSettingsGeneralPage_ion_item_36_Template(e,t){if(1&e){const e=u.RV6();u.j41(0,"ion-item",23)(1,"ion-label")(2,"p",8),u.EFF(3),u.nI1(4,"translate"),u.k0s(),u.j41(5,"p",3),u.EFF(6),u.nI1(7,"translate"),u.k0s(),u.j41(8,"ion-button",24),u.bIt("click",(function CoreSettingsGeneralPage_ion_item_36_Template_ion_button_click_8_listener(t){u.eBV(e);const n=u.XpG();return u.Njj(n.openNativeSettings(t))})),u.EFF(9),u.nI1(10,"translate"),u.k0s()()()}2&e&&(u.R7$(3),u.JRh(u.bMT(4,3,"core.settings.ioscookies")),u.R7$(3),u.JRh(u.bMT(7,5,"core.settings.ioscookiesdescription")),u.R7$(3),u.SpI(" ",u.bMT(10,7,"core.opensettings")," "))}function CoreSettingsGeneralPage_ion_item_45_Template(e,t){if(1&e){const e=u.RV6();u.j41(0,"ion-item")(1,"ion-label")(2,"p",8),u.EFF(3),u.nI1(4,"translate"),u.k0s(),u.j41(5,"p",3),u.EFF(6),u.nI1(7,"translate"),u.k0s()(),u.j41(8,"ion-toggle",25),u.mxI("ngModelChange",(function CoreSettingsGeneralPage_ion_item_45_Template_ion_toggle_ngModelChange_8_listener(t){u.eBV(e);const n=u.XpG();return u.DH7(n.analyticsEnabled,t)||(n.analyticsEnabled=t),u.Njj(t)})),u.bIt("ionChange",(function CoreSettingsGeneralPage_ion_item_45_Template_ion_toggle_ionChange_8_listener(t){u.eBV(e);const n=u.XpG();return u.Njj(n.analyticsEnabledChanged(t))})),u.k0s()()}if(2&e){const e=u.XpG();u.R7$(3),u.JRh(u.bMT(4,3,"core.settings.enableanalytics")),u.R7$(3),u.JRh(u.bMT(7,5,"core.settings.enableanalyticsdescription")),u.R7$(2),u.R50("ngModel",e.analyticsEnabled)}}let U=(()=>{var e;class CoreSettingsGeneralPage{constructor(){this.languages=[],this.selectedLanguage="",this.zoomLevels=[],this.selectedZoomLevel="none",this.richTextEditor=!0,this.debugDisplay=!1,this.analyticsAvailable=!1,this.analyticsEnabled=!1,this.colorSchemes=[],this.selectedScheme="light",this.colorSchemeDisabled=!1,this.isAndroid=!1,this.displayIframeHelp=!1,this.asyncInit()}asyncInit(){var e=this;return(0,r.A)((function*(){const t=g.CoreConstants.CONFIG.languages;for(const n in t)e.languages.push({code:n,name:t[n]});e.languages.sort(((e,t)=>e.name.localeCompare(t.name))),e.selectedLanguage=yield x.CoreLang.getCurrentLanguage(),g.CoreConstants.CONFIG.forceColorScheme||(e.colorSchemeDisabled=P.CoreSettingsHelper.isColorSchemeDisabledInSite(),e.colorSchemeDisabled?(e.colorSchemes.push("light"),e.selectedScheme=e.colorSchemes[0]):(e.isAndroid=m.CorePlatform.isAndroid(),e.colorSchemes=P.CoreSettingsHelper.getAllowedColorSchemes(),e.selectedScheme=yield F.CoreConfig.get(g.CoreConstants.SETTINGS_COLOR_SCHEME,"light"))),e.selectedZoomLevel=yield P.CoreSettingsHelper.getZoomLevel(),e.zoomLevels=Object.keys(g.CoreConstants.CONFIG.zoomlevels).map((t=>({value:t,style:Math.round(16*g.CoreConstants.CONFIG.zoomlevels[t]/100),selected:t===e.selectedZoomLevel}))),e.richTextEditor=yield F.CoreConfig.get(g.CoreConstants.SETTINGS_RICH_TEXT_EDITOR,!0),e.debugDisplay=yield F.CoreConfig.get(g.CoreConstants.SETTINGS_DEBUG_DISPLAY,!1),e.analyticsAvailable=yield J.OF.isAnalyticsAvailable(),e.analyticsAvailable&&(e.analyticsEnabled=yield F.CoreConfig.get(g.CoreConstants.SETTINGS_ANALYTICS_ENABLED,!0)),e.displayIframeHelp=Y.CoreIframeUtils.shouldDisplayHelp()}))()}languageChanged(e){var t=this;return(0,r.A)((function*(){e.stopPropagation(),e.preventDefault();const n=yield x.CoreLang.getCurrentLanguage();if(t.selectedLanguage===n)return;const i=y.HT.instant("core.cancel");try{yield x.CoreLang.changeCurrentLanguage(t.selectedLanguage)}finally{var o;const e=null===(o=t.languages.find((e=>e.code==t.selectedLanguage)))||void 0===o?void 0:o.name,s=[{text:i,role:"cancel",handler:()=>{clearTimeout(l),t.selectedLanguage=n,x.CoreLang.changeCurrentLanguage(t.selectedLanguage)}},{text:y.HT.instant("core.settings.changelanguage",{$a:e}),cssClass:"timed-button",handler:()=>{clearTimeout(l),t.applyLanguageAndRestart()}}],a=yield R.CoreDomUtils.showAlertWithOptions({message:y.HT.instant("core.settings.changelanguagealert"),buttons:s}),l=window.setTimeout((0,r.A)((function*(){yield a.dismiss(),t.applyLanguageAndRestart()})),1e4)}}))()}applyLanguageAndRestart(){var e=this;return(0,r.A)((function*(){const t=yield T.CoreSites.getSitesInstances();yield A.g.ignoreErrors(Promise.all(t.map((e=>e.invalidateWsCache())))),v.z.trigger(v.z.LANGUAGE_CHANGED,e.selectedLanguage),j.CoreNavigator.navigate("/reload",{reset:!0})}))()}zoomLevelChanged(e,t){e.stopPropagation(),e.preventDefault(),this.selectedZoomLevel=t,this.zoomLevels=this.zoomLevels.map((e=>(e.selected=e.value===this.selectedZoomLevel,e))),P.CoreSettingsHelper.applyZoomLevel(this.selectedZoomLevel),F.CoreConfig.set(g.CoreConstants.SETTINGS_ZOOM_LEVEL,this.selectedZoomLevel)}colorSchemeChanged(e){e.stopPropagation(),e.preventDefault(),P.CoreSettingsHelper.setColorScheme(this.selectedScheme),F.CoreConfig.set(g.CoreConstants.SETTINGS_COLOR_SCHEME,this.selectedScheme)}richTextEditorChanged(e){e.stopPropagation(),e.preventDefault(),F.CoreConfig.set(g.CoreConstants.SETTINGS_RICH_TEXT_EDITOR,this.richTextEditor?1:0)}debugDisplayChanged(e){e.stopPropagation(),e.preventDefault(),F.CoreConfig.set(g.CoreConstants.SETTINGS_DEBUG_DISPLAY,this.debugDisplay?1:0),R.CoreDomUtils.setDebugDisplay(this.debugDisplay)}analyticsEnabledChanged(e){var t=this;return(0,r.A)((function*(){e.stopPropagation(),e.preventDefault(),yield J.OF.enableAnalytics(t.analyticsEnabled),F.CoreConfig.set(g.CoreConstants.SETTINGS_ANALYTICS_ENABLED,t.analyticsEnabled?1:0)}))()}openNativeSettings(e){var t;e.stopPropagation(),e.preventDefault(),null===(t=V.b.plugin("diagnostic"))||void 0===t||t.switchToSettings()}}return(e=CoreSettingsGeneralPage).ɵfac=function CoreSettingsGeneralPage_Factory(t){return new(t||e)},e.ɵcmp=u.VBU({type:e,selectors:[["page-core-app-settings-general"]],decls:46,vars:42,consts:[["slot","start"],[3,"text"],[1,"list-item-limited-width"],[1,"ion-text-wrap"],["interface","action-sheet",3,"ngModelChange","ionChange","ngModel","cancelText","interfaceOptions"],["slot","label",1,"item-heading","ion-text-wrap"],[3,"value",4,"ngFor","ngForOf"],["lines","none",1,"ion-text-wrap","core-settings-general-font-size","item-interactive"],[1,"item-heading","ion-text-wrap"],["color","primary",3,"ngModelChange","ngModel"],[3,"value","ngStyle","click",4,"ngFor","ngForOf"],["class","ion-text-wrap core-settings-general-color-scheme",4,"ngIf"],["lines","none",4,"ngIf"],[3,"ngModelChange","ionChange","ngModel"],[4,"ngIf"],[3,"value"],[3,"click","value","ngStyle"],[3,"ngStyle"],[1,"ion-text-wrap","core-settings-general-color-scheme"],["interface","action-sheet",3,"ngModelChange","ionChange","ngModel","cancelText","disabled","interfaceOptions"],["slot","label"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["lines","none"],["expand","block",3,"click"],["slot","end",3,"ngModelChange","ionChange","ngModel"]],template:function CoreSettingsGeneralPage_Template(e,t){1&e&&(u.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),u.nrm(3,"ion-back-button",1),u.nI1(4,"translate"),u.k0s(),u.j41(5,"ion-title")(6,"h1"),u.EFF(7),u.nI1(8,"translate"),u.k0s()()()(),u.j41(9,"ion-content")(10,"ion-list",2)(11,"ion-item",3)(12,"ion-select",4),u.nI1(13,"translate"),u.nI1(14,"translate"),u.mxI("ngModelChange",(function CoreSettingsGeneralPage_Template_ion_select_ngModelChange_12_listener(e){return u.DH7(t.selectedLanguage,e)||(t.selectedLanguage=e),e})),u.bIt("ionChange",(function CoreSettingsGeneralPage_Template_ion_select_ionChange_12_listener(e){return t.languageChanged(e)})),u.j41(15,"div",5),u.EFF(16),u.nI1(17,"translate"),u.k0s(),u.DNE(18,CoreSettingsGeneralPage_ion_select_option_18_Template,2,2,"ion-select-option",6),u.k0s()(),u.j41(19,"ion-item",7)(20,"ion-label")(21,"p",8),u.EFF(22),u.nI1(23,"translate"),u.k0s()(),u.j41(24,"ion-segment",9),u.mxI("ngModelChange",(function CoreSettingsGeneralPage_Template_ion_segment_ngModelChange_24_listener(e){return u.DH7(t.selectedZoomLevel,e)||(t.selectedZoomLevel=e),e})),u.DNE(25,CoreSettingsGeneralPage_ion_segment_button_25_Template,5,10,"ion-segment-button",10),u.k0s()(),u.DNE(26,CoreSettingsGeneralPage_ion_item_26_Template,10,15,"ion-item",11)(27,CoreSettingsGeneralPage_ion_item_27_Template,5,3,"ion-item",12),u.j41(28,"ion-item")(29,"ion-toggle",13),u.mxI("ngModelChange",(function CoreSettingsGeneralPage_Template_ion_toggle_ngModelChange_29_listener(e){return u.DH7(t.richTextEditor,e)||(t.richTextEditor=e),e})),u.bIt("ionChange",(function CoreSettingsGeneralPage_Template_ion_toggle_ionChange_29_listener(e){return t.richTextEditorChanged(e)})),u.j41(30,"p",8),u.EFF(31),u.nI1(32,"translate"),u.k0s(),u.j41(33,"p",3),u.EFF(34),u.nI1(35,"translate"),u.k0s()()(),u.DNE(36,CoreSettingsGeneralPage_ion_item_36_Template,11,9,"ion-item",12),u.j41(37,"ion-item")(38,"ion-toggle",13),u.mxI("ngModelChange",(function CoreSettingsGeneralPage_Template_ion_toggle_ngModelChange_38_listener(e){return u.DH7(t.debugDisplay,e)||(t.debugDisplay=e),e})),u.bIt("ionChange",(function CoreSettingsGeneralPage_Template_ion_toggle_ionChange_38_listener(e){return t.debugDisplayChanged(e)})),u.j41(39,"p",8),u.EFF(40),u.nI1(41,"translate"),u.k0s(),u.j41(42,"p",3),u.EFF(43),u.nI1(44,"translate"),u.k0s()()(),u.DNE(45,CoreSettingsGeneralPage_ion_item_45_Template,9,7,"ion-item",14),u.k0s()()),2&e&&(u.R7$(3),u.Y8G("text",u.bMT(4,20,"core.back")),u.R7$(4),u.JRh(u.bMT(8,22,"core.settings.general")),u.R7$(5),u.R50("ngModel",t.selectedLanguage),u.Y8G("cancelText",u.bMT(13,24,"core.cancel"))("interfaceOptions",u.eq3(40,_c0,u.bMT(14,26,"core.settings.language"))),u.R7$(4),u.JRh(u.bMT(17,28,"core.settings.language")),u.R7$(2),u.Y8G("ngForOf",t.languages),u.R7$(4),u.JRh(u.bMT(23,30,"core.settings.fontsize")),u.R7$(2),u.R50("ngModel",t.selectedZoomLevel),u.R7$(),u.Y8G("ngForOf",t.zoomLevels),u.R7$(),u.Y8G("ngIf",t.colorSchemes.length>0),u.R7$(),u.Y8G("ngIf",t.colorSchemes.length>0&&"system"===t.selectedScheme&&t.isAndroid),u.R7$(2),u.R50("ngModel",t.richTextEditor),u.R7$(2),u.JRh(u.bMT(32,32,"core.settings.enablerichtexteditor")),u.R7$(3),u.JRh(u.bMT(35,34,"core.settings.enablerichtexteditordescription")),u.R7$(2),u.Y8G("ngIf",t.displayIframeHelp),u.R7$(2),u.R50("ngModel",t.debugDisplay),u.R7$(2),u.JRh(u.bMT(41,36,"core.settings.debugdisplay")),u.R7$(3),u.JRh(u.bMT(44,38,"core.settings.debugdisplaydescription")),u.R7$(2),u.Y8G("ngIf",t.analyticsAvailable))},dependencies:[f.Sq,f.bT,f.B3,C.i,w.T,N.BC,N.vS,S.Jm,S.QW,S.W9,S.eU,S.uz,S.he,S.nf,S.Gp,S.eP,S.Nm,S.Ip,S.BC,S.BY,S.ai,S.hB,S.Je,S.el,I.D9],styles:["[_nghost-%COMP%]   .core-settings-general-font-size[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]{max-width:250px}"]}),CoreSettingsGeneralPage})();var B=n(58364),X=n(78913);const space_usage_c0=e=>({name:e});function CoreSettingsSpaceUsagePage_ng_template_18_ion_badge_0_Template(e,t){if(1&e&&(u.j41(0,"ion-badge",13),u.EFF(1),u.nI1(2,"coreBytesToSize"),u.k0s()),2&e){const e=u.XpG().site;u.R7$(),u.JRh(u.bMT(2,1,e.spaceUsage))}}function CoreSettingsSpaceUsagePage_ng_template_18_Template(e,t){if(1&e&&u.DNE(0,CoreSettingsSpaceUsagePage_ng_template_18_ion_badge_0_Template,3,3,"ion-badge",12),2&e){u.Y8G("ngIf",void 0!==t.site.spaceUsage)}}function CoreSettingsSpaceUsagePage_ng_template_20_Template(e,t){if(1&e){const e=u.RV6();u.j41(0,"ion-button",14),u.bIt("click",(function CoreSettingsSpaceUsagePage_ng_template_20_Template_ion_button_click_0_listener(){const t=u.eBV(e).site,n=u.XpG();return u.Njj(n.deleteSiteStorage(t))})),u.nrm(1,"ion-icon",15),u.nI1(2,"translate"),u.k0s()}if(2&e){const e=t.site;u.Y8G("hidden",e.spaceUsage<=0&&!e.hasCacheEntries),u.R7$(),u.BMQ("aria-label",u.i5U(2,2,"addon.storagemanager.deletedatafrom",u.eq3(5,space_usage_c0,e.siteName)))}}let z=(()=>{var e;class CoreSettingsSpaceUsagePage{constructor(){var e=this;this.loaded=!1,this.totalSpaceUsage=0,this.accountsList={sameSite:[],otherSites:[],count:0},this.sitesObserver=v.z.on(v.z.SITE_UPDATED,function(){var t=(0,r.A)((function*(t){var n;const i=t.siteId;let o=i===(null===(n=e.accountsList.currentSite)||void 0===n?void 0:n.id)?e.accountsList.currentSite:void 0;if(o||(o=e.accountsList.sameSite.find((e=>e.id===i))),o||e.accountsList.otherSites.some((e=>(o=e.find((e=>e.id===i)),o))),!o)return;const s=yield T.CoreSites.getSite(i),a=s.getInfo();o.siteName=yield s.getSiteName(),a&&(o.siteUrl=a.siteurl,o.fullname=a.fullname)}));return function(e){return t.apply(this,arguments)}}())}ngOnInit(){this.loadSiteData().finally((()=>{this.loaded=!0}))}loadSiteData(){var e=this;return(0,r.A)((function*(){let t=0;const n=yield A.g.ignoreErrors(T.CoreSites.getSortedSites(),[]),i=yield Promise.all(n.map((t=>e.getSiteWithUsage(t))));let o="";const s=T.CoreSites.getCurrentSiteId();if(s){const n=i.findIndex((e=>e.id===s)),a=i.splice(n,1)[0];e.accountsList.currentSite=a,t+=a.spaceUsage||0,o=e.accountsList.currentSite.siteUrlWithoutProtocol}const a={};i.forEach((n=>{t+=n.spaceUsage||0,n.siteUrlWithoutProtocol===o?e.accountsList.sameSite.push(n):(void 0===a[n.siteUrlWithoutProtocol]&&(a[n.siteUrlWithoutProtocol]=[]),a[n.siteUrlWithoutProtocol].push(n))})),e.accountsList.otherSites=B.T.toArray(a),e.accountsList.count=n.length,e.totalSpaceUsage=t}))()}getSiteWithUsage(e){return(0,r.A)((function*(){const t=yield P.CoreSettingsHelper.getSiteSpaceUsage(e.id);return Object.assign(e,{hasCacheEntries:t.cacheEntries>0,spaceUsage:t.spaceUsage})}))()}refreshData(e){this.loadSiteData().finally((()=>{null==e||e.complete()}))}deleteSiteStorage(e){var t=this;return(0,r.A)((function*(){try{const n=yield P.CoreSettingsHelper.deleteSiteStorage(e.siteName||"",e.id);t.totalSpaceUsage-=e.spaceUsage-n.spaceUsage,e.spaceUsage=n.spaceUsage,e.hasCacheEntries=n.cacheEntries>0}catch{}}))()}ngOnDestroy(){this.sitesObserver.off()}}return(e=CoreSettingsSpaceUsagePage).ɵfac=function CoreSettingsSpaceUsagePage_Factory(t){return new(t||e)},e.ɵcmp=u.VBU({type:e,selectors:[["page-core-app-settings-space-usage"]],decls:30,vars:18,consts:[["siteLabel",""],["siteItem",""],["slot","start"],[3,"text"],["slot","end"],[1,"limited-width"],["slot","fixed",3,"ionRefresh","disabled"],[3,"pullingText"],[3,"hideUntil"],[3,"accountsList"],[1,"item-heading"],["slot","end",1,"ion-margin-end"],["color","light",4,"ngIf"],["color","light"],["fill","clear","color","danger","slot","end",3,"click","hidden"],["name","fas-trash","slot","icon-only"]],template:function CoreSettingsSpaceUsagePage_Template(e,t){if(1&e){const e=u.RV6();u.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",2),u.nrm(3,"ion-back-button",3),u.nI1(4,"translate"),u.k0s(),u.j41(5,"ion-title")(6,"h1"),u.EFF(7),u.nI1(8,"translate"),u.k0s()(),u.j41(9,"ion-buttons",4),u.nrm(10,"core-navbar-buttons"),u.k0s()()(),u.j41(11,"ion-content",5)(12,"ion-refresher",6),u.bIt("ionRefresh",(function CoreSettingsSpaceUsagePage_Template_ion_refresher_ionRefresh_12_listener(n){return u.eBV(e),u.Njj(t.refreshData(n.target))})),u.nrm(13,"ion-refresher-content",7),u.nI1(14,"translate"),u.k0s(),u.j41(15,"core-loading",8)(16,"ion-list",5)(17,"core-sites-list",9),u.DNE(18,CoreSettingsSpaceUsagePage_ng_template_18_Template,1,1,"ng-template",null,0,u.C5r)(20,CoreSettingsSpaceUsagePage_ng_template_20_Template,3,7,"ng-template",null,1,u.C5r),u.k0s(),u.j41(22,"ion-item-divider")(23,"ion-label")(24,"p",10),u.EFF(25),u.nI1(26,"translate"),u.k0s()(),u.j41(27,"p",11),u.EFF(28),u.nI1(29,"coreBytesToSize"),u.k0s()()()()()}2&e&&(u.R7$(3),u.Y8G("text",u.bMT(4,8,"core.back")),u.R7$(4),u.JRh(u.bMT(8,10,"core.settings.spaceusage")),u.R7$(5),u.Y8G("disabled",!t.loaded),u.R7$(),u.FS9("pullingText",u.bMT(14,12,"core.pulltorefresh")),u.R7$(2),u.Y8G("hideUntil",t.loaded),u.R7$(2),u.Y8G("accountsList",t.accountsList),u.R7$(8),u.JRh(u.bMT(26,14,"core.settings.total")),u.R7$(3),u.SpI(" ",u.bMT(29,16,t.totalSpaceUsage)," "))},dependencies:[f.bT,L.R,$.c,M.L,h.t,C.i,w.T,S.In,S.Jm,S.QW,S.W9,S.eU,S.iq,S.Dg,S.he,S.nf,S.To,S.Ki,S.BC,S.ai,S.el,X.b,I.D9],encapsulation:2}),CoreSettingsSpaceUsagePage})();var H=n(23007);function CoreSettingsAboutPage_ion_item_16_Template(e,t){if(1&e&&(u.j41(0,"ion-item",10),u.nrm(1,"ion-icon",11),u.j41(2,"ion-label"),u.EFF(3),u.nI1(4,"translate"),u.k0s()()),2&e){const e=u.XpG();u.Y8G("autoLogin",!1)("href",e.privacyPolicy)("detail",!0),u.R7$(3),u.JRh(u.bMT(4,4,"core.settings.privacypolicy"))}}function CoreSettingsAboutPage_ion_item_17_Template(e,t){if(1&e&&(u.j41(0,"ion-item",10),u.nrm(1,"ion-icon",12),u.j41(2,"ion-label"),u.EFF(3),u.nI1(4,"translate"),u.k0s()()),2&e){const e=u.XpG();u.Y8G("autoLogin",!1)("href",e.a11yStatement)("detail",!0),u.R7$(3),u.JRh(u.bMT(4,4,"core.settings.accessstatement"))}}function CoreSettingsAboutPage_ion_item_18_Template(e,t){if(1&e&&(u.j41(0,"ion-item",13),u.nrm(1,"ion-icon",14),u.j41(2,"ion-label"),u.EFF(3),u.nI1(4,"translate"),u.k0s()()),2&e){const e=u.XpG();u.Y8G("href",e.feedbackFormUrl)("detail",!0),u.R7$(3),u.JRh(u.bMT(4,3,"core.settings.helpusimprove"))}}function CoreSettingsAboutPage_ion_item_19_Template(e,t){if(1&e&&(u.j41(0,"ion-item",10),u.nrm(1,"ion-icon",15),u.j41(2,"ion-label"),u.EFF(3),u.nI1(4,"translate"),u.k0s()()),2&e){const e=u.XpG();u.Y8G("autoLogin",!1)("href",e.legalDisclaimer)("detail",!0),u.R7$(3),u.JRh(u.bMT(4,4,"core.settings.legaldisclaimer"))}}let W=(()=>{var e;class CoreSettingsAboutPage{constructor(){var e,t,n;this.feedbackFormUrl=null!==(e=g.CoreConstants.CONFIG.feedbackFormUrl)&&void 0!==e?e:"https://feedback.moodle.org/mobileapp",this.a11yStatement=null!==(t=g.CoreConstants.CONFIG.a11yStatement)&&void 0!==t?t:"https://apps.moodle.com/admin/tool/policy/view.php?versionid=5",this.showSurvey=!1,this.legalDisclaimer=g.CoreConstants.CONFIG.legalDisclaimer,this.currentSite=T.CoreSites.getCurrentSite(),this.appName=g.CoreConstants.CONFIG.appname,this.versionName=g.CoreConstants.CONFIG.versionname,this.privacyPolicy=this.currentSite&&(this.currentSite.getStoredConfig("tool_mobile_apppolicy")||this.currentSite.getStoredConfig("sitepolicy"))||g.CoreConstants.CONFIG.privacypolicy,this.showSurvey=null===(n=this.currentSite)||void 0===n?void 0:n.isAdmin()}openPage(e){j.CoreNavigator.navigate(e)}}return(e=CoreSettingsAboutPage).ɵfac=function CoreSettingsAboutPage_Factory(t){return new(t||e)},e.ɵcmp=u.VBU({type:e,selectors:[["page-core-app-settings-about"]],decls:25,vars:17,consts:[["slot","start"],[3,"text"],[1,"list-item-limited-width"],["button","",1,"ion-text-wrap",3,"click","detail"],["name","far-copyright","slot","start","aria-hidden","true"],["class","ion-text-wrap","button","","core-link","","detailIcon","open-outline",3,"autoLogin","href","detail",4,"ngIf"],["class","ion-text-wrap","button","","core-link","","detailIcon","open-outline",3,"href","detail",4,"ngIf"],[1,"ion-no-border"],["button","",1,"ion-text-wrap","ion-text-center","core-about-deviceinfo",3,"click","detail"],[1,"item-heading"],["button","","core-link","","detailIcon","open-outline",1,"ion-text-wrap",3,"autoLogin","href","detail"],["name","fas-user-shield","slot","start","aria-hidden","true"],["name","fas-universal-access","slot","start","aria-hidden","true"],["button","","core-link","","detailIcon","open-outline",1,"ion-text-wrap",3,"href","detail"],["name","fas-bullhorn","slot","start","aria-hidden","true"],["name","fas-scale-balanced","slot","start","aria-hidden","true"]],template:function CoreSettingsAboutPage_Template(e,t){1&e&&(u.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),u.nrm(3,"ion-back-button",1),u.nI1(4,"translate"),u.k0s(),u.j41(5,"ion-title")(6,"h1"),u.EFF(7),u.nI1(8,"translate"),u.k0s()()()(),u.j41(9,"ion-content")(10,"ion-list",2)(11,"ion-item",3),u.bIt("click",(function CoreSettingsAboutPage_Template_ion_item_click_11_listener(){return t.openPage("licenses")})),u.nrm(12,"ion-icon",4),u.j41(13,"ion-label"),u.EFF(14),u.nI1(15,"translate"),u.k0s()(),u.DNE(16,CoreSettingsAboutPage_ion_item_16_Template,5,6,"ion-item",5)(17,CoreSettingsAboutPage_ion_item_17_Template,5,6,"ion-item",5)(18,CoreSettingsAboutPage_ion_item_18_Template,5,5,"ion-item",6)(19,CoreSettingsAboutPage_ion_item_19_Template,5,6,"ion-item",5),u.k0s()(),u.j41(20,"ion-footer",7)(21,"ion-item",8),u.bIt("click",(function CoreSettingsAboutPage_Template_ion_item_click_21_listener(){return t.openPage("deviceinfo")})),u.j41(22,"ion-label")(23,"p",9),u.EFF(24),u.k0s()()()()),2&e&&(u.R7$(3),u.Y8G("text",u.bMT(4,11,"core.back")),u.R7$(4),u.SpI(" ",u.bMT(8,13,"core.settings.about")," "),u.R7$(4),u.Y8G("detail",!0),u.R7$(3),u.JRh(u.bMT(15,15,"core.settings.opensourcelicenses")),u.R7$(2),u.Y8G("ngIf",t.privacyPolicy),u.R7$(),u.Y8G("ngIf",t.a11yStatement),u.R7$(),u.Y8G("ngIf",t.currentSite&&t.feedbackFormUrl&&t.showSurvey),u.R7$(),u.Y8G("ngIf",t.legalDisclaimer),u.R7$(2),u.Y8G("detail",!1),u.R7$(3),u.Lme("",t.appName," ",t.versionName,""))},dependencies:[f.bT,h.t,H.j,C.i,S.QW,S.W9,S.M0,S.eU,S.iq,S.uz,S.he,S.nf,S.BC,S.ai,S.el,I.D9],styles:[".core-about-deviceinfo[_ngcontent-%COMP%]{--background: transparent}"]}),CoreSettingsAboutPage})();var q=n(54843);function CoreSettingsLicensesPage_ion_item_14_Template(e,t){if(1&e&&(u.j41(0,"ion-item",7)(1,"ion-label"),u.EFF(2),u.nI1(3,"translate"),u.k0s(),u.j41(4,"ion-button",8),u.EFF(5),u.nI1(6,"translate"),u.k0s()()),2&e){const e=u.XpG();u.Y8G("href",e.licensesUrl)("autoLogin",!1)("detail",!1),u.R7$(2),u.SpI(" ",u.bMT(3,7,"core.settings.opensourcelicenses")," "),u.R7$(2),u.Y8G("href",e.licensesUrl)("autoLogin",!1),u.R7$(),u.SpI(" ",u.bMT(6,9,"core.view"),"")}}function CoreSettingsLicensesPage_ng_container_15_ion_item_1_a_3_Template(e,t){if(1&e&&(u.j41(0,"a",15),u.EFF(1),u.k0s()),2&e){const e=u.XpG().$implicit;u.Y8G("href",e.repository,u.B4B)("autoLogin",!1),u.R7$(),u.JRh(e.name)}}function CoreSettingsLicensesPage_ng_container_15_ion_item_1_ng_container_4_Template(e,t){if(1&e&&(u.qex(0),u.EFF(1),u.bVm()),2&e){const e=u.XpG().$implicit;u.R7$(),u.JRh(e.name)}}function CoreSettingsLicensesPage_ng_container_15_ion_item_1_p_6_Template(e,t){if(1&e&&(u.j41(0,"p"),u.EFF(1),u.nI1(2,"translate"),u.nI1(3,"translate"),u.k0s()),2&e){const e=u.XpG().$implicit;u.R7$(),u.E5c(" ",u.bMT(2,3,"core.settings.publisher"),"",u.bMT(3,5,"core.labelsep")," ",e.publisher," ")}}function CoreSettingsLicensesPage_ng_container_15_ion_item_1_a_12_Template(e,t){if(1&e&&(u.j41(0,"a",15),u.EFF(1),u.k0s()),2&e){const e=u.XpG().$implicit;u.Y8G("href",e.url,u.B4B)("autoLogin",!1),u.R7$(),u.JRh(e.url)}}function CoreSettingsLicensesPage_ng_container_15_ion_item_1_a_14_Template(e,t){if(1&e&&(u.j41(0,"a",16),u.EFF(1),u.k0s()),2&e){const e=u.XpG().$implicit;u.Y8G("href","mailto:"+e.email,u.B4B)("autoLogin",!1)("showBrowserWarning",!1),u.R7$(),u.JRh(e.email)}}function CoreSettingsLicensesPage_ng_container_15_ion_item_1_ion_button_15_Template(e,t){if(1&e&&(u.j41(0,"ion-button",17),u.nI1(1,"translate"),u.nrm(2,"ion-icon",18),u.k0s()),2&e){const e=u.XpG().$implicit;u.Y8G("href",e.licenseUrl)("autoLogin",!1)("ariaLabel",u.bMT(1,3,"core.view"))}}function CoreSettingsLicensesPage_ng_container_15_ion_item_1_Template(e,t){if(1&e&&(u.j41(0,"ion-item",10)(1,"ion-label")(2,"p",11),u.DNE(3,CoreSettingsLicensesPage_ng_container_15_ion_item_1_a_3_Template,2,3,"a",12)(4,CoreSettingsLicensesPage_ng_container_15_ion_item_1_ng_container_4_Template,2,1,"ng-container",6),u.EFF(5),u.k0s(),u.DNE(6,CoreSettingsLicensesPage_ng_container_15_ion_item_1_p_6_Template,4,7,"p",6),u.j41(7,"p"),u.EFF(8),u.nI1(9,"translate"),u.nI1(10,"translate"),u.k0s(),u.j41(11,"p"),u.DNE(12,CoreSettingsLicensesPage_ng_container_15_ion_item_1_a_12_Template,2,3,"a",12),u.k0s(),u.j41(13,"p"),u.DNE(14,CoreSettingsLicensesPage_ng_container_15_ion_item_1_a_14_Template,2,4,"a",13),u.k0s()(),u.DNE(15,CoreSettingsLicensesPage_ng_container_15_ion_item_1_ion_button_15_Template,3,5,"ion-button",14),u.k0s()),2&e){const e=t.$implicit;u.R7$(3),u.Y8G("ngIf",e.repository),u.R7$(),u.Y8G("ngIf",!e.repository),u.R7$(),u.SpI(" - ",e.version," "),u.R7$(),u.Y8G("ngIf",e.publisher),u.R7$(2),u.E5c("",u.bMT(9,10,"core.settings.license"),"",u.bMT(10,12,"core.labelsep")," ",e.licenses,""),u.R7$(4),u.Y8G("ngIf",e.url),u.R7$(2),u.Y8G("ngIf",e.email),u.R7$(),u.Y8G("ngIf",e.licenseUrl)}}function CoreSettingsLicensesPage_ng_container_15_Template(e,t){if(1&e&&(u.qex(0),u.DNE(1,CoreSettingsLicensesPage_ng_container_15_ion_item_1_Template,16,14,"ion-item",9),u.bVm()),2&e){const e=u.XpG();u.R7$(),u.Y8G("ngForOf",e.licenses)}}let Z=(()=>{var e;class CoreSettingsLicensesPage{constructor(){this.loaded=!1,this.licenses=[],this.error=!1,this.textFilter="",this.allLicenses=[],this.appLicenseVersion=g.CoreConstants.BUILD.isDevelopment?"main":"v"+g.CoreConstants.CONFIG.versionname,this.licensesUrl="https://raw.githubusercontent.com/moodlehq/moodleapp/"+this.appLicenseVersion+"/licenses.json"}ngOnInit(){var e=this;return(0,r.A)((function*(){try{const t=yield(0,q._)(y.lw.get(e.licensesUrl));e.allLicenses=Object.keys(t).map((n=>{const i=t[n],o=n.lastIndexOf("@");if(i.name=n.substring(0,o),i.version=n.substring(o+1),Array.isArray(i.licenses)&&(i.licenses=i.licenses.join(", ")),i.repository&&(i.repository=i.repository.replace("git://","https://"),i.repository.indexOf("github.com")>0)){i.licenseUrl=i.repository+"/blob/"+("moodlemobile"==i.name?e.appLicenseVersion:i.version)+"/"+i.licenseFile}return i})),e.filterLicenses(),e.error=!1}catch{e.error=!0}e.loaded=!0}))()}filterLicenses(){const e=this.textFilter.trim().toLowerCase();if(""==e)return this.licenses=this.allLicenses,void 0;this.licenses=this.allLicenses.filter((t=>t.name.toLowerCase().indexOf(e)>=0||t.version.toLowerCase().indexOf(e)>=0||"string"==typeof t.licenses&&t.licenses.toLowerCase().indexOf(e)>=0||t.repository&&t.repository.toLowerCase().indexOf(e)>=0||t.publisher&&t.publisher.toLowerCase().indexOf(e)>=0||t.url&&t.url.toLowerCase().indexOf(e)>=0||t.email&&t.email.toLowerCase().indexOf(e)>=0))}filterChanged(e){this.textFilter=e.value||"",this.filterLicenses()}}return(e=CoreSettingsLicensesPage).ɵfac=function CoreSettingsLicensesPage_Factory(t){return new(t||e)},e.ɵcmp=u.VBU({type:e,selectors:[["page-core-app-settings-licenses"]],decls:16,vars:13,consts:[["slot","start"],[3,"text"],[1,"limited-width"],[3,"hideUntil"],[1,"ion-margin-vertical",3,"ngModelChange","ionInput","ionCancel","ngModel","placeholder"],["button","","class","ion-text-wrap","core-link","",3,"href","autoLogin","detail",4,"ngIf"],[4,"ngIf"],["button","","core-link","",1,"ion-text-wrap",3,"href","autoLogin","detail"],["target","_blank","fill","clear","slot","end","core-link","",3,"href","autoLogin"],["class","ion-text-wrap","lines","inset",4,"ngFor","ngForOf"],["lines","inset",1,"ion-text-wrap"],[1,"item-heading"],["core-link","",3,"href","autoLogin",4,"ngIf"],["core-link","",3,"href","autoLogin","showBrowserWarning",4,"ngIf"],["target","_blank","fill","clear","slot","end","core-link","",3,"href","autoLogin","ariaLabel",4,"ngIf"],["core-link","",3,"href","autoLogin"],["core-link","",3,"href","autoLogin","showBrowserWarning"],["target","_blank","fill","clear","slot","end","core-link","",3,"href","autoLogin","ariaLabel"],["slot","icon-only","name","fas-up-right-from-square","aria-hidden","true"]],template:function CoreSettingsLicensesPage_Template(e,t){1&e&&(u.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),u.nrm(3,"ion-back-button",1),u.nI1(4,"translate"),u.k0s(),u.j41(5,"ion-title")(6,"h1"),u.EFF(7),u.nI1(8,"translate"),u.k0s()()()(),u.j41(9,"ion-content",2)(10,"core-loading",3)(11,"ion-searchbar",4),u.nI1(12,"translate"),u.mxI("ngModelChange",(function CoreSettingsLicensesPage_Template_ion_searchbar_ngModelChange_11_listener(e){return u.DH7(t.textFilter,e)||(t.textFilter=e),e})),u.bIt("ionInput",(function CoreSettingsLicensesPage_Template_ion_searchbar_ionInput_11_listener(e){return t.filterChanged(e.target)}))("ionCancel",(function CoreSettingsLicensesPage_Template_ion_searchbar_ionCancel_11_listener(e){return t.filterChanged(e.target)})),u.k0s(),u.j41(13,"ion-list"),u.DNE(14,CoreSettingsLicensesPage_ion_item_14_Template,7,11,"ion-item",5)(15,CoreSettingsLicensesPage_ng_container_15_Template,2,1,"ng-container",6),u.k0s()()()),2&e&&(u.R7$(3),u.Y8G("text",u.bMT(4,7,"core.back")),u.R7$(4),u.JRh(u.bMT(8,9,"core.settings.opensourcelicenses")),u.R7$(3),u.Y8G("hideUntil",t.loaded),u.R7$(),u.R50("ngModel",t.textFilter),u.Y8G("placeholder",u.bMT(12,11,"core.filter")),u.R7$(3),u.Y8G("ngIf",t.error),u.R7$(),u.Y8G("ngIf",!t.error))},dependencies:[f.Sq,f.bT,L.R,h.t,H.j,C.i,w.T,N.BC,N.vS,S.Jm,S.QW,S.W9,S.eU,S.iq,S.uz,S.he,S.nf,S.S1,S.BC,S.ai,S.Gw,S.el,I.D9],encapsulation:2}),CoreSettingsLicensesPage})();var Q=n(67935),K=n(45507),ee=n(70318),te=n(41722),ne=n(75383),ie=n(77199),oe=n(59528);function CoreSettingsDeviceInfoPage_ion_item_15_Template(e,t){if(1&e){const e=u.RV6();u.j41(0,"ion-item",13),u.bIt("click",(function CoreSettingsDeviceInfoPage_ion_item_15_Template_ion_item_click_0_listener(){u.eBV(e);const t=u.XpG();return u.Njj(t.gotoDevOptions())})),u.nrm(1,"ion-icon",14),u.j41(2,"ion-label",8)(3,"p",9),u.EFF(4),u.nI1(5,"translate"),u.k0s()()()}2&e&&(u.Y8G("detail",!0),u.R7$(4),u.JRh(u.bMT(5,2,"core.settings.developeroptions")))}function CoreSettingsDeviceInfoPage_p_28_Template(e,t){if(1&e&&(u.j41(0,"p"),u.EFF(1),u.nI1(2,"coreFormatDate"),u.k0s()),2&e){const e=u.XpG();u.R7$(),u.JRh(u.brH(2,1,e.deviceInfo.compilationTime,"LLL Z",!1))}}function CoreSettingsDeviceInfoPage_p_29_Template(e,t){if(1&e&&(u.j41(0,"p"),u.EFF(1),u.k0s()),2&e){const e=u.XpG();u.R7$(),u.JRh(e.deviceInfo.lastCommit)}}function CoreSettingsDeviceInfoPage_ion_item_30_ng_container_5_Template(e,t){1&e&&(u.qex(0),u.EFF(1," *"),u.bVm())}function CoreSettingsDeviceInfoPage_ion_item_30_p_6_Template(e,t){if(1&e&&(u.j41(0,"p")(1,"a",15),u.EFF(2),u.k0s()()),2&e){const e=u.XpG(2);u.R7$(),u.Y8G("href",e.deviceInfo.siteUrl,u.B4B),u.R7$(),u.JRh(e.deviceInfo.siteUrl)}}function CoreSettingsDeviceInfoPage_ion_item_30_p_7_Template(e,t){if(1&e&&(u.j41(0,"p"),u.EFF(1),u.k0s()),2&e){const e=u.XpG(2);u.R7$(),u.JRh(e.deviceInfo.siteVersion)}}function CoreSettingsDeviceInfoPage_ion_item_30_p_8_Template(e,t){if(1&e&&(u.j41(0,"p"),u.EFF(1),u.k0s()),2&e){const e=u.XpG(2);u.R7$(),u.JRh(e.deviceInfo.siteId)}}function CoreSettingsDeviceInfoPage_ion_item_30_Template(e,t){if(1&e){const e=u.RV6();u.j41(0,"ion-item",7),u.bIt("longPress",(function CoreSettingsDeviceInfoPage_ion_item_30_Template_ion_item_longPress_0_listener(t){u.eBV(e);const n=u.XpG();return u.Njj(n.copyItemInfo(t))})),u.j41(1,"ion-label",8)(2,"p",9),u.EFF(3),u.nI1(4,"translate"),u.DNE(5,CoreSettingsDeviceInfoPage_ion_item_30_ng_container_5_Template,2,0,"ng-container",11),u.k0s(),u.DNE(6,CoreSettingsDeviceInfoPage_ion_item_30_p_6_Template,3,2,"p",11)(7,CoreSettingsDeviceInfoPage_ion_item_30_p_7_Template,2,1,"p",11)(8,CoreSettingsDeviceInfoPage_ion_item_30_p_8_Template,2,1,"p",11),u.k0s()()}if(2&e){const e=u.XpG();u.R7$(3),u.JRh(u.bMT(4,5,"core.settings.siteinfo")),u.R7$(2),u.Y8G("ngIf",e.deviceInfo.isPrefixedUrl),u.R7$(),u.Y8G("ngIf",e.displaySiteUrl),u.R7$(),u.Y8G("ngIf",e.deviceInfo.siteVersion),u.R7$(),u.Y8G("ngIf",e.deviceInfo.siteId)}}function CoreSettingsDeviceInfoPage_ion_item_31_a_6_Template(e,t){if(1&e&&(u.j41(0,"a",17),u.EFF(1),u.k0s()),2&e){const e=u.XpG(2);u.Y8G("href",e.deviceInfo.fileSystemRoot,u.B4B)("autoLogin",!1),u.R7$(),u.SpI(" ",e.deviceInfo.fileSystemRoot," ")}}function CoreSettingsDeviceInfoPage_ion_item_31_p_7_Template(e,t){if(1&e&&(u.j41(0,"p"),u.EFF(1),u.k0s()),2&e){const e=u.XpG(2);u.R7$(),u.JRh(e.deviceInfo.fileSystemRoot)}}function CoreSettingsDeviceInfoPage_ion_item_31_Template(e,t){if(1&e){const e=u.RV6();u.j41(0,"ion-item",7),u.bIt("longPress",(function CoreSettingsDeviceInfoPage_ion_item_31_Template_ion_item_longPress_0_listener(t){u.eBV(e);const n=u.XpG();return u.Njj(n.copyItemInfo(t))})),u.j41(1,"ion-label",8)(2,"p",9),u.EFF(3),u.nI1(4,"translate"),u.k0s(),u.j41(5,"p"),u.DNE(6,CoreSettingsDeviceInfoPage_ion_item_31_a_6_Template,2,3,"a",16),u.k0s(),u.DNE(7,CoreSettingsDeviceInfoPage_ion_item_31_p_7_Template,2,1,"p",11),u.k0s()()}if(2&e){const e=u.XpG();u.R7$(3),u.JRh(u.bMT(4,3,"core.settings.filesystemroot")),u.R7$(3),u.Y8G("ngIf",e.fsClickable),u.R7$(),u.Y8G("ngIf",!e.fsClickable)}}function CoreSettingsDeviceInfoPage_ion_item_32_Template(e,t){if(1&e){const e=u.RV6();u.j41(0,"ion-item",7),u.bIt("longPress",(function CoreSettingsDeviceInfoPage_ion_item_32_Template_ion_item_longPress_0_listener(t){u.eBV(e);const n=u.XpG();return u.Njj(n.copyItemInfo(t))})),u.j41(1,"ion-label",8)(2,"p",9),u.EFF(3),u.nI1(4,"translate"),u.k0s(),u.j41(5,"p"),u.EFF(6),u.k0s()()()}if(2&e){const e=u.XpG();u.R7$(3),u.JRh(u.bMT(4,2,"core.settings.navigatoruseragent")),u.R7$(3),u.JRh(e.deviceInfo.userAgent)}}function CoreSettingsDeviceInfoPage_ion_item_33_Template(e,t){if(1&e){const e=u.RV6();u.j41(0,"ion-item",7),u.bIt("longPress",(function CoreSettingsDeviceInfoPage_ion_item_33_Template_ion_item_longPress_0_listener(t){u.eBV(e);const n=u.XpG();return u.Njj(n.copyItemInfo(t))})),u.j41(1,"ion-label",8)(2,"p",9),u.EFF(3),u.nI1(4,"translate"),u.k0s(),u.j41(5,"p"),u.EFF(6),u.k0s()()()}if(2&e){const e=u.XpG();u.R7$(3),u.JRh(u.bMT(4,2,"core.settings.navigatorlanguage")),u.R7$(3),u.JRh(e.deviceInfo.browserLanguage)}}function CoreSettingsDeviceInfoPage_ion_item_34_Template(e,t){if(1&e){const e=u.RV6();u.j41(0,"ion-item",7),u.bIt("longPress",(function CoreSettingsDeviceInfoPage_ion_item_34_Template_ion_item_longPress_0_listener(t){u.eBV(e);const n=u.XpG();return u.Njj(n.copyItemInfo(t))})),u.j41(1,"ion-label",8)(2,"p",9),u.EFF(3),u.nI1(4,"translate"),u.k0s(),u.j41(5,"p"),u.EFF(6),u.k0s()()()}if(2&e){const e=u.XpG();u.R7$(3),u.JRh(u.bMT(4,3,"core.settings.currentlanguage")),u.R7$(3),u.Lme("",e.currentLangName," (",e.deviceInfo.currentLanguage,")")}}function CoreSettingsDeviceInfoPage_ion_item_35_Template(e,t){if(1&e){const e=u.RV6();u.j41(0,"ion-item",7),u.bIt("longPress",(function CoreSettingsDeviceInfoPage_ion_item_35_Template_ion_item_longPress_0_listener(t){u.eBV(e);const n=u.XpG();return u.Njj(n.copyItemInfo(t))})),u.j41(1,"ion-label",8)(2,"p",9),u.EFF(3),u.nI1(4,"translate"),u.k0s(),u.j41(5,"p"),u.EFF(6),u.k0s()()()}if(2&e){const e=u.XpG();u.R7$(3),u.JRh(u.bMT(4,2,"core.settings.locationhref")),u.R7$(3),u.JRh(e.deviceInfo.locationHref)}}function CoreSettingsDeviceInfoPage_ion_item_36_Template(e,t){if(1&e){const e=u.RV6();u.j41(0,"ion-item",7),u.bIt("longPress",(function CoreSettingsDeviceInfoPage_ion_item_36_Template_ion_item_longPress_0_listener(t){u.eBV(e);const n=u.XpG();return u.Njj(n.copyItemInfo(t))})),u.j41(1,"ion-label",8)(2,"p",9),u.EFF(3),u.nI1(4,"translate"),u.k0s(),u.j41(5,"p"),u.EFF(6),u.nI1(7,"translate"),u.k0s()()()}if(2&e){const e=u.XpG();u.R7$(3),u.JRh(u.bMT(4,2,"core.settings.displayformat")),u.R7$(3),u.JRh(u.bMT(7,4,"core."+e.deviceInfo.deviceType))}}function CoreSettingsDeviceInfoPage_ion_item_37_Template(e,t){if(1&e){const e=u.RV6();u.j41(0,"ion-item",7),u.bIt("longPress",(function CoreSettingsDeviceInfoPage_ion_item_37_Template_ion_item_longPress_0_listener(t){u.eBV(e);const n=u.XpG();return u.Njj(n.copyItemInfo(t))})),u.j41(1,"ion-label",8)(2,"p",9),u.EFF(3),u.nI1(4,"translate"),u.k0s(),u.j41(5,"p"),u.EFF(6),u.k0s()()()}if(2&e){const e=u.XpG();u.R7$(3),u.JRh(u.bMT(4,2,"core.settings.deviceos")),u.R7$(3),u.JRh(e.deviceOsTranslated)}}function CoreSettingsDeviceInfoPage_ion_item_38_Template(e,t){if(1&e){const e=u.RV6();u.j41(0,"ion-item",7),u.bIt("longPress",(function CoreSettingsDeviceInfoPage_ion_item_38_Template_ion_item_longPress_0_listener(t){u.eBV(e);const n=u.XpG();return u.Njj(n.copyItemInfo(t))})),u.j41(1,"ion-label",8)(2,"p",9),u.EFF(3),u.nI1(4,"translate"),u.k0s(),u.j41(5,"p"),u.EFF(6),u.k0s()()()}if(2&e){const e=u.XpG();u.R7$(3),u.JRh(u.bMT(4,2,"core.settings.screen")),u.R7$(3),u.JRh(e.deviceInfo.screen)}}function CoreSettingsDeviceInfoPage_ion_item_55_Template(e,t){if(1&e){const e=u.RV6();u.j41(0,"ion-item",7),u.bIt("longPress",(function CoreSettingsDeviceInfoPage_ion_item_55_Template_ion_item_longPress_0_listener(t){u.eBV(e);const n=u.XpG();return u.Njj(n.copyItemInfo(t))})),u.j41(1,"ion-label",8)(2,"p",9),u.EFF(3),u.nI1(4,"translate"),u.k0s(),u.j41(5,"p"),u.EFF(6),u.k0s()()()}if(2&e){const e=u.XpG();u.R7$(3),u.JRh(u.bMT(4,2,"core.settings.cordovaversion")),u.R7$(3),u.JRh(e.deviceInfo.cordovaVersion)}}function CoreSettingsDeviceInfoPage_ion_item_56_Template(e,t){if(1&e){const e=u.RV6();u.j41(0,"ion-item",7),u.bIt("longPress",(function CoreSettingsDeviceInfoPage_ion_item_56_Template_ion_item_longPress_0_listener(t){u.eBV(e);const n=u.XpG();return u.Njj(n.copyItemInfo(t))})),u.j41(1,"ion-label",8)(2,"p",9),u.EFF(3),u.nI1(4,"translate"),u.k0s(),u.j41(5,"p"),u.EFF(6),u.k0s()()()}if(2&e){const e=u.XpG();u.R7$(3),u.JRh(u.bMT(4,2,"core.settings.cordovadeviceplatform")),u.R7$(3),u.JRh(e.deviceInfo.platform)}}function CoreSettingsDeviceInfoPage_ion_item_57_Template(e,t){if(1&e){const e=u.RV6();u.j41(0,"ion-item",7),u.bIt("longPress",(function CoreSettingsDeviceInfoPage_ion_item_57_Template_ion_item_longPress_0_listener(t){u.eBV(e);const n=u.XpG();return u.Njj(n.copyItemInfo(t))})),u.j41(1,"ion-label",8)(2,"p",9),u.EFF(3),u.nI1(4,"translate"),u.k0s(),u.j41(5,"p"),u.EFF(6),u.k0s()()()}if(2&e){const e=u.XpG();u.R7$(3),u.JRh(u.bMT(4,2,"core.settings.cordovadeviceosversion")),u.R7$(3),u.JRh(e.deviceInfo.osVersion)}}function CoreSettingsDeviceInfoPage_ion_item_58_Template(e,t){if(1&e){const e=u.RV6();u.j41(0,"ion-item",7),u.bIt("longPress",(function CoreSettingsDeviceInfoPage_ion_item_58_Template_ion_item_longPress_0_listener(t){u.eBV(e);const n=u.XpG();return u.Njj(n.copyItemInfo(t))})),u.j41(1,"ion-label",8)(2,"p",9),u.EFF(3),u.nI1(4,"translate"),u.k0s(),u.j41(5,"p"),u.EFF(6),u.k0s()()()}if(2&e){const e=u.XpG();u.R7$(3),u.JRh(u.bMT(4,2,"core.settings.cordovadevicemodel")),u.R7$(3),u.JRh(e.deviceInfo.model)}}function CoreSettingsDeviceInfoPage_ion_item_59_Template(e,t){if(1&e){const e=u.RV6();u.j41(0,"ion-item",7),u.bIt("longPress",(function CoreSettingsDeviceInfoPage_ion_item_59_Template_ion_item_longPress_0_listener(t){u.eBV(e);const n=u.XpG();return u.Njj(n.copyItemInfo(t))})),u.j41(1,"ion-label",8)(2,"p",9),u.EFF(3),u.nI1(4,"translate"),u.k0s(),u.j41(5,"p"),u.EFF(6),u.k0s()()()}if(2&e){const e=u.XpG();u.R7$(3),u.JRh(u.bMT(4,2,"core.settings.cordovadeviceuuid")),u.R7$(3),u.JRh(e.deviceInfo.uuid)}}function CoreSettingsDeviceInfoPage_ion_item_60_Template(e,t){if(1&e){const e=u.RV6();u.j41(0,"ion-item",7),u.bIt("longPress",(function CoreSettingsDeviceInfoPage_ion_item_60_Template_ion_item_longPress_0_listener(t){u.eBV(e);const n=u.XpG();return u.Njj(n.copyItemInfo(t))})),u.j41(1,"ion-label",8)(2,"p",9),u.EFF(3),u.nI1(4,"translate"),u.k0s(),u.j41(5,"p"),u.EFF(6),u.k0s()()()}if(2&e){const e=u.XpG();u.R7$(3),u.JRh(u.bMT(4,2,"core.settings.pushid")),u.R7$(3),u.JRh(e.deviceInfo.pushId)}}function CoreSettingsDeviceInfoPage_ion_item_61_p_5_Template(e,t){1&e&&(u.j41(0,"p"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&e&&(u.R7$(),u.JRh(u.bMT(2,1,"core.no")))}function CoreSettingsDeviceInfoPage_ion_item_61_p_6_Template(e,t){1&e&&(u.j41(0,"p"),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&e&&(u.R7$(),u.JRh(u.bMT(2,1,"core.yes")))}function CoreSettingsDeviceInfoPage_ion_item_61_Template(e,t){if(1&e){const e=u.RV6();u.j41(0,"ion-item",7),u.bIt("longPress",(function CoreSettingsDeviceInfoPage_ion_item_61_Template_ion_item_longPress_0_listener(t){u.eBV(e);const n=u.XpG();return u.Njj(n.copyItemInfo(t))})),u.j41(1,"ion-label",8)(2,"p",9),u.EFF(3),u.nI1(4,"translate"),u.k0s(),u.DNE(5,CoreSettingsDeviceInfoPage_ion_item_61_p_5_Template,3,3,"p",11)(6,CoreSettingsDeviceInfoPage_ion_item_61_p_6_Template,3,3,"p",11),u.k0s()()}if(2&e){const e=u.XpG();u.R7$(3),u.JRh(u.bMT(4,3,"core.settings.encryptedpushsupported")),u.R7$(2),u.Y8G("ngIf",!e.deviceInfo.encryptedPushSupported),u.R7$(),u.Y8G("ngIf",e.deviceInfo.encryptedPushSupported)}}let se=(()=>{var e;class CoreSettingsDeviceInfoPage{constructor(){var e;this.fsClickable=!1,this.showDevOptions=!1,this.displaySiteUrl=!1,this.devOptionsClickCounter=0,this.devOptionsForced=!1;const t=window.navigator;if(this.deviceInfo={versionName:g.CoreConstants.CONFIG.versionname,versionCode:g.CoreConstants.CONFIG.versioncode,compilationTime:g.CoreConstants.BUILD.compilationTime||0,lastCommit:g.CoreConstants.BUILD.lastCommitHash||"",networkStatus:E.WE.isOnline()?"online":"offline",wifiConnection:E.WE.isWifi()?"yes":"no",localNotifAvailable:Q.CoreLocalNotifications.isPluginAvailable()?"yes":"no",pushId:ee.CorePushNotifications.getPushId(),deviceType:""},window.location&&window.location.href){const e=window.location.href;this.deviceInfo.locationHref=e.indexOf("#")>0?e.substring(0,e.indexOf("#")):e}if(window.screen&&(this.deviceInfo.screen=window.innerWidth+"x"+window.innerHeight+" ("+window.screen.width+"x"+window.screen.height+")"),m.CorePlatform.isMobile())if(this.deviceInfo.deviceType=m.CorePlatform.is("tablet")?"tablet":"phone",m.CorePlatform.isAndroid())this.deviceInfo.deviceOs="android",this.deviceOsTranslated="Android";else if(m.CorePlatform.isIOS())this.deviceInfo.deviceOs="ios",this.deviceOsTranslated="iOS";else{const e=t.userAgent.match(/\(([^)]*)\)/);e&&e.length>1?(this.deviceInfo.deviceOs=e[1],this.deviceOsTranslated=e[1]):(this.deviceInfo.deviceOs="unknown",this.deviceOsTranslated=y.HT.instant("core.unknown"))}else{this.deviceInfo.deviceType="browser";const e=t.userAgent.match(/\(([^)]*)\)/);e&&e.length>1?(this.deviceInfo.deviceOs=e[1],this.deviceOsTranslated=e[1]):(this.deviceInfo.deviceOs="unknown",this.deviceOsTranslated=y.HT.instant("core.unknown"))}t.userAgent&&(this.deviceInfo.userAgent=t.userAgent),t.language&&(this.deviceInfo.browserLanguage=t.language),y.pF.cordova&&(this.deviceInfo.cordovaVersion=y.pF.cordova),y.pF.platform&&(this.deviceInfo.platform=y.pF.platform),y.pF.version&&(this.deviceInfo.osVersion=y.pF.version),y.pF.model&&(this.deviceInfo.model=y.pF.model),y.pF.uuid&&(this.deviceInfo.uuid=y.pF.uuid);const n=T.CoreSites.getCurrentSite();this.deviceInfo.siteId=null==n?void 0:n.getId(),this.deviceInfo.siteVersion=null==n||null===(e=n.getInfo())||void 0===e?void 0:e.release,this.onlineObserver=E.WE.onChange().subscribe((()=>{y.SK.run((()=>{this.deviceInfo.networkStatus=E.WE.isOnline()?"online":"offline"}))})),this.asyncInit()}asyncInit(){var e=this;return(0,r.A)((function*(){const t=yield x.CoreLang.getCurrentLanguage();e.deviceInfo.currentLanguage=t,e.currentLangName=g.CoreConstants.CONFIG.languages[t];const n=T.CoreSites.getCurrentSite(),i=yield k.CoreLoginHelper.isSingleFixedSite(),o=yield k.CoreLoginHelper.getAvailableSites(),s=i&&o[0].url;if(e.deviceInfo.siteUrl=(null==n?void 0:n.getURL())||s||void 0,e.deviceInfo.isPrefixedUrl=!!o.length,e.displaySiteUrl=!!e.deviceInfo.siteUrl&&(null!=n?n:te.a.makeUnauthenticatedSite(e.deviceInfo.siteUrl)).shouldDisplayInformativeLinks(),K.CoreFile.isAvailable()){const t=yield K.CoreFile.getBasePath();e.deviceInfo.fileSystemRoot=t,e.fsClickable=K.CoreFile.usesHTMLAPI()}const a=yield F.CoreConfig.get("showDevOptions",0);e.devOptionsForced=g.CoreConstants.enableDevTools(),e.showDevOptions=e.devOptionsForced||1==a;const r=e.deviceInfo.pushId?yield A.g.ignoreErrors(ee.CorePushNotifications.getPublicKey()):void 0;e.deviceInfo.encryptedPushSupported=void 0!==r}))()}copyInfo(){ne.Ni.copyToClipboard(JSON.stringify(this.deviceInfo))}copyItemInfo(e){var t;const n=e.target,i=null==n||null===(t=n.closest("ion-item"))||void 0===t||null===(t=t.textContent)||void 0===t?void 0:t.trim();i&&ne.Ni.copyToClipboard(i)}ngOnDestroy(){this.onlineObserver&&this.onlineObserver.unsubscribe()}enableDevOptions(){var e=this;return(0,r.A)((function*(){if(!e.devOptionsForced){if(clearTimeout(e.devOptionsClickTimeout),e.devOptionsClickCounter++,5==e.devOptionsClickCounter)return e.showDevOptions?(e.showDevOptions=!1,yield F.CoreConfig.delete("showDevOptions")):(e.showDevOptions=!0,yield F.CoreConfig.set("showDevOptions",1),D.CoreToasts.show({message:"core.settings.youradev",translateMessage:!0})),e.devOptionsClickCounter=0,void 0;e.devOptionsClickTimeout=window.setTimeout((()=>{e.devOptionsClickTimeout=void 0,e.devOptionsClickCounter=0}),500)}}))()}gotoDevOptions(){j.CoreNavigator.navigate("dev")}}return(e=CoreSettingsDeviceInfoPage).ɵfac=function CoreSettingsDeviceInfoPage_Factory(t){return new(t||e)},e.ɵcmp=u.VBU({type:e,selectors:[["page-core-app-settings-deviceinfo"]],decls:70,vars:54,consts:[["slot","start"],[3,"text"],["slot","end"],["fill","clear",3,"click","ariaLabel"],["slot","icon-only","name","fas-clipboard","aria-hidden","true"],[1,"list-item-limited-width"],["button","",3,"detail","click",4,"ngIf"],[3,"longPress"],[1,"ion-text-wrap"],[1,"item-heading"],[3,"longPress","click"],[4,"ngIf"],[3,"longPress",4,"ngIf"],["button","",3,"click","detail"],["name","fas-terminal","slot","start","aria-hidden","true"],["core-link","",3,"href"],["core-link","",3,"href","autoLogin",4,"ngIf"],["core-link","",3,"href","autoLogin"]],template:function CoreSettingsDeviceInfoPage_Template(e,t){1&e&&(u.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),u.nrm(3,"ion-back-button",1),u.nI1(4,"translate"),u.k0s(),u.j41(5,"ion-title")(6,"h1"),u.EFF(7),u.nI1(8,"translate"),u.k0s()(),u.j41(9,"ion-buttons",2)(10,"ion-button",3),u.nI1(11,"translate"),u.bIt("click",(function CoreSettingsDeviceInfoPage_Template_ion_button_click_10_listener(){return t.copyInfo()})),u.nrm(12,"ion-icon",4),u.k0s()()()(),u.j41(13,"ion-content")(14,"ion-list",5),u.DNE(15,CoreSettingsDeviceInfoPage_ion_item_15_Template,6,4,"ion-item",6),u.j41(16,"ion-item",7),u.bIt("longPress",(function CoreSettingsDeviceInfoPage_Template_ion_item_longPress_16_listener(e){return t.copyItemInfo(e)})),u.j41(17,"ion-label",8)(18,"p",9),u.EFF(19),u.nI1(20,"translate"),u.k0s(),u.j41(21,"p"),u.EFF(22),u.k0s()()(),u.j41(23,"ion-item",10),u.bIt("longPress",(function CoreSettingsDeviceInfoPage_Template_ion_item_longPress_23_listener(e){return t.copyItemInfo(e)}))("click",(function CoreSettingsDeviceInfoPage_Template_ion_item_click_23_listener(){return t.enableDevOptions()})),u.j41(24,"ion-label",8)(25,"p",9),u.EFF(26),u.nI1(27,"translate"),u.k0s(),u.DNE(28,CoreSettingsDeviceInfoPage_p_28_Template,3,5,"p",11)(29,CoreSettingsDeviceInfoPage_p_29_Template,2,1,"p",11),u.k0s()(),u.DNE(30,CoreSettingsDeviceInfoPage_ion_item_30_Template,9,7,"ion-item",12)(31,CoreSettingsDeviceInfoPage_ion_item_31_Template,8,5,"ion-item",12)(32,CoreSettingsDeviceInfoPage_ion_item_32_Template,7,4,"ion-item",12)(33,CoreSettingsDeviceInfoPage_ion_item_33_Template,7,4,"ion-item",12)(34,CoreSettingsDeviceInfoPage_ion_item_34_Template,7,5,"ion-item",12)(35,CoreSettingsDeviceInfoPage_ion_item_35_Template,7,4,"ion-item",12)(36,CoreSettingsDeviceInfoPage_ion_item_36_Template,8,6,"ion-item",12)(37,CoreSettingsDeviceInfoPage_ion_item_37_Template,7,4,"ion-item",12)(38,CoreSettingsDeviceInfoPage_ion_item_38_Template,7,4,"ion-item",12),u.j41(39,"ion-item",7),u.bIt("longPress",(function CoreSettingsDeviceInfoPage_Template_ion_item_longPress_39_listener(e){return t.copyItemInfo(e)})),u.j41(40,"ion-label",8)(41,"p",9),u.EFF(42),u.nI1(43,"translate"),u.k0s(),u.j41(44,"p"),u.EFF(45),u.nI1(46,"translate"),u.k0s()()(),u.j41(47,"ion-item",7),u.bIt("longPress",(function CoreSettingsDeviceInfoPage_Template_ion_item_longPress_47_listener(e){return t.copyItemInfo(e)})),u.j41(48,"ion-label",8)(49,"p",9),u.EFF(50),u.nI1(51,"translate"),u.k0s(),u.j41(52,"p"),u.EFF(53),u.nI1(54,"translate"),u.k0s()()(),u.DNE(55,CoreSettingsDeviceInfoPage_ion_item_55_Template,7,4,"ion-item",12)(56,CoreSettingsDeviceInfoPage_ion_item_56_Template,7,4,"ion-item",12)(57,CoreSettingsDeviceInfoPage_ion_item_57_Template,7,4,"ion-item",12)(58,CoreSettingsDeviceInfoPage_ion_item_58_Template,7,4,"ion-item",12)(59,CoreSettingsDeviceInfoPage_ion_item_59_Template,7,4,"ion-item",12)(60,CoreSettingsDeviceInfoPage_ion_item_60_Template,7,4,"ion-item",12)(61,CoreSettingsDeviceInfoPage_ion_item_61_Template,7,5,"ion-item",12),u.j41(62,"ion-item",7),u.bIt("longPress",(function CoreSettingsDeviceInfoPage_Template_ion_item_longPress_62_listener(e){return t.copyItemInfo(e)})),u.j41(63,"ion-label",8)(64,"p",9),u.EFF(65),u.nI1(66,"translate"),u.k0s(),u.j41(67,"p"),u.EFF(68),u.nI1(69,"translate"),u.k0s()()()()()),2&e&&(u.R7$(3),u.Y8G("text",u.bMT(4,32,"core.back")),u.R7$(4),u.SpI(" ",u.bMT(8,34,"core.settings.deviceinfo")," "),u.R7$(3),u.Y8G("ariaLabel",u.bMT(11,36,"core.settings.copyinfo")),u.R7$(5),u.Y8G("ngIf",t.showDevOptions),u.R7$(4),u.JRh(u.bMT(20,38,"core.settings.appversion")),u.R7$(3),u.Lme("",t.deviceInfo.versionName," (",t.deviceInfo.versionCode,")"),u.R7$(4),u.JRh(u.bMT(27,40,"core.settings.compilationinfo")),u.R7$(2),u.Y8G("ngIf",t.deviceInfo.compilationTime),u.R7$(),u.Y8G("ngIf",t.deviceInfo.lastCommit),u.R7$(),u.Y8G("ngIf",t.deviceInfo.siteUrl),u.R7$(),u.Y8G("ngIf",t.deviceInfo.fileSystemRoot),u.R7$(),u.Y8G("ngIf",t.deviceInfo.userAgent),u.R7$(),u.Y8G("ngIf",t.deviceInfo.browserLanguage),u.R7$(),u.Y8G("ngIf",t.deviceInfo.currentLanguage),u.R7$(),u.Y8G("ngIf",t.deviceInfo.locationHref),u.R7$(),u.Y8G("ngIf",t.deviceInfo.deviceType),u.R7$(),u.Y8G("ngIf",t.deviceInfo.deviceOs&&t.deviceOsTranslated),u.R7$(),u.Y8G("ngIf",t.deviceInfo.screen),u.R7$(4),u.JRh(u.bMT(43,42,"core.settings.networkstatus")),u.R7$(3),u.JRh(u.bMT(46,44,"core."+t.deviceInfo.networkStatus)),u.R7$(5),u.JRh(u.bMT(51,46,"core.settings.wificonnection")),u.R7$(3),u.JRh(u.bMT(54,48,"core."+t.deviceInfo.wifiConnection)),u.R7$(2),u.Y8G("ngIf",t.deviceInfo.cordovaVersion),u.R7$(),u.Y8G("ngIf",t.deviceInfo.platform),u.R7$(),u.Y8G("ngIf",t.deviceInfo.osVersion),u.R7$(),u.Y8G("ngIf",t.deviceInfo.model),u.R7$(),u.Y8G("ngIf",t.deviceInfo.uuid),u.R7$(),u.Y8G("ngIf",t.deviceInfo.pushId),u.R7$(),u.Y8G("ngIf",t.deviceInfo.pushId),u.R7$(4),u.JRh(u.bMT(66,50,"core.settings.localnotifavailable")),u.R7$(3),u.JRh(u.bMT(69,52,"core."+t.deviceInfo.localNotifAvailable)))},dependencies:[f.bT,h.t,H.j,ie.S,C.i,w.T,S.Jm,S.QW,S.W9,S.eU,S.iq,S.uz,S.he,S.nf,S.BC,S.ai,S.el,oe.f,I.D9],styles:[".item[_ngcontent-%COMP%]{-webkit-user-select:text;user-select:text;cursor:text}"]}),CoreSettingsDeviceInfoPage})();var ae=n(84129),re=n(74037),le=n(22513),ce=n(49780),ge=n(93453);function CoreSettingsDevPage_ion_buttons_9_Template(e,t){if(1&e){const e=u.RV6();u.j41(0,"ion-buttons",14)(1,"ion-button",15),u.nI1(2,"translate"),u.bIt("click",(function CoreSettingsDevPage_ion_buttons_9_Template_ion_button_click_1_listener(){u.eBV(e);const t=u.XpG();return u.Njj(t.copyInfo())})),u.nrm(3,"ion-icon",16),u.k0s()()}2&e&&(u.R7$(),u.Y8G("ariaLabel",u.bMT(2,1,"core.settings.copyinfo")))}function CoreSettingsDevPage_ion_item_22_Template(e,t){if(1&e){const e=u.RV6();u.j41(0,"ion-item",4)(1,"ion-toggle",5),u.mxI("ngModelChange",(function CoreSettingsDevPage_ion_item_22_Template_ion_toggle_ngModelChange_1_listener(t){u.eBV(e);const n=u.XpG();return u.DH7(n.enableStagingSites,t)||(n.enableStagingSites=t),u.Njj(t)})),u.bIt("ionChange",(function CoreSettingsDevPage_ion_item_22_Template_ion_toggle_ionChange_1_listener(t){u.eBV(e);const n=u.XpG();return u.Njj(n.setEnabledStagingSites(t.detail.checked))})),u.j41(2,"p",6),u.EFF(3,"Enable staging sites "),u.j41(4,"ion-badge"),u.EFF(5),u.k0s()()()()}if(2&e){const e=u.XpG();u.R7$(),u.R50("ngModel",e.enableStagingSites),u.R7$(4),u.JRh(e.stagingSitesCount)}}function CoreSettingsDevPage_ng_container_27_Template(e,t){if(1&e){const e=u.RV6();u.qex(0),u.j41(1,"ion-item",4)(2,"ion-toggle",5),u.mxI("ngModelChange",(function CoreSettingsDevPage_ng_container_27_Template_ion_toggle_ngModelChange_2_listener(t){u.eBV(e);const n=u.XpG();return u.DH7(n.remoteStyles,t)||(n.remoteStyles=t),u.Njj(t)})),u.bIt("ionChange",(function CoreSettingsDevPage_ng_container_27_Template_ion_toggle_ionChange_2_listener(){u.eBV(e);const t=u.XpG();return u.Njj(t.remoteStylesChanged())})),u.j41(3,"p",6),u.EFF(4,"Enable remote styles "),u.j41(5,"ion-badge"),u.EFF(6),u.k0s()()()(),u.j41(7,"ion-item",4)(8,"ion-toggle",5),u.mxI("ngModelChange",(function CoreSettingsDevPage_ng_container_27_Template_ion_toggle_ngModelChange_8_listener(t){u.eBV(e);const n=u.XpG();return u.DH7(n.pluginStyles,t)||(n.pluginStyles=t),u.Njj(t)})),u.bIt("ionChange",(function CoreSettingsDevPage_ng_container_27_Template_ion_toggle_ionChange_8_listener(){u.eBV(e);const t=u.XpG();return u.Njj(t.pluginStylesChanged())})),u.j41(9,"p",6),u.EFF(10,"Enable site plugin styles "),u.j41(11,"ion-badge"),u.EFF(12),u.k0s()()()(),u.bVm()}if(2&e){const e=u.XpG();u.R7$(2),u.R50("ngModel",e.remoteStyles),u.R7$(4),u.JRh(e.remoteStylesCount),u.R7$(2),u.R50("ngModel",e.pluginStyles),u.R7$(4),u.JRh(e.pluginStylesCount)}}function CoreSettingsDevPage_ion_item_28_Template(e,t){if(1&e){const e=u.RV6();u.j41(0,"ion-item",4)(1,"ion-label")(2,"p",6),u.EFF(3,"Reset user tours"),u.k0s()(),u.j41(4,"ion-button",17),u.bIt("click",(function CoreSettingsDevPage_ion_item_28_Template_ion_button_click_4_listener(){u.eBV(e);const t=u.XpG();return u.Njj(t.resetUserTours())})),u.nrm(5,"ion-icon",18),u.k0s()()}}function CoreSettingsDevPage_ng_container_47_Conditional_11_Template(e,t){if(1&e&&(u.j41(0,"p"),u.EFF(1),u.k0s()),2&e){const e=u.XpG(2);u.R7$(),u.JRh(e.privateToken)}}function CoreSettingsDevPage_ng_container_47_Conditional_12_Template(e,t){1&e&&(u.j41(0,"p"),u.EFF(1,"---"),u.k0s())}function CoreSettingsDevPage_ng_container_47_Conditional_17_Template(e,t){if(1&e&&(u.j41(0,"p"),u.EFF(1),u.k0s()),2&e){const e=u.XpG(2);u.R7$(),u.JRh(e.filesAccessKey)}}function CoreSettingsDevPage_ng_container_47_Conditional_18_Template(e,t){1&e&&(u.j41(0,"p"),u.EFF(1,"---"),u.k0s())}function CoreSettingsDevPage_ng_container_47_Conditional_19_ion_item_0_Template(e,t){if(1&e&&(u.j41(0,"ion-item",4)(1,"ion-label")(2,"p",6),u.EFF(3,"Minimum time between auto-login requests"),u.k0s(),u.j41(4,"p"),u.EFF(5),u.nI1(6,"coreDuration"),u.k0s()()()),2&e){const e=u.XpG(3);u.R7$(5),u.JRh(u.bMT(6,1,e.autoLoginTimeBetweenRequests))}}function CoreSettingsDevPage_ng_container_47_Conditional_19_Conditional_5_Template(e,t){if(1&e&&(u.j41(0,"p"),u.EFF(1),u.nI1(2,"coreTimeAgo"),u.k0s(),u.j41(3,"ion-note",20),u.EFF(4,"This value will reset when the app is restarted."),u.k0s()),2&e){const e=u.XpG(3);u.R7$(),u.JRh(u.bMT(2,1,e.lastAutoLoginTime))}}function CoreSettingsDevPage_ng_container_47_Conditional_19_Conditional_6_Template(e,t){1&e&&(u.j41(0,"p"),u.EFF(1,"---"),u.k0s())}function CoreSettingsDevPage_ng_container_47_Conditional_19_Template(e,t){if(1&e&&(u.DNE(0,CoreSettingsDevPage_ng_container_47_Conditional_19_ion_item_0_Template,7,3,"ion-item",7),u.j41(1,"ion-item",4)(2,"ion-label")(3,"p",6),u.EFF(4,"Last auto login in this device"),u.k0s(),u.DNE(5,CoreSettingsDevPage_ng_container_47_Conditional_19_Conditional_5_Template,5,3)(6,CoreSettingsDevPage_ng_container_47_Conditional_19_Conditional_6_Template,2,0),u.k0s()()),2&e){const e=u.XpG(2);u.Y8G("ngIf",e.autoLoginTimeBetweenRequests),u.R7$(5),u.vxM(5,e.lastAutoLoginTime&&e.lastAutoLoginTime>0?5:6)}}function CoreSettingsDevPage_ng_container_47_ion_item_24_Template(e,t){1&e&&(u.j41(0,"ion-item")(1,"ion-label"),u.EFF(2,"There are no features disabled"),u.k0s()())}function CoreSettingsDevPage_ng_container_47_ion_item_25_Template(e,t){if(1&e&&(u.j41(0,"ion-item",4)(1,"ion-label")(2,"p",6),u.EFF(3),u.k0s()()()),2&e){const e=t.$implicit;u.R7$(3),u.JRh(e)}}function CoreSettingsDevPage_ng_container_47_ion_item_30_Template(e,t){1&e&&(u.j41(0,"ion-item")(1,"ion-label"),u.EFF(2,"There are no site plugins installed"),u.k0s()())}function CoreSettingsDevPage_ng_container_47_ion_item_31_Template(e,t){if(1&e&&(u.j41(0,"ion-item",4)(1,"ion-label")(2,"p",6),u.EFF(3),u.k0s(),u.j41(4,"p"),u.EFF(5),u.k0s()()()),2&e){const e=t.$implicit;u.R7$(3),u.Lme("",e.addon," (",e.component,")"),u.R7$(2),u.JRh(e.version)}}function CoreSettingsDevPage_ng_container_47_Template(e,t){if(1&e&&(u.qex(0),u.j41(1,"ion-item",4)(2,"ion-label")(3,"p",6),u.EFF(4,"WebService token"),u.k0s(),u.j41(5,"p"),u.EFF(6),u.k0s()()(),u.j41(7,"ion-item",4)(8,"ion-label")(9,"p",6),u.EFF(10,"Private token"),u.k0s(),u.DNE(11,CoreSettingsDevPage_ng_container_47_Conditional_11_Template,2,1,"p")(12,CoreSettingsDevPage_ng_container_47_Conditional_12_Template,2,0),u.k0s()(),u.j41(13,"ion-item",4)(14,"ion-label")(15,"p",6),u.EFF(16,"Files access key"),u.k0s(),u.DNE(17,CoreSettingsDevPage_ng_container_47_Conditional_17_Template,2,1,"p")(18,CoreSettingsDevPage_ng_container_47_Conditional_18_Template,2,0),u.k0s()(),u.DNE(19,CoreSettingsDevPage_ng_container_47_Conditional_19_Template,7,2),u.j41(20,"ion-item-divider")(21,"ion-label")(22,"h2"),u.EFF(23,"Disabled features"),u.k0s()()(),u.DNE(24,CoreSettingsDevPage_ng_container_47_ion_item_24_Template,3,0,"ion-item",8)(25,CoreSettingsDevPage_ng_container_47_ion_item_25_Template,4,1,"ion-item",19),u.j41(26,"ion-item-divider")(27,"ion-label")(28,"h2"),u.EFF(29,"Site plugins"),u.k0s()()(),u.DNE(30,CoreSettingsDevPage_ng_container_47_ion_item_30_Template,3,0,"ion-item",8)(31,CoreSettingsDevPage_ng_container_47_ion_item_31_Template,6,3,"ion-item",19),u.bVm()),2&e){const e=u.XpG();u.R7$(6),u.JRh(e.token),u.R7$(5),u.vxM(11,e.privateToken?11:12),u.R7$(6),u.vxM(17,e.filesAccessKey?17:18),u.R7$(2),u.vxM(19,e.privateToken?19:-1),u.R7$(5),u.Y8G("ngIf",0===e.disabledFeatures.length),u.R7$(),u.Y8G("ngForOf",e.disabledFeatures),u.R7$(5),u.Y8G("ngIf",0===e.sitePlugins.length),u.R7$(),u.Y8G("ngForOf",e.sitePlugins)}}let _e=(()=>{var e;class CoreSettingsDevPage{constructor(){this.rtl=!1,this.forceSafeAreaMargins=!1,this.direction="ltr",this.alwaysShowLoginForm=!1,this.remoteStyles=!0,this.remoteStylesCount=0,this.pluginStyles=!0,this.pluginStylesCount=0,this.sitePlugins=[],this.userToursEnabled=!0,this.stagingSitesCount=0,this.disabledFeatures=[]}ngOnInit(){var e=this;return(0,r.A)((function*(){var t,i;e.rtl=m.CorePlatform.isRTL,e.RTLChanged(),e.forceSafeAreaMargins=document.documentElement.classList.contains("force-safe-area-margins"),e.safeAreaChanged();const o=T.CoreSites.getCurrentSite();if(e.siteId=null==o?void 0:o.getId(),e.stagingSitesCount=g.CoreConstants.CONFIG.sites.filter((e=>e.staging)).length,e.stagingSitesCount&&(e.enableStagingSites=yield P.CoreSettingsHelper.hasEnabledStagingSites(),e.previousEnableStagingSites=e.enableStagingSites),e.alwaysShowLoginForm=Boolean(yield F.CoreConfig.get(ae.Vu,0)),!o)return;e.remoteStyles=!1,e.remoteStylesCount=0,e.pluginStyles=!1,e.pluginStylesCount=0,e.userToursEnabled=!re.E.isDisabled();const s=o.getPrivateToken(),a=o.getFilesAccessKey();e.token="..."+o.getToken().slice(-3),e.privateToken=s&&"..."+s.slice(-3),e.filesAccessKey=a&&"..."+a.slice(-3),e.autoLoginTimeBetweenRequests=yield o.getAutoLoginMinTimeBetweenRequests(),e.lastAutoLoginTime=o.getLastAutoLoginTime(),document.head.querySelectorAll("style").forEach((t=>{e.siteId&&t.id.endsWith(e.siteId)&&(t.innerHTML.length>0&&e.remoteStylesCount++,e.remoteStyles=e.remoteStyles||"disabled"!=t.getAttribute("media")),t.id.startsWith("siteplugin-")&&(t.innerHTML.length>0&&e.pluginStylesCount++,e.pluginStyles=e.pluginStyles||"disabled"!=t.getAttribute("media"))}));const{CoreSitePlugins:r}=yield Promise.resolve().then(n.bind(n,32832));e.sitePlugins=r.getCurrentSitePluginList().map((e=>({addon:e.addon,component:e.component,version:e.version})));const l=null===(t=yield o.getPublicConfig())||void 0===t?void 0:t.tool_mobile_disabledfeatures;e.disabledFeatures=null!==(i=null==l?void 0:l.split(",").filter((e=>e.trim().length>0)))&&void 0!==i?i:[]}))()}RTLChanged(){this.direction=this.rtl?"rtl":"ltr",document.dir=this.direction}safeAreaChanged(){document.documentElement.classList.toggle("force-safe-area-margins",this.forceSafeAreaMargins)}alwaysShowLoginFormChanged(){var e=this;return(0,r.A)((function*(){const t=Number(e.alwaysShowLoginForm);yield F.CoreConfig.set(ae.Vu,t),v.z.trigger(ae.g,{value:t})}))()}remoteStylesChanged(){document.head.querySelectorAll("style").forEach((e=>{this.siteId&&e.id.endsWith(this.siteId)&&(this.remoteStyles?e.removeAttribute("media"):e.setAttribute("media","disabled"))}))}pluginStylesChanged(){document.head.querySelectorAll("style").forEach((e=>{e.id.startsWith("siteplugin-")&&(this.pluginStyles?e.removeAttribute("media"):e.setAttribute("media","disabled"))}))}openErrorLog(){j.CoreNavigator.navigate("error-log")}copyInfo(){ne.Ni.copyToClipboard(JSON.stringify({disabledFeatures:this.disabledFeatures,sitePlugins:this.sitePlugins,autoLoginTimeBetweenRequests:this.autoLoginTimeBetweenRequests,lastAutoLoginTime:this.lastAutoLoginTime}))}resetUserTours(){return(0,r.A)((function*(){yield re.E.resetTours(),yield F.CoreConfig.delete(ae.n5),yield F.CoreConfig.delete(ae.wd),D.CoreToasts.show({message:"User tours have been reseted"})}))()}invalidateCaches(){return(0,r.A)((function*(){(yield R.CoreDomUtils.showOperationModals("Invalidating caches",!1,(0,r.A)((function*(){return yield le.Z.invalidate(),!0}))))&&(yield D.CoreToasts.show({message:"Caches invalidated",duration:D.ToastDuration.LONG}))}))()}clearFileStorage(){return(0,r.A)((function*(){const e=yield T.CoreSites.getSitesIds();yield K.CoreFile.clearDeletedSitesFolder(e),yield K.CoreFile.clearTmpFolder(),D.CoreToasts.show({message:"File storage cleared"})}))()}setEnabledStagingSites(e){var t=this;return(0,r.A)((function*(){if(t.enableStagingSites!==t.previousEnableStagingSites)try{yield P.CoreSettingsHelper.setEnabledStagingSites(e),t.previousEnableStagingSites=e}catch(n){t.enableStagingSites=!e,R.CoreDomUtils.showErrorModal(n)}}))()}}return(e=CoreSettingsDevPage).ɵfac=function CoreSettingsDevPage_Factory(t){return new(t||e)},e.ɵcmp=u.VBU({type:e,selectors:[["page-core-app-settings-dev"]],decls:48,vars:16,consts:[["slot","start"],[3,"text"],["slot","end",4,"ngIf"],[1,"list-item-limited-width"],[1,"ion-text-wrap"],[3,"ngModelChange","ionChange","ngModel"],[1,"item-heading"],["class","ion-text-wrap",4,"ngIf"],[4,"ngIf"],["aria-label","Invalidate caches","fill","clear","slot","end",3,"click"],["slot","icon-only","aria-hidden","true","name","fas-rotate-right"],["button","",1,"ion-text-wrap",3,"click","detail"],["aria-label","Clear File Storage","fill","clear","slot","end",3,"click"],["slot","icon-only","aria-hidden","true","name","fas-broom"],["slot","end"],["fill","clear",3,"click","ariaLabel"],["slot","icon-only","name","fas-clipboard","aria-hidden","true"],["aria-label","Reset user tours","fill","clear","slot","end",3,"click"],["slot","icon-only","aria-hidden","true","name","fas-repeat"],["class","ion-text-wrap",4,"ngFor","ngForOf"],[1,"core-text-sm"]],template:function CoreSettingsDevPage_Template(e,t){1&e&&(u.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),u.nrm(3,"ion-back-button",1),u.nI1(4,"translate"),u.k0s(),u.j41(5,"ion-title")(6,"h1"),u.EFF(7),u.nI1(8,"translate"),u.k0s()(),u.DNE(9,CoreSettingsDevPage_ion_buttons_9_Template,4,3,"ion-buttons",2),u.k0s()(),u.j41(10,"ion-content")(11,"ion-list",3)(12,"ion-item",4)(13,"ion-toggle",5),u.mxI("ngModelChange",(function CoreSettingsDevPage_Template_ion_toggle_ngModelChange_13_listener(e){return u.DH7(t.rtl,e)||(t.rtl=e),e})),u.bIt("ionChange",(function CoreSettingsDevPage_Template_ion_toggle_ionChange_13_listener(){return t.RTLChanged()})),u.j41(14,"p",6),u.EFF(15,"Change text direction"),u.k0s(),u.j41(16,"p"),u.EFF(17),u.k0s()()(),u.j41(18,"ion-item",4)(19,"ion-toggle",5),u.mxI("ngModelChange",(function CoreSettingsDevPage_Template_ion_toggle_ngModelChange_19_listener(e){return u.DH7(t.forceSafeAreaMargins,e)||(t.forceSafeAreaMargins=e),e})),u.bIt("ionChange",(function CoreSettingsDevPage_Template_ion_toggle_ionChange_19_listener(){return t.safeAreaChanged()})),u.j41(20,"p",6),u.EFF(21,"Force safe area margins"),u.k0s()()(),u.DNE(22,CoreSettingsDevPage_ion_item_22_Template,6,2,"ion-item",7),u.j41(23,"ion-item",4)(24,"ion-toggle",5),u.mxI("ngModelChange",(function CoreSettingsDevPage_Template_ion_toggle_ngModelChange_24_listener(e){return u.DH7(t.alwaysShowLoginForm,e)||(t.alwaysShowLoginForm=e),e})),u.bIt("ionChange",(function CoreSettingsDevPage_Template_ion_toggle_ionChange_24_listener(){return t.alwaysShowLoginFormChanged()})),u.j41(25,"p",6),u.EFF(26,"Always show login form"),u.k0s()()(),u.DNE(27,CoreSettingsDevPage_ng_container_27_Template,13,4,"ng-container",8)(28,CoreSettingsDevPage_ion_item_28_Template,6,0,"ion-item",7),u.j41(29,"ion-item",4)(30,"ion-label")(31,"p",6),u.EFF(32,"Invalidate caches"),u.k0s()(),u.j41(33,"ion-button",9),u.bIt("click",(function CoreSettingsDevPage_Template_ion_button_click_33_listener(){return t.invalidateCaches()})),u.nrm(34,"ion-icon",10),u.k0s()(),u.j41(35,"ion-item",11),u.bIt("click",(function CoreSettingsDevPage_Template_ion_item_click_35_listener(){return t.openErrorLog()})),u.j41(36,"ion-label")(37,"p",6),u.EFF(38,"Error log"),u.k0s()()(),u.j41(39,"ion-item",4)(40,"ion-label")(41,"p",6),u.EFF(42,"Clean file storage"),u.k0s(),u.j41(43,"p"),u.EFF(44,"Clear deleted sites from file storage and temp folder"),u.k0s()(),u.j41(45,"ion-button",12),u.bIt("click",(function CoreSettingsDevPage_Template_ion_button_click_45_listener(){return t.clearFileStorage()})),u.nrm(46,"ion-icon",13),u.k0s()(),u.DNE(47,CoreSettingsDevPage_ng_container_47_Template,32,8,"ng-container",8),u.k0s()()),2&e&&(u.R7$(3),u.Y8G("text",u.bMT(4,12,"core.back")),u.R7$(4),u.JRh(u.bMT(8,14,"core.settings.developeroptions")),u.R7$(2),u.Y8G("ngIf",t.siteId),u.R7$(4),u.R50("ngModel",t.rtl),u.R7$(4),u.JRh(t.direction),u.R7$(2),u.R50("ngModel",t.forceSafeAreaMargins),u.R7$(3),u.Y8G("ngIf",t.stagingSitesCount&&void 0!==t.enableStagingSites),u.R7$(2),u.R50("ngModel",t.alwaysShowLoginForm),u.R7$(3),u.Y8G("ngIf",t.siteId),u.R7$(),u.Y8G("ngIf",t.userToursEnabled),u.R7$(7),u.Y8G("detail",!0),u.R7$(12),u.Y8G("ngIf",t.siteId))},dependencies:[f.Sq,f.bT,h.t,C.i,w.T,N.BC,N.vS,S.In,S.Jm,S.QW,S.W9,S.eU,S.iq,S.uz,S.Dg,S.he,S.nf,S.JI,S.BC,S.BY,S.ai,S.hB,S.el,ce.S,ge.A,I.D9],encapsulation:2}),CoreSettingsDevPage})();var pe=n(1453),me=n(16986),de=n(35407);function CoreSettingsErrorLogPage_ion_buttons_8_Template(e,t){if(1&e){const e=u.RV6();u.j41(0,"ion-buttons",5)(1,"ion-button",6),u.nI1(2,"translate"),u.bIt("click",(function CoreSettingsErrorLogPage_ion_buttons_8_Template_ion_button_click_1_listener(){u.eBV(e);const t=u.XpG();return u.Njj(t.copyError())})),u.nrm(3,"ion-icon",7),u.k0s()()}2&e&&(u.R7$(),u.Y8G("ariaLabel",u.bMT(2,1,"core.settings.copyinfo")))}function CoreSettingsErrorLogPage_ion_list_10_ion_item_1_ng_container_6_Template(e,t){if(1&e&&(u.qex(0),u.j41(1,"p",11),u.EFF(2,"Method"),u.k0s(),u.j41(3,"p",12),u.EFF(4),u.k0s(),u.bVm()),2&e){const e=u.XpG().$implicit;u.R7$(4),u.JRh(e.method)}}function CoreSettingsErrorLogPage_ion_list_10_ion_item_1_ng_container_7_Template(e,t){if(1&e&&(u.qex(0),u.j41(1,"p",11),u.EFF(2,"Type"),u.k0s(),u.j41(3,"p",12),u.EFF(4),u.k0s(),u.bVm()),2&e){const e=u.XpG().$implicit;u.R7$(4),u.JRh(e.type)}}function CoreSettingsErrorLogPage_ion_list_10_ion_item_1_ng_container_8_Template(e,t){if(1&e&&(u.qex(0),u.j41(1,"p",11),u.EFF(2,"Data"),u.k0s(),u.j41(3,"p",12),u.EFF(4),u.nI1(5,"json"),u.k0s(),u.bVm()),2&e){const e=u.XpG().$implicit;u.R7$(4),u.JRh(u.bMT(5,1,e.data))}}function CoreSettingsErrorLogPage_ion_list_10_ion_item_1_p_9_Template(e,t){if(1&e&&(u.j41(0,"p",15),u.EFF(1),u.nI1(2,"coreFormatDate"),u.k0s()),2&e){const e=u.XpG().$implicit;u.R7$(),u.SpI(" ",u.i5U(2,1,e.time,"strftimedatetimeshort")," ")}}function CoreSettingsErrorLogPage_ion_list_10_ion_item_1_Template(e,t){if(1&e){const e=u.RV6();u.j41(0,"ion-item",9),u.bIt("click",(function CoreSettingsErrorLogPage_ion_list_10_ion_item_1_Template_ion_item_click_0_listener(){const t=u.eBV(e).$implicit,n=u.XpG(2);return u.Njj(n.copyError(t))})),u.j41(1,"ion-label",10)(2,"p",11),u.EFF(3,"Trace"),u.k0s(),u.j41(4,"p",12),u.EFF(5),u.k0s(),u.DNE(6,CoreSettingsErrorLogPage_ion_list_10_ion_item_1_ng_container_6_Template,5,1,"ng-container",13)(7,CoreSettingsErrorLogPage_ion_list_10_ion_item_1_ng_container_7_Template,5,1,"ng-container",13)(8,CoreSettingsErrorLogPage_ion_list_10_ion_item_1_ng_container_8_Template,6,3,"ng-container",13)(9,CoreSettingsErrorLogPage_ion_list_10_ion_item_1_p_9_Template,3,4,"p",14),u.k0s()()}if(2&e){const e=t.$implicit;u.R7$(),u.Y8G("collapsible-item",96),u.R7$(4),u.JRh(e.message),u.R7$(),u.Y8G("ngIf",e.method),u.R7$(),u.Y8G("ngIf",e.type),u.R7$(),u.Y8G("ngIf",e.data),u.R7$(),u.Y8G("ngIf",e.time)}}function CoreSettingsErrorLogPage_ion_list_10_Template(e,t){if(1&e&&(u.j41(0,"ion-list"),u.DNE(1,CoreSettingsErrorLogPage_ion_list_10_ion_item_1_Template,10,6,"ion-item",8),u.k0s()),2&e){const e=u.XpG();u.R7$(),u.Y8G("ngForOf",e.errorLogs)}}function CoreSettingsErrorLogPage_ng_template_11_Template(e,t){1&e&&u.nrm(0,"core-empty-box",16)}let ue=(()=>{var e;class CoreSettingsErrorLogPage{constructor(){this.errorLogs=[]}ngOnInit(){this.errorLogs=pe.F.getErrorLogs()}copyError(e){var t=this;return(0,r.A)((function*(){e?yield ne.Ni.copyToClipboard(JSON.stringify(e)):yield ne.Ni.copyToClipboard(JSON.stringify({errors:t.errorLogs}))}))()}}return(e=CoreSettingsErrorLogPage).ɵfac=function CoreSettingsErrorLogPage_Factory(t){return new(t||e)},e.ɵcmp=u.VBU({type:e,selectors:[["page-core-app-settings-error-log"]],decls:13,vars:6,consts:[["noLogs",""],["slot","start"],[3,"text"],["slot","end",4,"ngIf"],[4,"ngIf","ngIfElse"],["slot","end"],["fill","clear",3,"click","ariaLabel"],["slot","icon-only","name","fas-clipboard","aria-hidden","true"],["button","","lines","full","class","ion-text-wrap",3,"click",4,"ngFor","ngForOf"],["button","","lines","full",1,"ion-text-wrap",3,"click"],[1,"ion-padding",3,"collapsible-item"],[1,"item-heading"],[1,"ion-text-wrap"],[4,"ngIf"],["class","ion-text-end",4,"ngIf"],[1,"ion-text-end"],["message","No logs available","icon","fas-clipboard-question"]],template:function CoreSettingsErrorLogPage_Template(e,t){if(1&e&&(u.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",1),u.nrm(3,"ion-back-button",2),u.nI1(4,"translate"),u.k0s(),u.j41(5,"ion-title")(6,"h1"),u.EFF(7,"Error log"),u.k0s()(),u.DNE(8,CoreSettingsErrorLogPage_ion_buttons_8_Template,4,3,"ion-buttons",3),u.k0s()(),u.j41(9,"ion-content"),u.DNE(10,CoreSettingsErrorLogPage_ion_list_10_Template,2,1,"ion-list",4)(11,CoreSettingsErrorLogPage_ng_template_11_Template,1,0,"ng-template",null,0,u.C5r),u.k0s()),2&e){const e=u.sdS(12);u.R7$(3),u.Y8G("text",u.bMT(4,4,"core.back")),u.R7$(5),u.Y8G("ngIf",t.errorLogs.length),u.R7$(2),u.Y8G("ngIf",t.errorLogs.length)("ngIfElse",e)}},dependencies:[f.Sq,f.bT,me.h,h.t,de.K,C.i,w.T,S.Jm,S.QW,S.W9,S.eU,S.iq,S.uz,S.he,S.nf,S.BC,S.ai,S.el,f.TG,oe.f,I.D9],encapsulation:2}),CoreSettingsErrorLogPage})();const fe=[{path:"general",component:U},{path:"spaceusage",component:z},{path:"sync",component:O},{path:p.p,loadChildren:()=>n.e(5915).then(n.bind(n,25915))},{path:"about",component:W}],he=[{path:"",component:b},...fe],Ce=[{path:"",component:b,children:[{path:"",pathMatch:"full",redirectTo:"general"},...fe]}],Se=[...(0,o.VI)(he,(()=>a.CoreScreen.isMobile)),...(0,o.VI)(Ce,(()=>a.CoreScreen.isTablet)),{path:"about/deviceinfo",component:se},{path:"about/deviceinfo/dev",component:_e},{path:"about/deviceinfo/dev/error-log",component:ue},{path:"about/licenses",component:Z}];let Ie=(()=>{var e;class CoreSettingsLazyModule{}return(e=CoreSettingsLazyModule).ɵfac=function CoreSettingsLazyModule_Factory(t){return new(t||e)},e.ɵmod=u.$C({type:e}),e.ɵinj=u.G2t({imports:[i.iI.forChild(Se),s.n]}),CoreSettingsLazyModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&u.Obh(Ie,{declarations:[b,O,U,z,W,Z,se,_e,ue],imports:[i.iI,s.n]}))}}]);