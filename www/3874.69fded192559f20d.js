"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3874],{93874:(e,o,t)=>{t.r(o),t.d(o,{default:()=>I});var r=t(3353),n=t(21182),i=t(52749),l=t(82461),s=t(79555),a=t(15324),c=t(49882),p=t(60378),u=t(86552),f=t(54438),g=t(60177),_=t(86198),d=t(88246),m=t(43570),b=t(73465),C=t(73955);function CoreUserCompleteProfilePage_h1_6_Template(e,o){1&e&&(f.j41(0,"h1"),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&e&&(f.R7$(),f.JRh(f.bMT(2,1,"core.user.completeyourprofile")))}function CoreUserCompleteProfilePage_h1_7_Template(e,o){1&e&&(f.j41(0,"h1"),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&e&&(f.R7$(),f.JRh(f.bMT(2,1,"core.login.reconnecttosite")))}function CoreUserCompleteProfilePage_ng_container_14_Template(e,o){if(1&e){const e=f.RV6();f.qex(0),f.j41(1,"ion-item",7)(2,"ion-label")(3,"p"),f.EFF(4),f.nI1(5,"translate"),f.k0s()()(),f.j41(6,"ion-button",9),f.bIt("click",(function CoreUserCompleteProfilePage_ng_container_14_Template_ion_button_click_6_listener(){f.eBV(e);const o=f.XpG();return f.Njj(o.openCompleteProfilePage())})),f.EFF(7),f.nI1(8,"translate"),f.k0s(),f.bVm()}2&e&&(f.R7$(4),f.JRh(f.bMT(5,2,"core.user.completeprofilenotice")),f.R7$(3),f.SpI(" ",f.bMT(8,4,"core.user.completeprofile")," "))}function CoreUserCompleteProfilePage_ng_container_15_Template(e,o){if(1&e){const e=f.RV6();f.qex(0),f.j41(1,"ion-item",7)(2,"ion-label")(3,"p"),f.EFF(4),f.nI1(5,"translate"),f.k0s()()(),f.j41(6,"ion-button",9),f.bIt("click",(function CoreUserCompleteProfilePage_ng_container_15_Template_ion_button_click_6_listener(){f.eBV(e);const o=f.XpG();return f.Njj(o.login())})),f.EFF(7),f.nI1(8,"translate"),f.k0s(),f.bVm()}2&e&&(f.R7$(4),f.JRh(f.bMT(5,2,"core.user.completeprofilereconnectinstructions")),f.R7$(3),f.SpI(" ",f.bMT(8,4,"core.login.reconnect")," "))}let h=(()=>{var e;class CoreUserCompleteProfilePage{constructor(){this.editingProfile=!1,this.logoutLabel=l.CoreLoginHelper.getLogoutLabel()}showHelp(){p.I.showHelp(s.HT.instant("core.user.completeprofilehelp"),s.HT.instant("core.user.completeprofilesupportsubject"))}openCompleteProfilePage(){l.CoreLoginHelper.openInAppForEdit(i.CoreSites.getCurrentSiteId(),"/user/edit.php",void 0,!0),this.editingProfile=!0,this.detectProileEdited()}login(){a.CoreNavigator.navigateToSiteHome(),this.editingProfile=!1}logout(){i.CoreSites.logout(),this.editingProfile=!1}detectProileEdited(){this.urlLoadedObserver||(this.urlLoadedObserver=c.z.on(c.z.IAB_LOAD_START,(e=>{e.url.match(/\/user\/preferences.php/)&&(u.j.closeInAppBrowser(),this.login())})),this.browserClosedObserver=c.z.on(c.z.IAB_EXIT,(()=>{var e,o;null===(e=this.urlLoadedObserver)||void 0===e||e.off(),null===(o=this.browserClosedObserver)||void 0===o||o.off(),delete this.urlLoadedObserver,delete this.browserClosedObserver})))}ngOnDestroy(){var e,o;null===(e=this.urlLoadedObserver)||void 0===e||e.off(),null===(o=this.browserClosedObserver)||void 0===o||o.off()}}return(e=CoreUserCompleteProfilePage).ɵfac=function CoreUserCompleteProfilePage_Factory(o){return new(o||e)},e.ɵcmp=f.VBU({type:e,selectors:[["page-core-user-complete-profile"]],decls:24,vars:16,consts:[["slot","start"],[3,"text"],[4,"ngIf"],["slot","end"],["fill","clear",3,"click","ariaLabel"],["slot","icon-only","name","far-circle-question","aria-hidden","true"],[1,"list-item-limited-width"],[1,"ion-text-wrap"],["expand","block","fill","outline",1,"ion-text-wrap","ion-margin",3,"click"],["expand","block",1,"ion-text-wrap","ion-margin",3,"click"]],template:function CoreUserCompleteProfilePage_Template(e,o){1&e&&(f.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),f.nrm(3,"ion-back-button",1),f.nI1(4,"translate"),f.k0s(),f.j41(5,"ion-title"),f.DNE(6,CoreUserCompleteProfilePage_h1_6_Template,3,3,"h1",2)(7,CoreUserCompleteProfilePage_h1_7_Template,3,3,"h1",2),f.k0s(),f.j41(8,"ion-buttons",3)(9,"ion-button",4),f.nI1(10,"translate"),f.bIt("click",(function CoreUserCompleteProfilePage_Template_ion_button_click_9_listener(){return o.showHelp()})),f.nrm(11,"ion-icon",5),f.k0s()()()(),f.j41(12,"ion-content")(13,"ion-list",6),f.DNE(14,CoreUserCompleteProfilePage_ng_container_14_Template,9,6,"ng-container",2)(15,CoreUserCompleteProfilePage_ng_container_15_Template,9,6,"ng-container",2),f.j41(16,"ion-item",7)(17,"ion-label")(18,"p"),f.EFF(19),f.nI1(20,"translate"),f.k0s()()(),f.j41(21,"ion-button",8),f.bIt("click",(function CoreUserCompleteProfilePage_Template_ion_button_click_21_listener(){return o.logout()})),f.EFF(22),f.nI1(23,"translate"),f.k0s()()()),2&e&&(f.R7$(3),f.Y8G("text",f.bMT(4,8,"core.back")),f.R7$(3),f.Y8G("ngIf",!o.editingProfile),f.R7$(),f.Y8G("ngIf",o.editingProfile),f.R7$(2),f.Y8G("ariaLabel",f.bMT(10,10,"core.help")),f.R7$(5),f.Y8G("ngIf",!o.editingProfile),f.R7$(),f.Y8G("ngIf",o.editingProfile),f.R7$(4),f.JRh(f.bMT(20,12,"core.wanttochangesite")),f.R7$(3),f.SpI(" ",f.bMT(23,14,o.logoutLabel)," "))},dependencies:[g.bT,_.t,d.i,m.T,b.Jm,b.QW,b.W9,b.eU,b.iq,b.uz,b.he,b.nf,b.BC,b.ai,b.el,C.D9],encapsulation:2}),CoreUserCompleteProfilePage})();const P=[{path:"completeprofile",component:h}];let I=(()=>{var e;class CoreUserAppLazyModule{}return(e=CoreUserAppLazyModule).ɵfac=function CoreUserAppLazyModule_Factory(o){return new(o||e)},e.ɵmod=f.$C({type:e}),e.ɵinj=f.G2t({imports:[n.iI.forChild(P),r.n]}),CoreUserAppLazyModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&f.Obh(I,{declarations:[h],imports:[n.iI,r.n]}))}}]);