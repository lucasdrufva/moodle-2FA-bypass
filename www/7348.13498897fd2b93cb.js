"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7348],{37348:(e,n,i)=>{i.r(n),i.d(n,{default:()=>v});var t=i(54438),o=i(21182),a=i(3353),r=i(42858),s=i(47720),l=i(10467),c=i(52749),u=i(68831),_=i(95376),m=i(42366),M=i(49882),d=i(15324),p=i(79555),g=i(82907),b=i(69534),f=i(60177),h=i(86198),C=i(23007),I=i(88246),R=i(73465),T=i(19547),k=i(73955);const _c0=e=>["core-moremenu-handler",e],_c1=e=>({$a:e});function CoreMainMenuMorePage_ion_item_13_Template(e,n){1&e&&(t.j41(0,"ion-item",10)(1,"ion-label"),t.nrm(2,"ion-spinner"),t.nI1(3,"translate"),t.k0s()()),2&e&&(t.R7$(2),t.BMQ("aria-label",t.bMT(3,1,"core.loading")))}function CoreMainMenuMorePage_ion_item_14_ion_badge_7_Template(e,n){if(1&e&&(t.j41(0,"ion-badge",16),t.EFF(1),t.k0s()),2&e){const e=t.XpG().$implicit;t.Y8G("hidden",e.loading||!e.badge),t.R7$(),t.SpI(" ",e.badge," ")}}function CoreMainMenuMorePage_ion_item_14_span_8_Template(e,n){if(1&e&&(t.j41(0,"span",17),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,e.badgeA11yText,t.eq3(4,_c1,e.badge))," ")}}function CoreMainMenuMorePage_ion_item_14_ion_spinner_9_Template(e,n){1&e&&(t.nrm(0,"ion-spinner",2),t.nI1(1,"translate")),2&e&&t.BMQ("aria-label",t.bMT(1,1,"core.loading"))}function CoreMainMenuMorePage_ion_item_14_Template(e,n){if(1&e){const e=t.RV6();t.j41(0,"ion-item",11),t.nI1(1,"translate"),t.bIt("click",(function CoreMainMenuMorePage_ion_item_14_Template_ion_item_click_0_listener(){const n=t.eBV(e).$implicit,i=t.XpG();return t.Njj(i.openHandler(n))})),t.nrm(2,"ion-icon",12),t.j41(3,"ion-label")(4,"p",9),t.EFF(5),t.nI1(6,"translate"),t.k0s()(),t.DNE(7,CoreMainMenuMorePage_ion_item_14_ion_badge_7_Template,2,2,"ion-badge",13)(8,CoreMainMenuMorePage_ion_item_14_span_8_Template,3,6,"span",14)(9,CoreMainMenuMorePage_ion_item_14_ion_spinner_9_Template,2,3,"ion-spinner",15),t.k0s()}if(2&e){const e=n.$implicit;t.Y8G("ngClass",t.eq3(12,_c0,e.class||""))("detail",!0),t.BMQ("aria-label",t.bMT(1,8,e.title)),t.R7$(2),t.Y8G("name",e.icon),t.R7$(3),t.JRh(t.bMT(6,10,e.title)),t.R7$(2),t.Y8G("ngIf",e.showBadge),t.R7$(),t.Y8G("ngIf",e.showBadge&&e.badge&&e.badgeA11yText),t.R7$(),t.Y8G("ngIf",e.showBadge&&e.loading)}}function CoreMainMenuMorePage_ng_container_15_ion_item_1_Template(e,n){if(1&e&&(t.j41(0,"ion-item",20),t.nrm(1,"ion-icon",12),t.j41(2,"ion-label")(3,"p",9),t.EFF(4),t.k0s()()()),2&e){const e=t.XpG().$implicit;t.Y8G("href",e.url)("capture","app"===e.type)("inApp","inappbrowser"===e.type)("detail",!0)("detailIcon","browser"===e.type?"open-outline":"chevron-forward"),t.BMQ("aria-label",e.label),t.R7$(),t.Y8G("name",e.icon),t.R7$(3),t.JRh(e.label)}}function CoreMainMenuMorePage_ng_container_15_ion_item_2_Template(e,n){if(1&e){const e=t.RV6();t.j41(0,"ion-item",21),t.bIt("click",(function CoreMainMenuMorePage_ng_container_15_ion_item_2_Template_ion_item_click_0_listener(){t.eBV(e);const n=t.XpG().$implicit,i=t.XpG();return t.Njj(i.openItem(n))})),t.nrm(1,"ion-icon",12),t.j41(2,"ion-label")(3,"p",9),t.EFF(4),t.k0s()()()}if(2&e){const e=t.XpG().$implicit;t.Y8G("detail",!0),t.BMQ("aria-label",e.label),t.R7$(),t.Y8G("name",e.icon),t.R7$(3),t.JRh(e.label)}}function CoreMainMenuMorePage_ng_container_15_Template(e,n){if(1&e&&(t.qex(0),t.DNE(1,CoreMainMenuMorePage_ng_container_15_ion_item_1_Template,5,8,"ion-item",18)(2,CoreMainMenuMorePage_ng_container_15_ion_item_2_Template,5,4,"ion-item",19),t.bVm()),2&e){const e=n.$implicit;t.R7$(),t.Y8G("ngIf","embedded"!==e.type),t.R7$(),t.Y8G("ngIf","embedded"===e.type)}}function CoreMainMenuMorePage_ion_item_16_Template(e,n){if(1&e){const e=t.RV6();t.j41(0,"ion-item",7),t.bIt("click",(function CoreMainMenuMorePage_ion_item_16_Template_ion_item_click_0_listener(){t.eBV(e);const n=t.XpG();return t.Njj(n.scanQR())})),t.nrm(1,"ion-icon",22),t.j41(2,"ion-label")(3,"p",9),t.EFF(4),t.nI1(5,"translate"),t.k0s()()()}2&e&&(t.Y8G("detail",!0),t.R7$(4),t.JRh(t.bMT(5,2,"core.scanqr")))}let P=(()=>{var e;class CoreMainMenuMorePage{constructor(){var e,n=this;this.handlersLoaded=!1,this.langObserver=M.z.on(M.z.LANGUAGE_CHANGED,(()=>this.loadCustomMenuItems())),this.updateSiteObserver=M.z.on(M.z.SITE_UPDATED,(0,l.A)((function*(){n.customItems=yield m.CoreMainMenu.getCustomMenuItems()})),c.CoreSites.getCurrentSiteId()),this.loadCustomMenuItems(),this.showScanQR=u.CoreQRScan.canScanQR()&&!(null!==(e=c.CoreSites.getCurrentSite())&&void 0!==e&&e.isFeatureDisabled("CoreMainMenuDelegate_QrReader"))}ngOnInit(){this.subscription=_.CoreMainMenuDelegate.getHandlersObservable().subscribe((e=>{this.allHandlers=e,this.initHandlers()})),this.resizeListener=g.y.onWindowResize((()=>{this.initHandlers()})),c.CoreSites.loginNavigationFinished()}ngOnDestroy(){var e,n,i,t;null===(e=this.langObserver)||void 0===e||e.off(),null===(n=this.updateSiteObserver)||void 0===n||n.off(),null===(i=this.subscription)||void 0===i||i.unsubscribe(),null===(t=this.resizeListener)||void 0===t||t.off()}initHandlers(){if(!this.allHandlers)return;const e=this.allHandlers.filter((e=>!e.onlyInMore)).slice(0,m.CoreMainMenu.getNumItems());this.handlers=this.allHandlers.filter((n=>-1==e.indexOf(n))),this.handlersLoaded=_.CoreMainMenuDelegate.areHandlersLoaded()}loadCustomMenuItems(){var e=this;return(0,l.A)((function*(){e.customItems=yield m.CoreMainMenu.getCustomMenuItems()}))()}openHandler(e){d.CoreNavigator.navigateToSitePath(e.page,{params:e.pageParams})}openItem(e){b.m.openIframeViewer(e.label,e.url)}openSettings(){d.CoreNavigator.navigateToSitePath("settings")}scanQR(){return(0,l.A)((function*(){const e=yield u.CoreQRScan.scanQRWithUrlHandling();e&&(/^[^:]{2,}:\/\/[^ ]+$/i.test(e)?yield c.CoreSites.visitLink(e,{checkRoot:!0,openBrowserRoot:!0}):b.m.viewText(p.HT.instant("core.qrscanner"),e,{displayCopyButton:!0}))}))()}}return(e=CoreMainMenuMorePage).ɵfac=function CoreMainMenuMorePage_Factory(n){return new(n||e)},e.ɵcmp=t.VBU({type:e,selectors:[["page-core-mainmenu-more"]],decls:25,vars:17,consts:[["slot","start"],[3,"text"],["slot","end"],["class","ion-text-center",4,"ngIf"],["button","",3,"ngClass","detail","click",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["button","",3,"detail","click",4,"ngIf"],["button","",3,"click","detail"],["name","fas-gears","slot","start","aria-hidden","true"],[1,"item-heading"],[1,"ion-text-center"],["button","",3,"click","ngClass","detail"],["slot","start","aria-hidden","true",3,"name"],["slot","end","aria-hidden","true",3,"hidden",4,"ngIf"],["class","sr-only",4,"ngIf"],["slot","end",4,"ngIf"],["slot","end","aria-hidden","true",3,"hidden"],[1,"sr-only"],["button","","core-link","","class","core-moremenu-customitem",3,"href","capture","inApp","detail","detailIcon",4,"ngIf"],["button","","class","core-moremenu-customitem",3,"detail","click",4,"ngIf"],["button","","core-link","",1,"core-moremenu-customitem",3,"href","capture","inApp","detail","detailIcon"],["button","",1,"core-moremenu-customitem",3,"click","detail"],["name","fas-qrcode","slot","start","aria-hidden","true"]],template:function CoreMainMenuMorePage_Template(e,n){1&e&&(t.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),t.nrm(3,"ion-back-button",1),t.nI1(4,"translate"),t.k0s(),t.j41(5,"ion-title")(6,"h1"),t.EFF(7),t.nI1(8,"translate"),t.k0s()(),t.j41(9,"ion-buttons",2),t.nrm(10,"core-user-menu-button"),t.k0s()()(),t.j41(11,"ion-content")(12,"ion-list"),t.DNE(13,CoreMainMenuMorePage_ion_item_13_Template,4,3,"ion-item",3)(14,CoreMainMenuMorePage_ion_item_14_Template,10,14,"ion-item",4)(15,CoreMainMenuMorePage_ng_container_15_Template,3,2,"ng-container",5)(16,CoreMainMenuMorePage_ion_item_16_Template,6,4,"ion-item",6),t.k0s()(),t.j41(17,"ion-footer")(18,"ion-item",7),t.nI1(19,"translate"),t.bIt("click",(function CoreMainMenuMorePage_Template_ion_item_click_18_listener(){return n.openSettings()})),t.nrm(20,"ion-icon",8),t.j41(21,"ion-label")(22,"p",9),t.EFF(23),t.nI1(24,"translate"),t.k0s()()()()),2&e&&(t.R7$(3),t.Y8G("text",t.bMT(4,9,"core.back")),t.R7$(4),t.JRh(t.bMT(8,11,"core.more")),t.R7$(6),t.Y8G("ngIf",!(n.handlers&&n.handlers.length||n.handlersLoaded)),t.R7$(),t.Y8G("ngForOf",n.handlers),t.R7$(),t.Y8G("ngForOf",n.customItems),t.R7$(),t.Y8G("ngIf",n.showScanQR),t.R7$(2),t.Y8G("detail",!0),t.BMQ("aria-label",t.bMT(19,13,"core.settings.appsettings")),t.R7$(5),t.JRh(t.bMT(24,15,"core.settings.appsettings")))},dependencies:[f.YU,f.Sq,f.bT,h.t,C.j,I.i,R.In,R.QW,R.W9,R.M0,R.eU,R.iq,R.uz,R.he,R.nf,R.w2,R.BC,R.ai,R.el,T.U,k.D9],styles:["ion-item[_ngcontent-%COMP%]{--border-color: var(--core-more-item-border, var(--ion-border-color))}ion-item[_ngcontent-%COMP%] > ion-icon[slot][_ngcontent-%COMP%]{color:var(--core-more-icon)!important}"]}),CoreMainMenuMorePage})();var $=i(36684);function buildRoutes(e){return(0,r.B)(e,{component:P,data:{mainMenuTabRoot:$.MAIN_MENU_MORE_PAGE_NAME}})}let v=(()=>{var e;class CoreMainMenuMoreLazyModule{}return(e=CoreMainMenuMoreLazyModule).ɵfac=function CoreMainMenuMoreLazyModule_Factory(n){return new(n||e)},e.ɵmod=t.$C({type:e}),e.ɵinj=t.G2t({providers:[{provide:o.bw,multi:!0,deps:[t.zZn],useFactory:buildRoutes}],imports:[a.n,s.E]}),CoreMainMenuMoreLazyModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&t.Obh(v,{declarations:[P],imports:[a.n,s.E]}))}}]);