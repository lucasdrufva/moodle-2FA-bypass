"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1876],{31876:(e,n,t)=>{t.r(n),t.d(n,{default:()=>y});var a=t(21182),_=t(3353),i=t(10467),o=t(54438),s=t(20728),g=t(98870),r=t(85190),c=t(49882),l=t(52749),d=t(89911),p=t(74431),m=t(18022),f=t(49588),u=t(23780),M=t(40152),h=t(60177),b=t(76954),P=t(64422),T=t(86198),S=t(88246),C=t(89417),A=t(73465),R=t(73955);const _c0=e=>({preferences:e}),_c1=()=>["loggedin","loggedoff"];function AddonMessagesSettingsPage_Conditional_25_Template(e,n){if(1&e&&(o.j41(0,"ion-card",9)(1,"ion-item"),o.nrm(2,"ion-icon",10),o.j41(3,"ion-label"),o.EFF(4),o.k0s()()()),2&e){const e=o.XpG();o.R7$(4),o.JRh(e.warningMessage())}}function AddonMessagesSettingsPage_Conditional_26_ion_item_1_Template(e,n){if(1&e){const e=o.RV6();o.j41(0,"ion-item",7)(1,"ion-toggle",8),o.mxI("ngModelChange",(function AddonMessagesSettingsPage_Conditional_26_ion_item_1_Template_ion_toggle_ngModelChange_1_listener(n){o.eBV(e);const t=o.XpG(2);return o.DH7(t.contactablePrivacy,n)||(t.contactablePrivacy=n),o.Njj(n)})),o.bIt("ngModelChange",(function AddonMessagesSettingsPage_Conditional_26_ion_item_1_Template_ion_toggle_ngModelChange_1_listener(){o.eBV(e);const n=o.XpG(2);return o.Njj(n.saveContactablePrivacy(n.contactablePrivacy))})),o.EFF(2),o.nI1(3,"translate"),o.k0s()()}if(2&e){const e=o.XpG(2);o.R7$(),o.R50("ngModel",e.contactablePrivacy),o.R7$(),o.SpI(" ",o.bMT(3,2,"addon.messages.blocknoncontacts")," ")}}function AddonMessagesSettingsPage_Conditional_26_ion_list_2_ion_item_15_Template(e,n){if(1&e&&(o.j41(0,"ion-item",7)(1,"ion-radio",14),o.EFF(2),o.nI1(3,"translate"),o.k0s()()),2&e){const e=o.XpG(3);o.R7$(),o.Y8G("value",e.siteValue),o.R7$(),o.SpI(" ",o.bMT(3,2,"addon.messages.contactableprivacy_site")," ")}}function AddonMessagesSettingsPage_Conditional_26_ion_list_2_Template(e,n){if(1&e){const e=o.RV6();o.j41(0,"ion-list")(1,"ion-radio-group",13),o.mxI("ngModelChange",(function AddonMessagesSettingsPage_Conditional_26_ion_list_2_Template_ion_radio_group_ngModelChange_1_listener(n){o.eBV(e);const t=o.XpG(2);return o.DH7(t.contactablePrivacy,n)||(t.contactablePrivacy=n),o.Njj(n)})),o.bIt("ionChange",(function AddonMessagesSettingsPage_Conditional_26_ion_list_2_Template_ion_radio_group_ionChange_1_listener(){o.eBV(e);const n=o.XpG(2);return o.Njj(n.saveContactablePrivacy(n.contactablePrivacy))})),o.j41(2,"ion-item-divider")(3,"ion-label")(4,"h2"),o.EFF(5),o.nI1(6,"translate"),o.k0s()()(),o.j41(7,"ion-item",7)(8,"ion-radio",14),o.EFF(9),o.nI1(10,"translate"),o.k0s()(),o.j41(11,"ion-item",7)(12,"ion-radio",14),o.EFF(13),o.nI1(14,"translate"),o.k0s()(),o.DNE(15,AddonMessagesSettingsPage_Conditional_26_ion_list_2_ion_item_15_Template,4,4,"ion-item",11),o.k0s()()}if(2&e){const e=o.XpG(2);o.R7$(),o.R50("ngModel",e.contactablePrivacy),o.R7$(4),o.JRh(o.bMT(6,7,"addon.messages.contactableprivacy")),o.R7$(3),o.Y8G("value",e.onlyContactsValue),o.R7$(),o.SpI(" ",o.bMT(10,9,"addon.messages.contactableprivacy_onlycontacts")," "),o.R7$(3),o.Y8G("value",e.courseMemberValue),o.R7$(),o.SpI(" ",o.bMT(14,11,"addon.messages.contactableprivacy_coursemember")," "),o.R7$(2),o.Y8G("ngIf",e.allowSiteMessaging)}}function AddonMessagesSettingsPage_Conditional_26_ng_container_3_ng_container_1_ng_container_1_Template(e,n){1&e&&o.eu8(0)}function AddonMessagesSettingsPage_Conditional_26_ng_container_3_ng_container_1_Template(e,n){if(1&e&&(o.qex(0),o.DNE(1,AddonMessagesSettingsPage_Conditional_26_ng_container_3_ng_container_1_ng_container_1_Template,1,0,"ng-container",15),o.bVm()),2&e){const e=o.XpG(3),n=o.sdS(28);o.R7$(),o.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",o.eq3(2,_c0,e.preferences))}}function AddonMessagesSettingsPage_Conditional_26_ng_container_3_ng_container_2_ng_container_1_Template(e,n){1&e&&o.eu8(0)}function AddonMessagesSettingsPage_Conditional_26_ng_container_3_ng_container_2_Template(e,n){if(1&e&&(o.qex(0),o.DNE(1,AddonMessagesSettingsPage_Conditional_26_ng_container_3_ng_container_2_ng_container_1_Template,1,0,"ng-container",15),o.bVm()),2&e){const e=o.XpG(3),n=o.sdS(30);o.R7$(),o.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",o.eq3(2,_c0,e.preferences))}}function AddonMessagesSettingsPage_Conditional_26_ng_container_3_Template(e,n){if(1&e&&(o.qex(0),o.DNE(1,AddonMessagesSettingsPage_Conditional_26_ng_container_3_ng_container_1_Template,2,4,"ng-container",12)(2,AddonMessagesSettingsPage_Conditional_26_ng_container_3_ng_container_2_Template,2,4,"ng-container",12),o.bVm()),2&e){const e=o.XpG(2);o.R7$(),o.Y8G("ngIf",!e.groupMessagingEnabled),o.R7$(),o.Y8G("ngIf",e.groupMessagingEnabled)}}function AddonMessagesSettingsPage_Conditional_26_Template(e,n){if(1&e&&(o.j41(0,"ion-card"),o.DNE(1,AddonMessagesSettingsPage_Conditional_26_ion_item_1_Template,4,4,"ion-item",11)(2,AddonMessagesSettingsPage_Conditional_26_ion_list_2_Template,16,13,"ion-list",12),o.k0s(),o.DNE(3,AddonMessagesSettingsPage_Conditional_26_ng_container_3_Template,3,2,"ng-container",12)),2&e){const e=o.XpG();o.R7$(),o.Y8G("ngIf",!e.advancedContactable),o.R7$(),o.Y8G("ngIf",e.advancedContactable),o.R7$(),o.Y8G("ngIf",e.preferences)}}function AddonMessagesSettingsPage_ng_template_27_ng_container_0_ion_card_1_ng_container_7_ion_item_5_ng_container_5_core_button_with_spinner_1_Template(e,n){if(1&e){const e=o.RV6();o.j41(0,"core-button-with-spinner",23)(1,"ion-toggle",8),o.mxI("ngModelChange",(function AddonMessagesSettingsPage_ng_template_27_ng_container_0_ion_card_1_ng_container_7_ion_item_5_ng_container_5_core_button_with_spinner_1_Template_ion_toggle_ngModelChange_1_listener(n){o.eBV(e);const t=o.XpG(2).$implicit,a=o.XpG().$implicit;return o.DH7(a[t].checked,n)||(a[t].checked=n),o.Njj(n)})),o.bIt("ngModelChange",(function AddonMessagesSettingsPage_ng_template_27_ng_container_0_ion_card_1_ng_container_7_ion_item_5_ng_container_5_core_button_with_spinner_1_Template_ion_toggle_ngModelChange_1_listener(){o.eBV(e);const n=o.XpG(2).$implicit,t=o.XpG().$implicit,a=o.XpG().$implicit,_=o.XpG(3);return o.Njj(_.changePreferenceLegacy(a,t,n))})),o.k0s()()}if(2&e){const e=o.XpG(2).$implicit,n=o.XpG().$implicit,t=o.XpG().$implicit;o.Y8G("loading",t["updating"+e]),o.R7$(),o.R50("ngModel",n[e].checked)}}function AddonMessagesSettingsPage_ng_template_27_ng_container_0_ion_card_1_ng_container_7_ion_item_5_ng_container_5_span_2_Template(e,n){1&e&&(o.j41(0,"span",24),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&e&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"core.settings.forced")," "))}function AddonMessagesSettingsPage_ng_template_27_ng_container_0_ion_card_1_ng_container_7_ion_item_5_ng_container_5_span_3_Template(e,n){1&e&&(o.j41(0,"span",24),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&e&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"core.settings.disallowed")," "))}function AddonMessagesSettingsPage_ng_template_27_ng_container_0_ion_card_1_ng_container_7_ion_item_5_ng_container_5_Template(e,n){if(1&e&&(o.qex(0),o.DNE(1,AddonMessagesSettingsPage_ng_template_27_ng_container_0_ion_card_1_ng_container_7_ion_item_5_ng_container_5_core_button_with_spinner_1_Template,2,2,"core-button-with-spinner",21)(2,AddonMessagesSettingsPage_ng_template_27_ng_container_0_ion_card_1_ng_container_7_ion_item_5_ng_container_5_span_2_Template,3,3,"span",22)(3,AddonMessagesSettingsPage_ng_template_27_ng_container_0_ion_card_1_ng_container_7_ion_item_5_ng_container_5_span_3_Template,3,3,"span",22),o.bVm()),2&e){const e=o.XpG().$implicit,n=o.XpG().$implicit;o.R7$(),o.Y8G("ngIf",!n.locked),o.R7$(),o.Y8G("ngIf",n.locked&&n[e].checked),o.R7$(),o.Y8G("ngIf",n.locked&&!n[e].checked)}}function AddonMessagesSettingsPage_ng_template_27_ng_container_0_ion_card_1_ng_container_7_ion_item_5_span_6_Template(e,n){1&e&&(o.j41(0,"span"),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&e&&(o.R7$(),o.JRh(o.bMT(2,1,"core.settings.disabled")))}function AddonMessagesSettingsPage_ng_template_27_ng_container_0_ion_card_1_ng_container_7_ion_item_5_Template(e,n){if(1&e&&(o.j41(0,"ion-item",20)(1,"ion-label")(2,"p"),o.EFF(3),o.nI1(4,"translate"),o.k0s()(),o.DNE(5,AddonMessagesSettingsPage_ng_template_27_ng_container_0_ion_card_1_ng_container_7_ion_item_5_ng_container_5_Template,4,3,"ng-container",12)(6,AddonMessagesSettingsPage_ng_template_27_ng_container_0_ion_card_1_ng_container_7_ion_item_5_span_6_Template,3,3,"span",12),o.k0s()),2&e){const e=n.$implicit,t=o.XpG(4).preferences;o.R7$(3),o.JRh(o.bMT(4,3,"core.settings."+e)),o.R7$(2),o.Y8G("ngIf",!t.disableall),o.R7$(),o.Y8G("ngIf",t.disableall)}}function AddonMessagesSettingsPage_ng_template_27_ng_container_0_ion_card_1_ng_container_7_Template(e,n){if(1&e&&(o.qex(0),o.j41(1,"ion-item-divider",7)(2,"ion-label")(3,"p",18),o.EFF(4),o.k0s()()(),o.DNE(5,AddonMessagesSettingsPage_ng_template_27_ng_container_0_ion_card_1_ng_container_7_ion_item_5_Template,7,5,"ion-item",19),o.bVm()),2&e){const e=n.$implicit;o.R7$(4),o.JRh(e.displayname),o.R7$(),o.Y8G("ngForOf",o.lJ4(2,_c1))}}function AddonMessagesSettingsPage_ng_template_27_ng_container_0_ion_card_1_Template(e,n){if(1&e&&(o.j41(0,"ion-card")(1,"ion-card-header",17)(2,"ion-item",7)(3,"ion-label")(4,"h2"),o.EFF(5),o.k0s()()()(),o.j41(6,"ion-card-content",17),o.DNE(7,AddonMessagesSettingsPage_ng_template_27_ng_container_0_ion_card_1_ng_container_7_Template,6,3,"ng-container",16),o.k0s()()),2&e){const e=n.$implicit;o.R7$(5),o.JRh(e.displayname),o.R7$(2),o.Y8G("ngForOf",e.processors)}}function AddonMessagesSettingsPage_ng_template_27_ng_container_0_Template(e,n){if(1&e&&(o.qex(0),o.DNE(1,AddonMessagesSettingsPage_ng_template_27_ng_container_0_ion_card_1_Template,8,2,"ion-card",16),o.bVm()),2&e){const e=n.$implicit;o.R7$(),o.Y8G("ngForOf",e.notifications)}}function AddonMessagesSettingsPage_ng_template_27_Template(e,n){if(1&e&&o.DNE(0,AddonMessagesSettingsPage_ng_template_27_ng_container_0_Template,2,1,"ng-container",16),2&e){o.Y8G("ngForOf",n.preferences.components)}}function AddonMessagesSettingsPage_ng_template_29_ng_container_0_ion_card_1_ng_container_6_ng_container_5_core_button_with_spinner_1_Template(e,n){if(1&e){const e=o.RV6();o.j41(0,"core-button-with-spinner",23)(1,"ion-toggle",8),o.mxI("ngModelChange",(function AddonMessagesSettingsPage_ng_template_29_ng_container_0_ion_card_1_ng_container_6_ng_container_5_core_button_with_spinner_1_Template_ion_toggle_ngModelChange_1_listener(n){o.eBV(e);const t=o.XpG(2).$implicit;return o.DH7(t.enabled,n)||(t.enabled=n),o.Njj(n)})),o.bIt("ngModelChange",(function AddonMessagesSettingsPage_ng_template_29_ng_container_0_ion_card_1_ng_container_6_ng_container_5_core_button_with_spinner_1_Template_ion_toggle_ngModelChange_1_listener(){o.eBV(e);const n=o.XpG(2).$implicit,t=o.XpG().$implicit,a=o.XpG(3);return o.Njj(a.changePreference(t,n))})),o.k0s()()}if(2&e){const e=o.XpG(2).$implicit,n=o.XpG().$implicit;o.Y8G("loading",n.updating),o.R7$(),o.R50("ngModel",e.enabled)}}function AddonMessagesSettingsPage_ng_template_29_ng_container_0_ion_card_1_ng_container_6_ng_container_5_span_2_Template(e,n){if(1&e&&(o.j41(0,"span",24),o.EFF(1),o.k0s()),2&e){const e=o.XpG(2).$implicit;o.R7$(),o.SpI(" ",e.lockedmessage," ")}}function AddonMessagesSettingsPage_ng_template_29_ng_container_0_ion_card_1_ng_container_6_ng_container_5_Template(e,n){if(1&e&&(o.qex(0),o.DNE(1,AddonMessagesSettingsPage_ng_template_29_ng_container_0_ion_card_1_ng_container_6_ng_container_5_core_button_with_spinner_1_Template,2,2,"core-button-with-spinner",21)(2,AddonMessagesSettingsPage_ng_template_29_ng_container_0_ion_card_1_ng_container_6_ng_container_5_span_2_Template,2,1,"span",22),o.bVm()),2&e){const e=o.XpG().$implicit;o.R7$(),o.Y8G("ngIf",!e.locked),o.R7$(),o.Y8G("ngIf",e.locked)}}function AddonMessagesSettingsPage_ng_template_29_ng_container_0_ion_card_1_ng_container_6_span_6_Template(e,n){1&e&&(o.j41(0,"span",24),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&e&&(o.R7$(),o.JRh(o.bMT(2,1,"core.settings.disabled")))}function AddonMessagesSettingsPage_ng_template_29_ng_container_0_ion_card_1_ng_container_6_Template(e,n){if(1&e&&(o.qex(0),o.j41(1,"ion-item",20)(2,"ion-label")(3,"p"),o.EFF(4),o.k0s()(),o.DNE(5,AddonMessagesSettingsPage_ng_template_29_ng_container_0_ion_card_1_ng_container_6_ng_container_5_Template,3,2,"ng-container",12)(6,AddonMessagesSettingsPage_ng_template_29_ng_container_0_ion_card_1_ng_container_6_span_6_Template,3,3,"span",22),o.k0s(),o.bVm()),2&e){const e=n.$implicit,t=o.XpG(3).preferences;o.R7$(4),o.JRh(e.displayname),o.R7$(),o.Y8G("ngIf",!t.disableall),o.R7$(),o.Y8G("ngIf",t.disableall)}}function AddonMessagesSettingsPage_ng_template_29_ng_container_0_ion_card_1_Template(e,n){if(1&e&&(o.j41(0,"ion-card")(1,"ion-item-divider",7)(2,"ion-label")(3,"h2"),o.EFF(4),o.nI1(5,"translate"),o.k0s()()(),o.DNE(6,AddonMessagesSettingsPage_ng_template_29_ng_container_0_ion_card_1_ng_container_6_Template,7,3,"ng-container",16),o.k0s()),2&e){const e=n.$implicit;o.R7$(4),o.JRh(o.bMT(5,2,"addon.notifications.notificationpreferences")),o.R7$(2),o.Y8G("ngForOf",e.processors)}}function AddonMessagesSettingsPage_ng_template_29_ng_container_0_Template(e,n){if(1&e&&(o.qex(0),o.DNE(1,AddonMessagesSettingsPage_ng_template_29_ng_container_0_ion_card_1_Template,7,4,"ion-card",16),o.bVm()),2&e){const e=n.$implicit;o.R7$(),o.Y8G("ngForOf",e.notifications)}}function AddonMessagesSettingsPage_ng_template_29_Template(e,n){if(1&e&&o.DNE(0,AddonMessagesSettingsPage_ng_template_29_ng_container_0_Template,2,1,"ng-container",16),2&e){o.Y8G("ngForOf",n.preferences.components)}}let $=(()=>{var e;class AddonMessagesSettingsPage{constructor(){this.preferencesLoaded=!1,this.advancedContactable=!1,this.allowSiteMessaging=!1,this.onlyContactsValue=1,this.courseMemberValue=0,this.siteValue=2,this.groupMessagingEnabled=!1,this.sendOnEnter=!1,this.warningMessage=(0,o.vPA)(void 0),this.loggedInOffLegacyMode=!1;const e=l.CoreSites.getRequiredCurrentSite();this.advancedContactable=!!e.isVersionGreaterEqualThan("3.6"),this.allowSiteMessaging=!!e.canUseAdvancedFeature("messagingallusers"),this.groupMessagingEnabled=s.AddonMessages.isGroupMessagingEnabled(),this.loggedInOffLegacyMode=!e.isVersionGreaterEqualThan("4.0"),this.asyncInit()}asyncInit(){var e=this;return(0,i.A)((function*(){e.sendOnEnter=!!(yield r.CoreConfig.get(p.CoreConstants.SETTINGS_SEND_ON_ENTER,!m.CorePlatform.isMobile()))}))()}ngOnInit(){this.fetchPreferences()}fetchPreferences(){var e=this;return(0,i.A)((function*(){try{const n=yield s.AddonMessages.getMessagePreferences();if(e.groupMessagingEnabled)for(const t of n.components)t.notifications=t.notifications.filter((e=>e.preferencekey===M.bb)),e.loggedInOffLegacyMode&&t.notifications.forEach((e=>{e.processors.forEach((e=>{e.enabled=e.loggedin.checked||e.loggedoff.checked}))}));e.preferences=n,e.contactablePrivacy=n.blocknoncontacts,e.previousContactableValue=e.contactablePrivacy,e.warningMessage.set(void 0)}catch(n){if("nopermissions"===n.errorcode)return e.warningMessage.set(f.CoreErrorHelper.getErrorMessageFromError(n)),void 0;d.CoreDomUtils.showErrorModal(n)}finally{e.preferencesLoaded=!0}}))()}updatePreferences(){s.AddonMessages.invalidateMessagePreferences().finally((()=>{this.fetchPreferences()}))}updatePreferencesAfterDelay(){clearTimeout(this.updateTimeout),this.updateTimeout=window.setTimeout((()=>{this.updateTimeout=void 0,this.updatePreferences()}),5e3)}saveContactablePrivacy(e){var n=this;return(0,i.A)((function*(){if(n.contactablePrivacy==n.previousContactableValue)return;const t=yield u.CoreLoadings.show("core.sending",!0);n.advancedContactable||(e=e?1:0);try{yield g.CoreUser.updateUserPreference("message_blocknoncontacts",String(e)),n.updatePreferencesAfterDelay(),n.previousContactableValue=n.contactablePrivacy}catch(e){d.CoreDomUtils.showErrorModal(e),n.contactablePrivacy=n.previousContactableValue}finally{t.dismiss()}}))()}changePreference(e,n){var t=this;return(0,i.A)((function*(){let a=e.processors.filter((e=>e.enabled)).map((e=>e.name)).join(",");""==a&&(a="none"),e.updating=!0;const _=[];t.loggedInOffLegacyMode?(_.push(g.CoreUser.updateUserPreference(e.preferencekey+"_loggedin",a)),_.push(g.CoreUser.updateUserPreference(e.preferencekey+"_loggedoff",a))):_.push(g.CoreUser.updateUserPreference(e.preferencekey+"_enabled",a));try{yield Promise.all(_),t.updatePreferencesAfterDelay()}catch(e){d.CoreDomUtils.showErrorModal(e),n.enabled=!n.enabled}finally{e.updating=!1}}))()}changePreferenceLegacy(e,n,t){var a=this;return(0,i.A)((function*(){const _=n[t],i=e.preferencekey+"_"+_.name,o=e.processors.filter((e=>e[t].checked)).map((e=>e.name)).join(",");e["updating"+t]=!0;try{yield g.CoreUser.updateUserPreference(i,o),a.updatePreferencesAfterDelay()}catch(e){d.CoreDomUtils.showErrorModal(e),_.checked=!_.checked}finally{e["updating"+t]=!1}}))()}refreshPreferences(e){s.AddonMessages.invalidateMessagePreferences().finally((()=>{this.fetchPreferences().finally((()=>{null==e||e.complete()}))}))}sendOnEnterChanged(){r.CoreConfig.set(p.CoreConstants.SETTINGS_SEND_ON_ENTER,this.sendOnEnter?1:0),c.z.trigger(c.z.SEND_ON_ENTER_CHANGED,{sendOnEnter:!!this.sendOnEnter},l.CoreSites.getCurrentSiteId())}ngOnDestroy(){this.updateTimeout&&(clearTimeout(this.updateTimeout),this.updatePreferences())}}return(e=AddonMessagesSettingsPage).ɵfac=function AddonMessagesSettingsPage_Factory(n){return new(n||e)},e.ɵcmp=o.VBU({type:e,selectors:[["page-addon-messages-settings"]],decls:31,vars:19,consts:[["legacySettings",""],["settings",""],["slot","start"],[3,"text"],["slot","fixed",3,"ionRefresh","disabled"],[3,"pullingText"],[3,"hideUntil"],[1,"ion-text-wrap"],[3,"ngModelChange","ngModel"],[1,"core-warning-card","ion-margin-top"],["name","fas-triangle-exclamation","slot","start","aria-hidden","true"],["class","ion-text-wrap",4,"ngIf"],[4,"ngIf"],[3,"ngModelChange","ionChange","ngModel"],["labelPlacement","end","justify","start",3,"value"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf"],[1,"ion-no-padding"],[1,"item-heading"],["class","ion-text-wrap","lines","none",4,"ngFor","ngForOf"],["lines","none",1,"ion-text-wrap"],["slot","end",3,"loading",4,"ngIf"],["class","text-gray","slot","end",4,"ngIf"],["slot","end",3,"loading"],["slot","end",1,"text-gray"]],template:function AddonMessagesSettingsPage_Template(e,n){if(1&e){const e=o.RV6();o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",2),o.nrm(3,"ion-back-button",3),o.nI1(4,"translate"),o.k0s(),o.j41(5,"ion-title")(6,"h1"),o.EFF(7),o.nI1(8,"translate"),o.k0s()()()(),o.j41(9,"ion-content")(10,"ion-refresher",4),o.bIt("ionRefresh",(function AddonMessagesSettingsPage_Template_ion_refresher_ionRefresh_10_listener(t){return o.eBV(e),o.Njj(n.refreshPreferences(t.target))})),o.nrm(11,"ion-refresher-content",5),o.nI1(12,"translate"),o.k0s(),o.j41(13,"core-loading",6)(14,"ion-card")(15,"ion-list")(16,"ion-item-divider",7)(17,"ion-label")(18,"h2"),o.EFF(19),o.nI1(20,"translate"),o.k0s()()(),o.j41(21,"ion-item",7)(22,"ion-toggle",8),o.mxI("ngModelChange",(function AddonMessagesSettingsPage_Template_ion_toggle_ngModelChange_22_listener(t){return o.eBV(e),o.DH7(n.sendOnEnter,t)||(n.sendOnEnter=t),o.Njj(t)})),o.bIt("ngModelChange",(function AddonMessagesSettingsPage_Template_ion_toggle_ngModelChange_22_listener(){return o.eBV(e),o.Njj(n.sendOnEnterChanged())})),o.EFF(23),o.nI1(24,"translate"),o.k0s()()()(),o.DNE(25,AddonMessagesSettingsPage_Conditional_25_Template,5,1,"ion-card",9)(26,AddonMessagesSettingsPage_Conditional_26_Template,4,3),o.k0s()(),o.DNE(27,AddonMessagesSettingsPage_ng_template_27_Template,1,1,"ng-template",null,0,o.C5r)(29,AddonMessagesSettingsPage_ng_template_29_Template,1,1,"ng-template",null,1,o.C5r)}2&e&&(o.R7$(3),o.Y8G("text",o.bMT(4,9,"core.back")),o.R7$(4),o.JRh(o.bMT(8,11,"addon.messages.messages")),o.R7$(3),o.Y8G("disabled",!n.preferencesLoaded),o.R7$(),o.FS9("pullingText",o.bMT(12,13,"core.pulltorefresh")),o.R7$(2),o.Y8G("hideUntil",n.preferencesLoaded),o.R7$(6),o.JRh(o.bMT(20,15,"core.settings.general")),o.R7$(3),o.R50("ngModel",n.sendOnEnter),o.R7$(),o.SpI(" ",o.bMT(24,17,"addon.messages.useentertosend")," "),o.R7$(2),o.vxM(25,n.warningMessage()?25:26))},dependencies:[h.Sq,h.bT,h.T3,b.q,P.R,T.t,S.i,C.BC,C.vS,A.QW,A.b_,A.I9,A.ME,A.W9,A.eU,A.iq,A.uz,A.Dg,A.he,A.nf,A.KO,A.f0,A.To,A.Ki,A.BC,A.BY,A.ai,A.hB,A.Je,A.el,R.D9],encapsulation:2}),AddonMessagesSettingsPage})();const E=[{path:"",component:$}];let y=(()=>{var e;class AddonMessagesSettingsLazyModule{}return(e=AddonMessagesSettingsLazyModule).ɵfac=function AddonMessagesSettingsLazyModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({imports:[a.iI.forChild(E),_.n]}),AddonMessagesSettingsLazyModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&o.Obh(y,{declarations:[$],imports:[a.iI,_.n]}))}}]);