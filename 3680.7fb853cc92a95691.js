"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3680,1299,9522,7141],{35716:(e,t,r)=>{r.d(t,{z:()=>CorePaginatedItemsManagerSource});var s=r(10467),n=r(58866);class CorePaginatedItemsManagerSource extends n.i{constructor(){super(...arguments),this.hasMoreItems=!0}isCompleted(){return!this.hasMoreItems}isEmpty(){var e;return!this.isLoaded()||0===(null!==(e=this.getItems())&&void 0!==e?e:[]).length}getPagesLoaded(){if(null===this.items)return 0;const e=this.getPageLength();return null===e?1:Math.ceil(this.items.length/e)}reset(){this.hasMoreItems=!0,super.reset()}reload(){var e=this;return(0,s.A)((function*(){e.dirty=!0,yield e.load()}))()}load(){var e=this;return(0,s.A)((function*(){var t;if(e.dirty){const{items:t,hasMoreItems:r}=yield e.loadPageItems(0);return e.dirty=!1,e.setItems(t,null!=r&&r),void 0}if(!e.hasMoreItems)return;const{items:r,hasMoreItems:s}=yield e.loadPageItems(e.getPagesLoaded());e.setItems((null!==(t=e.items)&&void 0!==t?t:[]).concat(r),null!=s&&s)}))()}getPageLength(){return null}setItems(e,t=!1){this.hasMoreItems=t,super.setItems(e)}}},99522:(e,t,r)=>{r.d(t,{F:()=>CoreRoutedItemsManagerSource});var s=r(35716);class CoreRoutedItemsManagerSource extends s.z{static getSourceId(...e){return e.map((e=>String(e))).join("-")}getItemQueryParams(e){return{}}}},83696:(e,t,r)=>{var s;r.d(t,{u:()=>CoreRoutedItemsManagerSourcesTracker});class CoreRoutedItemsManagerSourcesTracker{static getSource(e,t){var r,s;const n="string"==typeof t?t:e.getSourceId(...t);return null!==(r=null===(s=this.getConstructorInstances(e)[n])||void 0===s?void 0:s.instance)&&void 0!==r?r:null}static getOrCreateSource(e,t){var r;const s=e.getSourceId(...t);return null!==(r=this.getSource(e,s))&&void 0!==r?r:this.createInstance(s,e,t)}static addReference(e,t){const r=this.getConstructorInstances(e.constructor),s=this.instanceIds.get(e);void 0!==s&&(s in r||(r[s]={instance:e,references:[]}),r[s].references.push(t))}static removeReference(e,t){var r,s;const n=this.instances.get(e.constructor),a=this.instanceIds.get(e),i=null!==(r=null==n||null===(s=n[null!=a?a:""])||void 0===s?void 0:s.references.indexOf(t))&&void 0!==r?r:-1;n&&void 0!==a&&-1!==i&&(n[a].references.splice(i,1),0===n[a].references.length&&delete n[a])}static getConstructorInstances(e){var t;return null!==(t=this.instances.get(e))&&void 0!==t?t:this.initialiseConstructorInstances(e)}static initialiseConstructorInstances(e){const t={};return this.instances.set(e,t),t}static createInstance(e,t,r){const s=new t(...r);return this.instanceIds.set(s,e),s}}(s=CoreRoutedItemsManagerSourcesTracker).instances=new WeakMap,s.instanceIds=new WeakMap},95990:(e,t,r)=>{r.d(t,{u:()=>CoreRoutedItemsManager});var s=r(10467),n=r(15324),a=r(42022),i=r(83696);class CoreRoutedItemsManager extends a.f{setSource(e){this.source&&i.u.removeReference(this.source.instance,this),e&&i.u.addReference(e,this),super.setSource(e)}getSelectedItemPath(e){return e?this.getSelectedItemPathFromRoute(e):null}updateSelectedItem(e=null){var t,r,s,n;e=null!==(t=null!==(r=e)&&void 0!==r?r:this.getCurrentPageRoute())&&void 0!==t?t:null;const a=this.getSelectedItemPath(e),i=a&&null!==(s=null===(n=this.itemsMap)||void 0===n?void 0:n[a])&&void 0!==s?s:null;this.setSelectedItem(i)}navigateToItem(e,t={}){var r=this;return(0,s.A)((function*(){const s=r.getCurrentPageRoute();if(null===s)return;const a=r.getSource().getItemPath(e),i=r.getSelectedItemPath(s);if(i===a)return;const o=r.getSource().getItemQueryParams(e),u=i?i.split("/").fill("../").join(""):"";yield n.CoreNavigator.navigate(u+a,{params:o,...t})}))()}navigateToIndex(e={}){var t=this;return(0,s.A)((function*(){const r=t.getCurrentPageRoute();if(null===r)return;const s=t.getSelectedItemPath(r);if(null===s)return;const a=s?s.split("/").fill("../").join(""):"";yield n.CoreNavigator.navigate(a,e)}))()}onSourceItemsUpdated(e){super.onSourceItemsUpdated(e);const t=this.selectedItem;null!==t&&e.some((e=>e===t))||this.updateSelectedItem()}getItemId(e){return this.getSource().getItemPath(e)}}},32379:(e,t,r)=>{r.d(t,{u:()=>CoreUserParticipantsSource});var s=r(10467),n=r(99522),a=r(98870);class CoreUserParticipantsSource extends n.F{static getSourceId(e,t=null){var r;return`participants-${e}-${t=null!==(r=t)&&void 0!==r?r:"__empty__"}`}constructor(e,t=null){super(),this.COURSE_ID=e,this.SEARCH_QUERY=t}getItemPath(e){return e.id.toString()}getItemQueryParams(){return{search:this.SEARCH_QUERY}}loadPageItems(e){var t=this;return(0,s.A)((function*(){if(t.SEARCH_QUERY){const{participants:r,canLoadMore:s}=yield a.CoreUser.searchParticipants(t.COURSE_ID,t.SEARCH_QUERY,!0,e,a.CoreUserProvider.PARTICIPANTS_LIST_LIMIT);return{items:r,hasMoreItems:s}}const{participants:r,canLoadMore:s}=yield a.CoreUser.getParticipants(t.COURSE_ID,e*a.CoreUserProvider.PARTICIPANTS_LIST_LIMIT,a.CoreUserProvider.PARTICIPANTS_LIST_LIMIT);return{items:r,hasMoreItems:s}}))()}getPageLength(){return a.CoreUserProvider.PARTICIPANTS_LIST_LIMIT}}}}]);