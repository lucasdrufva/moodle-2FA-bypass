"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5393],{45393:(n,e,o)=>{o.r(e),o.d(e,{AddonCalendarFilterComponent:()=>v});var t=o(58364),r=o(79555),i=o(49882),a=o(83219),d=o(3353),l=o(99234),c=o(54438),s=o(60177),_=o(4060),g=o(86198),p=o(58197),m=o(88246),C=o(43570),u=o(89417),f=o(73465),h=o(73955);const _c0=n=>[n];function AddonCalendarFilterComponent_ion_item_8_Template(n,e){if(1&n){const n=c.RV6();c.j41(0,"ion-item",7),c.nrm(1,"ion-icon",8),c.j41(2,"ion-toggle",9),c.mxI("ngModelChange",(function AddonCalendarFilterComponent_ion_item_8_Template_ion_toggle_ngModelChange_2_listener(e){const o=c.eBV(n).$implicit,t=c.XpG();return c.DH7(t.filter[o],e)||(t.filter[o]=e),c.Njj(e)})),c.bIt("ionChange",(function AddonCalendarFilterComponent_ion_item_8_Template_ion_toggle_ionChange_2_listener(){c.eBV(n);const e=c.XpG();return c.Njj(e.onChange())})),c.EFF(3),c.nI1(4,"translate"),c.k0s()()}if(2&n){const n=e.$implicit,o=c.XpG();c.Y8G("ngClass",c.eq3(6,_c0,"addon-calendar-eventtype-"+n)),c.R7$(),c.Y8G("name",o.typeIcons[n]),c.R7$(),c.R50("ngModel",o.filter[n]),c.R7$(),c.SpI(" ",c.bMT(4,4,"addon.calendar."+n+"events")," ")}}function AddonCalendarFilterComponent_core_spacer_9_Template(n,e){1&n&&c.nrm(0,"core-spacer")}function AddonCalendarFilterComponent_ng_container_10_ion_item_2_Template(n,e){if(1&n&&(c.j41(0,"ion-item",11)(1,"ion-radio",12),c.nrm(2,"core-format-text",13),c.k0s()()),2&n){const n=e.$implicit;c.R7$(),c.Y8G("value",n.id),c.R7$(),c.Y8G("text",n.shortname)}}function AddonCalendarFilterComponent_ng_container_10_Template(n,e){if(1&n){const n=c.RV6();c.qex(0),c.j41(1,"ion-radio-group",9),c.mxI("ngModelChange",(function AddonCalendarFilterComponent_ng_container_10_Template_ion_radio_group_ngModelChange_1_listener(e){c.eBV(n);const o=c.XpG();return c.DH7(o.courseId,e)||(o.courseId=e),c.Njj(e)})),c.bIt("ionChange",(function AddonCalendarFilterComponent_ng_container_10_Template_ion_radio_group_ionChange_1_listener(){c.eBV(n);const e=c.XpG();return c.Njj(e.onChange())})),c.DNE(2,AddonCalendarFilterComponent_ng_container_10_ion_item_2_Template,3,2,"ion-item",10),c.k0s(),c.bVm()}if(2&n){const n=c.XpG();c.R7$(),c.R50("ngModel",n.courseId),c.R7$(),c.Y8G("ngForOf",n.sortedCourses)}}let v=(()=>{var n;class AddonCalendarFilterComponent{constructor(){this.courses=[],this.filter={filtered:!1,courseId:void 0,categoryId:void 0,course:!0,group:!0,site:!0,user:!0,category:!0},this.courseId=-1,this.typeIcons=[],this.types=[],this.sortedCourses=[],t.T.enumKeys(l.rz).forEach((n=>{const e=l.rz[n];this.typeIcons[e]=l.DT[n],this.types.push(e)}))}ngOnInit(){this.courseId=this.filter.courseId||a.ALL_COURSES_ID,this.sortedCourses=Array.from(this.courses).sort(((n,e)=>{var o,t,r,i;return n.id===a.ALL_COURSES_ID?-1:e.id===a.ALL_COURSES_ID?1:(null!==(o=null===(t=n.shortname)||void 0===t?void 0:t.toLowerCase())&&void 0!==o?o:"").localeCompare(null!==(r=null===(i=e.shortname)||void 0===i?void 0:i.toLowerCase())&&void 0!==r?r:"")}))}onChange(){if(this.courseId>0){const n=this.courses.find((n=>this.courseId==n.id));this.filter.courseId=null==n?void 0:n.id,this.filter.categoryId=null==n?void 0:n.categoryid}else this.filter.courseId=void 0,this.filter.categoryId=void 0;this.filter.filtered=!!this.filter.courseId||this.types.some((n=>!this.filter[n])),i.z.trigger(l.Jj,this.filter)}closeModal(){r.W3.dismiss()}}return(n=AddonCalendarFilterComponent).ɵfac=function AddonCalendarFilterComponent_Factory(e){return new(e||n)},n.ɵcmp=c.VBU({type:n,selectors:[["addon-calendar-filter"]],inputs:{courses:"courses",filter:"filter"},standalone:!0,features:[c.aNF],decls:11,vars:7,consts:[[1,"no-title"],["slot","end"],["fill","clear",3,"click","ariaLabel"],["name","fas-xmark","slot","icon-only","aria-hidden","true"],[3,"fullscreen"],["class","addon-calendar-event",3,"ngClass",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"addon-calendar-event",3,"ngClass"],["slot","start","aria-hidden","true",3,"name"],[3,"ngModelChange","ionChange","ngModel"],["class","ion-text-wrap",4,"ngFor","ngForOf"],[1,"ion-text-wrap"],[3,"value"],[3,"text"]],template:function AddonCalendarFilterComponent_Template(n,e){1&n&&(c.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1)(3,"ion-button",2),c.nI1(4,"translate"),c.bIt("click",(function AddonCalendarFilterComponent_Template_ion_button_click_3_listener(){return e.closeModal()})),c.nrm(5,"ion-icon",3),c.k0s()()()(),c.j41(6,"ion-content",4)(7,"ion-list"),c.DNE(8,AddonCalendarFilterComponent_ion_item_8_Template,5,8,"ion-item",5)(9,AddonCalendarFilterComponent_core_spacer_9_Template,1,0,"core-spacer",6)(10,AddonCalendarFilterComponent_ng_container_10_Template,3,2,"ng-container",6),c.k0s()()),2&n&&(c.R7$(3),c.Y8G("ariaLabel",c.bMT(4,5,"core.close")),c.R7$(3),c.Y8G("fullscreen",!0),c.R7$(2),c.Y8G("ngForOf",e.types),c.R7$(),c.Y8G("ngIf",e.filter.course||e.filter.category||e.filter.group),c.R7$(),c.Y8G("ngIf",e.filter.course||e.filter.category||e.filter.group))},dependencies:[d.n,s.YU,s.Sq,s.bT,_.f,g.t,p.B,m.i,C.T,u.BC,u.vS,f.Jm,f.QW,f.W9,f.eU,f.iq,f.uz,f.nf,f.KO,f.f0,f.BY,f.ai,f.hB,f.Je,h.D9],styles:["[_nghost-%COMP%]{--addon-calendar-blank-day-background-color: var(--light)}[_nghost-%COMP%]   .item.addon-calendar-event[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]{color:#fff;border-radius:50%;padding:.7rem;--margin-vertical: 12px;--margin-end: 12px;margin-top:var(--margin-vertical);margin-bottom:var(--margin-vertical);margin-inline-end:var(--margin-end)}[_nghost-%COMP%]   .item.addon-calendar-event.addon-calendar-eventtype-category[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]{background-color:#8e24aa}[_nghost-%COMP%]   .item.addon-calendar-event.addon-calendar-eventtype-course[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]{background-color:#ca3120}[_nghost-%COMP%]   .item.addon-calendar-event.addon-calendar-eventtype-group[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]{background-color:#f0ad4e}[_nghost-%COMP%]   .item.addon-calendar-event.addon-calendar-eventtype-user[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]{background-color:#0f6cbf}[_nghost-%COMP%]   .item.addon-calendar-event.addon-calendar-eventtype-site[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]{background-color:#357a32}","[_nghost-%COMP%]   .item[_ngcontent-%COMP%]   ion-radio[_ngcontent-%COMP%]{margin-inline-end:8px}[_nghost-%COMP%]   .item.addon-calendar-event[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]{--margin-vertical: 8px;--margin-end: 8px;padding:8px;font-size:var(--mdl-typography-icon-fontSize-sm)}"]}),AddonCalendarFilterComponent})()}}]);